<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>10 References | DS4P: Categorical Variables, Fixed Effects, and Interactions</title>
  <meta name="description" content="10 References | DS4P: Categorical Variables, Fixed Effects, and Interactions" />
  <meta name="generator" content="bookdown 0.45 and GitBook 2.6.7" />

  <meta property="og:title" content="10 References | DS4P: Categorical Variables, Fixed Effects, and Interactions" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10 References | DS4P: Categorical Variables, Fixed Effects, and Interactions" />
  
  
  

<meta name="author" content="Data Science for Politics" />


<meta name="date" content="2025-01-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="advanced-topic-include-a-local-image.html"/>
<link rel="next" href="overview-when-predictions-go-wrong.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.11/grViz.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="getting-started-in-r.html"><a href="getting-started-in-r.html"><i class="fa fa-check"></i><b>2</b> Getting Started in R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="getting-started-in-r.html"><a href="getting-started-in-r.html#learning-objectives"><i class="fa fa-check"></i><b>2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="getting-started-in-r.html"><a href="getting-started-in-r.html#preliminary-notes"><i class="fa fa-check"></i><b>2.2</b> Preliminary Notes</a></li>
<li class="chapter" data-level="2.3" data-path="getting-started-in-r.html"><a href="getting-started-in-r.html#r-as-a-calculator"><i class="fa fa-check"></i><b>2.3</b> R as a calculator</a></li>
<li class="chapter" data-level="2.4" data-path="getting-started-in-r.html"><a href="getting-started-in-r.html#assigning-values-to-objects"><i class="fa fa-check"></i><b>2.4</b> Assigning values to objects</a></li>
<li class="chapter" data-level="2.5" data-path="getting-started-in-r.html"><a href="getting-started-in-r.html#the-global-environment-and-how-to-clean-it"><i class="fa fa-check"></i><b>2.5</b> The global environment and how to clean it</a></li>
<li class="chapter" data-level="2.6" data-path="getting-started-in-r.html"><a href="getting-started-in-r.html#getting-help"><i class="fa fa-check"></i><b>2.6</b> Getting help</a></li>
<li class="chapter" data-level="2.7" data-path="getting-started-in-r.html"><a href="getting-started-in-r.html#installing-packages"><i class="fa fa-check"></i><b>2.7</b> Installing packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="what-is-r-markdown-why-r-markdown.html"><a href="what-is-r-markdown-why-r-markdown.html"><i class="fa fa-check"></i><b>3</b> What is R Markdown? Why R Markdown?</a></li>
<li class="chapter" data-level="4" data-path="prerequisites.html"><a href="prerequisites.html"><i class="fa fa-check"></i><b>4</b> Prerequisites</a></li>
<li class="chapter" data-level="5" data-path="create-an-r-markdown-document-in-rstudio.html"><a href="create-an-r-markdown-document-in-rstudio.html"><i class="fa fa-check"></i><b>5</b> Create an R Markdown document in RStudio</a></li>
<li class="chapter" data-level="6" data-path="r-markdown-basics.html"><a href="r-markdown-basics.html"><i class="fa fa-check"></i><b>6</b> R Markdown Basics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="r-markdown-basics.html"><a href="r-markdown-basics.html#yaml-header"><i class="fa fa-check"></i><b>6.1</b> YAML Header</a></li>
<li class="chapter" data-level="6.2" data-path="r-markdown-basics.html"><a href="r-markdown-basics.html#code-chunks"><i class="fa fa-check"></i><b>6.2</b> Code Chunks</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="r-markdown-basics.html"><a href="r-markdown-basics.html#create-a-code-chunk"><i class="fa fa-check"></i><b>6.2.1</b> Create a code chunk</a></li>
<li class="chapter" data-level="6.2.2" data-path="r-markdown-basics.html"><a href="r-markdown-basics.html#chunk-options"><i class="fa fa-check"></i><b>6.2.2</b> Chunk Options</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="r-markdown-basics.html"><a href="r-markdown-basics.html#text-formatting"><i class="fa fa-check"></i><b>6.3</b> Text formatting</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="include-a-plot-generated-from-r-code.html"><a href="include-a-plot-generated-from-r-code.html"><i class="fa fa-check"></i><b>7</b> Include a plot generated from R code</a></li>
<li class="chapter" data-level="8" data-path="get-the-output.html"><a href="get-the-output.html"><i class="fa fa-check"></i><b>8</b> Get the Output</a></li>
<li class="chapter" data-level="9" data-path="advanced-topic-include-a-local-image.html"><a href="advanced-topic-include-a-local-image.html"><i class="fa fa-check"></i><b>9</b> Advanced Topic: Include a Local Image</a></li>
<li class="chapter" data-level="10" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>10</b> References</a>
<ul>
<li class="chapter" data-level="10.1" data-path="references.html"><a href="references.html#learning-objectives-1"><i class="fa fa-check"></i><b>10.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.2" data-path="references.html"><a href="references.html#what-is-this-for"><i class="fa fa-check"></i><b>10.2</b> What Is This For?</a></li>
<li class="chapter" data-level="10.3" data-path="references.html"><a href="references.html#importing-data"><i class="fa fa-check"></i><b>10.3</b> Importing Data</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="references.html"><a href="references.html#download-data-and-load-into-r"><i class="fa fa-check"></i><b>10.3.1</b> Download data and load into R</a></li>
<li class="chapter" data-level="10.3.2" data-path="references.html"><a href="references.html#download-data-directly-into-r"><i class="fa fa-check"></i><b>10.3.2</b> Download data directly into R</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="references.html"><a href="references.html#looking-at-your-data"><i class="fa fa-check"></i><b>10.4</b> Looking at your data</a></li>
<li class="chapter" data-level="10.5" data-path="references.html"><a href="references.html#understand-the-basic-data-structure"><i class="fa fa-check"></i><b>10.5</b> Understand the basic data structure</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="references.html"><a href="references.html#variable-names"><i class="fa fa-check"></i><b>10.5.1</b> Variable names</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="references.html"><a href="references.html#saving-data"><i class="fa fa-check"></i><b>10.6</b> Saving data</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="references.html"><a href="references.html#a-note-on-windows-machines-and-paths"><i class="fa fa-check"></i><b>10.6.1</b> A note on Windows machines and paths</a></li>
<li class="chapter" data-level="10.6.2" data-path="references.html"><a href="references.html#adding-a-variable-to-your-data"><i class="fa fa-check"></i><b>10.6.2</b> Adding a variable to your data</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="references.html"><a href="references.html#vectors-matrices-and-data-frames"><i class="fa fa-check"></i><b>10.7</b> Vectors, Matrices, and Data Frames</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="references.html"><a href="references.html#vectors"><i class="fa fa-check"></i><b>10.7.1</b> Vectors</a></li>
<li class="chapter" data-level="10.7.2" data-path="references.html"><a href="references.html#matrix"><i class="fa fa-check"></i><b>10.7.2</b> Matrix</a></li>
<li class="chapter" data-level="10.7.3" data-path="references.html"><a href="references.html#data-frames"><i class="fa fa-check"></i><b>10.7.3</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="references.html"><a href="references.html#study-questions-for-data-basics-1"><i class="fa fa-check"></i><b>10.8</b> Study Questions for Data Basics 1</a>
<ul>
<li class="chapter" data-level="10.8.1" data-path="references.html"><a href="references.html#importing-data-1"><i class="fa fa-check"></i><b>10.8.1</b> Importing Data</a></li>
<li class="chapter" data-level="10.8.2" data-path="references.html"><a href="references.html#inspecting-and-understanding-data"><i class="fa fa-check"></i><b>10.8.2</b> Inspecting and Understanding Data</a></li>
<li class="chapter" data-level="10.8.3" data-path="references.html"><a href="references.html#saving-and-modifying-data"><i class="fa fa-check"></i><b>10.8.3</b> Saving and Modifying Data</a></li>
<li class="chapter" data-level="10.8.4" data-path="references.html"><a href="references.html#data-structures-in-r"><i class="fa fa-check"></i><b>10.8.4</b> Data Structures in R</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="references.html"><a href="references.html#learning-objectives-2"><i class="fa fa-check"></i><b>10.9</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.10" data-path="references.html"><a href="references.html#what-is-this-for-1"><i class="fa fa-check"></i><b>10.10</b> What Is This For?</a></li>
<li class="chapter" data-level="10.11" data-path="references.html"><a href="references.html#creating-a-practice-dataset"><i class="fa fa-check"></i><b>10.11</b> Creating a Practice Dataset</a></li>
<li class="chapter" data-level="10.12" data-path="references.html"><a href="references.html#method-1-subsetting-with-square-brackets"><i class="fa fa-check"></i><b>10.12</b> Method 1: Subsetting with Square Brackets</a>
<ul>
<li class="chapter" data-level="10.12.1" data-path="references.html"><a href="references.html#keeping-the-data-frame-structure"><i class="fa fa-check"></i><b>10.12.1</b> Keeping the Data Frame Structure</a></li>
<li class="chapter" data-level="10.12.2" data-path="references.html"><a href="references.html#combining-row-and-column-selection"><i class="fa fa-check"></i><b>10.12.2</b> Combining Row and Column Selection</a></li>
<li class="chapter" data-level="10.12.3" data-path="references.html"><a href="references.html#using-numbers-instead-of-names"><i class="fa fa-check"></i><b>10.12.3</b> Using Numbers Instead of Names</a></li>
</ul></li>
<li class="chapter" data-level="10.13" data-path="references.html"><a href="references.html#using-logical-conditions-to-filter-rows"><i class="fa fa-check"></i><b>10.13</b> Using Logical Conditions to Filter Rows</a>
<ul>
<li class="chapter" data-level="10.13.1" data-path="references.html"><a href="references.html#understanding-logical-operators"><i class="fa fa-check"></i><b>10.13.1</b> Understanding Logical Operators</a></li>
<li class="chapter" data-level="10.13.2" data-path="references.html"><a href="references.html#filtering-rows-with-conditions"><i class="fa fa-check"></i><b>10.13.2</b> Filtering Rows with Conditions</a></li>
<li class="chapter" data-level="10.13.3" data-path="references.html"><a href="references.html#combining-multiple-conditions"><i class="fa fa-check"></i><b>10.13.3</b> Combining Multiple Conditions</a></li>
</ul></li>
<li class="chapter" data-level="10.14" data-path="references.html"><a href="references.html#method-2-the-subset-function"><i class="fa fa-check"></i><b>10.14</b> Method 2: The subset() Function</a>
<ul>
<li class="chapter" data-level="10.14.1" data-path="references.html"><a href="references.html#selecting-specific-columns-with-subset"><i class="fa fa-check"></i><b>10.14.1</b> Selecting Specific Columns with subset()</a></li>
<li class="chapter" data-level="10.14.2" data-path="references.html"><a href="references.html#combining-row-and-column-operations"><i class="fa fa-check"></i><b>10.14.2</b> Combining Row and Column Operations</a></li>
<li class="chapter" data-level="10.14.3" data-path="references.html"><a href="references.html#handling-missing-values"><i class="fa fa-check"></i><b>10.14.3</b> Handling Missing Values</a></li>
</ul></li>
<li class="chapter" data-level="10.15" data-path="references.html"><a href="references.html#method-3-modern-subsetting-with-dplyr"><i class="fa fa-check"></i><b>10.15</b> Method 3: Modern Subsetting with dplyr</a>
<ul>
<li class="chapter" data-level="10.15.1" data-path="references.html"><a href="references.html#understanding-the-pipe-operator"><i class="fa fa-check"></i><b>10.15.1</b> Understanding the Pipe Operator</a></li>
<li class="chapter" data-level="10.15.2" data-path="references.html"><a href="references.html#filtering-rows-with-filter"><i class="fa fa-check"></i><b>10.15.2</b> Filtering Rows with filter()</a></li>
<li class="chapter" data-level="10.15.3" data-path="references.html"><a href="references.html#selecting-columns-with-select"><i class="fa fa-check"></i><b>10.15.3</b> Selecting Columns with select()</a></li>
<li class="chapter" data-level="10.15.4" data-path="references.html"><a href="references.html#chaining-operations"><i class="fa fa-check"></i><b>10.15.4</b> Chaining Operations</a></li>
<li class="chapter" data-level="10.15.5" data-path="references.html"><a href="references.html#complex-conditions"><i class="fa fa-check"></i><b>10.15.5</b> Complex Conditions</a></li>
</ul></li>
<li class="chapter" data-level="10.16" data-path="references.html"><a href="references.html#important-considerations"><i class="fa fa-check"></i><b>10.16</b> Important Considerations</a>
<ul>
<li class="chapter" data-level="10.16.1" data-path="references.html"><a href="references.html#saving-your-subsets"><i class="fa fa-check"></i><b>10.16.1</b> Saving Your Subsets</a></li>
<li class="chapter" data-level="10.16.2" data-path="references.html"><a href="references.html#pipes-dont-modify-the-original-data"><i class="fa fa-check"></i><b>10.16.2</b> Pipes Don’t Modify the Original Data</a></li>
</ul></li>
<li class="chapter" data-level="10.17" data-path="references.html"><a href="references.html#which-method-should-you-use"><i class="fa fa-check"></i><b>10.17</b> Which Method Should You Use?</a></li>
<li class="chapter" data-level="10.18" data-path="references.html"><a href="references.html#common-pitfalls-and-how-to-avoid-them"><i class="fa fa-check"></i><b>10.18</b> Common Pitfalls and How to Avoid Them</a>
<ul>
<li class="chapter" data-level="10.18.1" data-path="references.html"><a href="references.html#forgetting-quotes-around-character-values"><i class="fa fa-check"></i><b>10.18.1</b> 1. Forgetting Quotes Around Character Values</a></li>
<li class="chapter" data-level="10.18.2" data-path="references.html"><a href="references.html#mixing-data-types-in-comparisons"><i class="fa fa-check"></i><b>10.18.2</b> 2. Mixing Data Types in Comparisons</a></li>
<li class="chapter" data-level="10.18.3" data-path="references.html"><a href="references.html#not-handling-missing-values"><i class="fa fa-check"></i><b>10.18.3</b> 3. Not Handling Missing Values</a></li>
</ul></li>
<li class="chapter" data-level="10.19" data-path="references.html"><a href="references.html#summary"><i class="fa fa-check"></i><b>10.19</b> Summary</a></li>
<li class="chapter" data-level="10.20" data-path="references.html"><a href="references.html#study-questions-for-data-basics-2"><i class="fa fa-check"></i><b>10.20</b> Study Questions for Data Basics 2</a>
<ul>
<li class="chapter" data-level="10.20.1" data-path="references.html"><a href="references.html#understanding-subsetting-concepts"><i class="fa fa-check"></i><b>10.20.1</b> Understanding Subsetting Concepts</a></li>
<li class="chapter" data-level="10.20.2" data-path="references.html"><a href="references.html#logical-operators-and-conditions"><i class="fa fa-check"></i><b>10.20.2</b> Logical Operators and Conditions</a></li>
<li class="chapter" data-level="10.20.3" data-path="references.html"><a href="references.html#using-subset"><i class="fa fa-check"></i><b>10.20.3</b> Using subset()</a></li>
<li class="chapter" data-level="10.20.4" data-path="references.html"><a href="references.html#working-with-dplyr"><i class="fa fa-check"></i><b>10.20.4</b> Working with dplyr</a></li>
<li class="chapter" data-level="10.20.5" data-path="references.html"><a href="references.html#handling-missing-values-1"><i class="fa fa-check"></i><b>10.20.5</b> Handling Missing Values</a></li>
<li class="chapter" data-level="10.20.6" data-path="references.html"><a href="references.html#common-mistakes"><i class="fa fa-check"></i><b>10.20.6</b> Common Mistakes</a></li>
</ul></li>
<li class="chapter" data-level="10.21" data-path="references.html"><a href="references.html#learning-objectives-3"><i class="fa fa-check"></i><b>10.21</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.22" data-path="references.html"><a href="references.html#what-is-this-for-2"><i class="fa fa-check"></i><b>10.22</b> What Is This For?</a></li>
<li class="chapter" data-level="10.23" data-path="references.html"><a href="references.html#basic-data-types-in-r"><i class="fa fa-check"></i><b>10.23</b> Basic Data Types in R</a>
<ul>
<li class="chapter" data-level="10.23.1" data-path="references.html"><a href="references.html#the-five-main-data-types"><i class="fa fa-check"></i><b>10.23.1</b> The Five Main Data Types</a></li>
<li class="chapter" data-level="10.23.2" data-path="references.html"><a href="references.html#why-data-types-matter"><i class="fa fa-check"></i><b>10.23.2</b> Why Data Types Matter</a></li>
</ul></li>
<li class="chapter" data-level="10.24" data-path="references.html"><a href="references.html#working-with-data-types"><i class="fa fa-check"></i><b>10.24</b> Working with Data Types</a>
<ul>
<li class="chapter" data-level="10.24.1" data-path="references.html"><a href="references.html#checking-data-types"><i class="fa fa-check"></i><b>10.24.1</b> Checking Data Types</a></li>
<li class="chapter" data-level="10.24.2" data-path="references.html"><a href="references.html#converting-between-types"><i class="fa fa-check"></i><b>10.24.2</b> Converting Between Types</a></li>
<li class="chapter" data-level="10.24.3" data-path="references.html"><a href="references.html#understanding-factors"><i class="fa fa-check"></i><b>10.24.3</b> Understanding Factors</a></li>
</ul></li>
<li class="chapter" data-level="10.25" data-path="references.html"><a href="references.html#levels-of-measurement"><i class="fa fa-check"></i><b>10.25</b> Levels of Measurement</a>
<ul>
<li class="chapter" data-level="10.25.1" data-path="references.html"><a href="references.html#nominal-categorical-scale"><i class="fa fa-check"></i><b>10.25.1</b> 1. Nominal (Categorical) Scale</a></li>
<li class="chapter" data-level="10.25.2" data-path="references.html"><a href="references.html#ordinal-scale"><i class="fa fa-check"></i><b>10.25.2</b> 2. Ordinal Scale</a></li>
<li class="chapter" data-level="10.25.3" data-path="references.html"><a href="references.html#interval-scale"><i class="fa fa-check"></i><b>10.25.3</b> 3. Interval Scale</a></li>
<li class="chapter" data-level="10.25.4" data-path="references.html"><a href="references.html#ratio-scale"><i class="fa fa-check"></i><b>10.25.4</b> 4. Ratio Scale</a></li>
</ul></li>
<li class="chapter" data-level="10.26" data-path="references.html"><a href="references.html#discrete-vs.-continuous-variables"><i class="fa fa-check"></i><b>10.26</b> Discrete vs. Continuous Variables</a>
<ul>
<li class="chapter" data-level="10.26.1" data-path="references.html"><a href="references.html#discrete-variables"><i class="fa fa-check"></i><b>10.26.1</b> Discrete Variables</a></li>
<li class="chapter" data-level="10.26.2" data-path="references.html"><a href="references.html#continuous-variables"><i class="fa fa-check"></i><b>10.26.2</b> Continuous Variables</a></li>
</ul></li>
<li class="chapter" data-level="10.27" data-path="references.html"><a href="references.html#the-information-hierarchy"><i class="fa fa-check"></i><b>10.27</b> The Information Hierarchy</a>
<ul>
<li class="chapter" data-level="10.27.1" data-path="references.html"><a href="references.html#example-income-data"><i class="fa fa-check"></i><b>10.27.1</b> Example: Income Data</a></li>
</ul></li>
<li class="chapter" data-level="10.28" data-path="references.html"><a href="references.html#practical-guidelines"><i class="fa fa-check"></i><b>10.28</b> Practical Guidelines</a>
<ul>
<li class="chapter" data-level="10.28.1" data-path="references.html"><a href="references.html#choosing-how-to-measure"><i class="fa fa-check"></i><b>10.28.1</b> Choosing How to Measure</a></li>
<li class="chapter" data-level="10.28.2" data-path="references.html"><a href="references.html#common-pitfalls-to-avoid"><i class="fa fa-check"></i><b>10.28.2</b> Common Pitfalls to Avoid</a></li>
</ul></li>
<li class="chapter" data-level="10.29" data-path="references.html"><a href="references.html#summary-1"><i class="fa fa-check"></i><b>10.29</b> Summary</a></li>
<li class="chapter" data-level="10.30" data-path="references.html"><a href="references.html#study-questions"><i class="fa fa-check"></i><b>10.30</b> Study Questions</a>
<ul>
<li class="chapter" data-level="10.30.1" data-path="references.html"><a href="references.html#data-types-in-r"><i class="fa fa-check"></i><b>10.30.1</b> Data Types in R</a></li>
<li class="chapter" data-level="10.30.2" data-path="references.html"><a href="references.html#factors"><i class="fa fa-check"></i><b>10.30.2</b> Factors</a></li>
<li class="chapter" data-level="10.30.3" data-path="references.html"><a href="references.html#levels-of-measurement-1"><i class="fa fa-check"></i><b>10.30.3</b> Levels of Measurement</a></li>
<li class="chapter" data-level="10.30.4" data-path="references.html"><a href="references.html#converting-between-levels"><i class="fa fa-check"></i><b>10.30.4</b> Converting Between Levels</a></li>
<li class="chapter" data-level="10.30.5" data-path="references.html"><a href="references.html#discrete-vs.-continuous"><i class="fa fa-check"></i><b>10.30.5</b> Discrete vs. Continuous</a></li>
<li class="chapter" data-level="10.30.6" data-path="references.html"><a href="references.html#practical-applications"><i class="fa fa-check"></i><b>10.30.6</b> Practical Applications</a></li>
</ul></li>
<li class="chapter" data-level="10.31" data-path="references.html"><a href="references.html#learning-objectives-4"><i class="fa fa-check"></i><b>10.31</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.32" data-path="references.html"><a href="references.html#what-is-this-for-3"><i class="fa fa-check"></i><b>10.32</b> What Is This For?</a></li>
<li class="chapter" data-level="10.33" data-path="references.html"><a href="references.html#the-cces-dataset"><i class="fa fa-check"></i><b>10.33</b> The CCES Dataset</a></li>
<li class="chapter" data-level="10.34" data-path="references.html"><a href="references.html#creating-new-variables-from-scratch"><i class="fa fa-check"></i><b>10.34</b> Creating New Variables from Scratch</a>
<ul>
<li class="chapter" data-level="10.34.1" data-path="references.html"><a href="references.html#adding-constants"><i class="fa fa-check"></i><b>10.34.1</b> Adding Constants</a></li>
<li class="chapter" data-level="10.34.2" data-path="references.html"><a href="references.html#simple-arithmetic-combinations"><i class="fa fa-check"></i><b>10.34.2</b> Simple Arithmetic Combinations</a></li>
</ul></li>
<li class="chapter" data-level="10.35" data-path="references.html"><a href="references.html#mathematical-transformations"><i class="fa fa-check"></i><b>10.35</b> Mathematical Transformations</a>
<ul>
<li class="chapter" data-level="10.35.1" data-path="references.html"><a href="references.html#rescaling-variables"><i class="fa fa-check"></i><b>10.35.1</b> Rescaling Variables</a></li>
</ul></li>
<li class="chapter" data-level="10.36" data-path="references.html"><a href="references.html#recoding-variables"><i class="fa fa-check"></i><b>10.36</b> Recoding Variables</a>
<ul>
<li class="chapter" data-level="10.36.1" data-path="references.html"><a href="references.html#using-base-r-methods"><i class="fa fa-check"></i><b>10.36.1</b> Using Base R Methods</a></li>
<li class="chapter" data-level="10.36.2" data-path="references.html"><a href="references.html#using-dplyr-methods"><i class="fa fa-check"></i><b>10.36.2</b> Using dplyr Methods</a></li>
<li class="chapter" data-level="10.36.3" data-path="references.html"><a href="references.html#reversing-scales"><i class="fa fa-check"></i><b>10.36.3</b> Reversing Scales</a></li>
</ul></li>
<li class="chapter" data-level="10.37" data-path="references.html"><a href="references.html#creating-categorical-variables-from-continuous-data"><i class="fa fa-check"></i><b>10.37</b> Creating Categorical Variables from Continuous Data</a>
<ul>
<li class="chapter" data-level="10.37.1" data-path="references.html"><a href="references.html#equal-width-categories"><i class="fa fa-check"></i><b>10.37.1</b> Equal-Width Categories</a></li>
<li class="chapter" data-level="10.37.2" data-path="references.html"><a href="references.html#creating-meaningful-breakpoints"><i class="fa fa-check"></i><b>10.37.2</b> Creating Meaningful Breakpoints</a></li>
</ul></li>
<li class="chapter" data-level="10.38" data-path="references.html"><a href="references.html#creating-dummyindicator-variables"><i class="fa fa-check"></i><b>10.38</b> Creating Dummy/Indicator Variables</a>
<ul>
<li class="chapter" data-level="10.38.1" data-path="references.html"><a href="references.html#manual-creation"><i class="fa fa-check"></i><b>10.38.1</b> Manual Creation</a></li>
<li class="chapter" data-level="10.38.2" data-path="references.html"><a href="references.html#using-logical-operators-for-complex-cases"><i class="fa fa-check"></i><b>10.38.2</b> Using Logical Operators for Complex Cases</a></li>
<li class="chapter" data-level="10.38.3" data-path="references.html"><a href="references.html#using-the-fastdummies-package"><i class="fa fa-check"></i><b>10.38.3</b> Using the fastDummies Package</a></li>
</ul></li>
<li class="chapter" data-level="10.39" data-path="references.html"><a href="references.html#conditional-variable-creation"><i class="fa fa-check"></i><b>10.39</b> Conditional Variable Creation</a>
<ul>
<li class="chapter" data-level="10.39.1" data-path="references.html"><a href="references.html#creating-voter-typologies"><i class="fa fa-check"></i><b>10.39.1</b> Creating Voter Typologies</a></li>
</ul></li>
<li class="chapter" data-level="10.40" data-path="references.html"><a href="references.html#best-practices-and-common-pitfalls"><i class="fa fa-check"></i><b>10.40</b> Best Practices and Common Pitfalls</a>
<ul>
<li class="chapter" data-level="10.40.1" data-path="references.html"><a href="references.html#document-your-transformations"><i class="fa fa-check"></i><b>10.40.1</b> Document Your Transformations</a></li>
<li class="chapter" data-level="10.40.2" data-path="references.html"><a href="references.html#chain-multiple-transformations"><i class="fa fa-check"></i><b>10.40.2</b> Chain Multiple Transformations</a></li>
<li class="chapter" data-level="10.40.3" data-path="references.html"><a href="references.html#handle-missing-values-explicitly"><i class="fa fa-check"></i><b>10.40.3</b> Handle Missing Values Explicitly</a></li>
</ul></li>
<li class="chapter" data-level="10.41" data-path="references.html"><a href="references.html#summary-2"><i class="fa fa-check"></i><b>10.41</b> Summary</a></li>
<li class="chapter" data-level="10.42" data-path="references.html"><a href="references.html#study-questions-1"><i class="fa fa-check"></i><b>10.42</b> Study Questions</a>
<ul>
<li class="chapter" data-level="10.42.1" data-path="references.html"><a href="references.html#understanding-variable-creation-basics"><i class="fa fa-check"></i><b>10.42.1</b> Understanding Variable Creation Basics</a></li>
<li class="chapter" data-level="10.42.2" data-path="references.html"><a href="references.html#simple-recoding"><i class="fa fa-check"></i><b>10.42.2</b> Simple Recoding</a></li>
<li class="chapter" data-level="10.42.3" data-path="references.html"><a href="references.html#using-cut-for-categories"><i class="fa fa-check"></i><b>10.42.3</b> Using cut() for Categories</a></li>
<li class="chapter" data-level="10.42.4" data-path="references.html"><a href="references.html#creating-dummy-variables"><i class="fa fa-check"></i><b>10.42.4</b> Creating Dummy Variables</a></li>
<li class="chapter" data-level="10.42.5" data-path="references.html"><a href="references.html#understanding-dplyr-basics"><i class="fa fa-check"></i><b>10.42.5</b> Understanding dplyr Basics</a></li>
<li class="chapter" data-level="10.42.6" data-path="references.html"><a href="references.html#working-with-missing-values"><i class="fa fa-check"></i><b>10.42.6</b> Working with Missing Values</a></li>
</ul></li>
<li class="chapter" data-level="10.43" data-path="references.html"><a href="references.html#learning-objectives-5"><i class="fa fa-check"></i><b>10.43</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.44" data-path="references.html"><a href="references.html#what-is-this-for-4"><i class="fa fa-check"></i><b>10.44</b> What Is This For?</a></li>
<li class="chapter" data-level="10.45" data-path="references.html"><a href="references.html#the-mean-adding-it-all-up"><i class="fa fa-check"></i><b>10.45</b> The Mean: Adding It All Up</a>
<ul>
<li class="chapter" data-level="10.45.1" data-path="references.html"><a href="references.html#understanding-the-mean"><i class="fa fa-check"></i><b>10.45.1</b> Understanding the Mean</a></li>
<li class="chapter" data-level="10.45.2" data-path="references.html"><a href="references.html#when-to-use-the-mean"><i class="fa fa-check"></i><b>10.45.2</b> When to Use the Mean</a></li>
<li class="chapter" data-level="10.45.3" data-path="references.html"><a href="references.html#the-means-achilles-heel-outliers"><i class="fa fa-check"></i><b>10.45.3</b> The Mean’s Achilles’ Heel: Outliers</a></li>
<li class="chapter" data-level="10.45.4" data-path="references.html"><a href="references.html#the-trimmed-mean-a-compromise"><i class="fa fa-check"></i><b>10.45.4</b> The Trimmed Mean: A Compromise</a></li>
</ul></li>
<li class="chapter" data-level="10.46" data-path="references.html"><a href="references.html#the-median-finding-the-middle"><i class="fa fa-check"></i><b>10.46</b> The Median: Finding the Middle</a>
<ul>
<li class="chapter" data-level="10.46.1" data-path="references.html"><a href="references.html#understanding-the-median"><i class="fa fa-check"></i><b>10.46.1</b> Understanding the Median</a></li>
<li class="chapter" data-level="10.46.2" data-path="references.html"><a href="references.html#the-median-and-other-percentiles"><i class="fa fa-check"></i><b>10.46.2</b> The Median and Other Percentiles</a></li>
<li class="chapter" data-level="10.46.3" data-path="references.html"><a href="references.html#the-interquartile-range-iqr"><i class="fa fa-check"></i><b>10.46.3</b> The Interquartile Range (IQR)</a></li>
<li class="chapter" data-level="10.46.4" data-path="references.html"><a href="references.html#when-to-use-the-median"><i class="fa fa-check"></i><b>10.46.4</b> When to Use the Median</a></li>
<li class="chapter" data-level="10.46.5" data-path="references.html"><a href="references.html#the-medians-robustness"><i class="fa fa-check"></i><b>10.46.5</b> The Median’s Robustness</a></li>
</ul></li>
<li class="chapter" data-level="10.47" data-path="references.html"><a href="references.html#the-mode-most-common-value"><i class="fa fa-check"></i><b>10.47</b> The Mode: Most Common Value</a>
<ul>
<li class="chapter" data-level="10.47.1" data-path="references.html"><a href="references.html#understanding-the-mode"><i class="fa fa-check"></i><b>10.47.1</b> Understanding the Mode</a></li>
<li class="chapter" data-level="10.47.2" data-path="references.html"><a href="references.html#finding-the-mode-in-r"><i class="fa fa-check"></i><b>10.47.2</b> Finding the Mode in R</a></li>
<li class="chapter" data-level="10.47.3" data-path="references.html"><a href="references.html#finding-the-mode-with-numeric-data"><i class="fa fa-check"></i><b>10.47.3</b> Finding the Mode with Numeric Data</a></li>
<li class="chapter" data-level="10.47.4" data-path="references.html"><a href="references.html#bimodal-distributions"><i class="fa fa-check"></i><b>10.47.4</b> Bimodal Distributions</a></li>
</ul></li>
<li class="chapter" data-level="10.48" data-path="references.html"><a href="references.html#comparing-the-three-measures"><i class="fa fa-check"></i><b>10.48</b> Comparing the Three Measures</a>
<ul>
<li class="chapter" data-level="10.48.1" data-path="references.html"><a href="references.html#how-skew-affects-central-tendency"><i class="fa fa-check"></i><b>10.48.1</b> How Skew Affects Central Tendency</a></li>
<li class="chapter" data-level="10.48.2" data-path="references.html"><a href="references.html#detecting-skew-without-drawing-the-distribution"><i class="fa fa-check"></i><b>10.48.2</b> Detecting Skew Without Drawing the Distribution</a></li>
<li class="chapter" data-level="10.48.3" data-path="references.html"><a href="references.html#real-example-congressional-ages"><i class="fa fa-check"></i><b>10.48.3</b> Real Example: Congressional Ages</a></li>
<li class="chapter" data-level="10.48.4" data-path="references.html"><a href="references.html#using-summary-for-a-quick-overview"><i class="fa fa-check"></i><b>10.48.4</b> Using summary() for a Quick Overview</a></li>
</ul></li>
<li class="chapter" data-level="10.49" data-path="references.html"><a href="references.html#practical-guidelines-1"><i class="fa fa-check"></i><b>10.49</b> Practical Guidelines</a>
<ul>
<li class="chapter" data-level="10.49.1" data-path="references.html"><a href="references.html#choosing-the-right-measure"><i class="fa fa-check"></i><b>10.49.1</b> Choosing the Right Measure</a></li>
<li class="chapter" data-level="10.49.2" data-path="references.html"><a href="references.html#reporting-best-practices"><i class="fa fa-check"></i><b>10.49.2</b> Reporting Best Practices</a></li>
</ul></li>
<li class="chapter" data-level="10.50" data-path="references.html"><a href="references.html#things-to-look-out-for"><i class="fa fa-check"></i><b>10.50</b> Things to Look Out For</a>
<ul>
<li class="chapter" data-level="10.50.1" data-path="references.html"><a href="references.html#data-entry-errors-can-change-everything"><i class="fa fa-check"></i><b>10.50.1</b> Data Entry Errors Can Change Everything</a></li>
<li class="chapter" data-level="10.50.2" data-path="references.html"><a href="references.html#when-excel-errors-shape-government-policy"><i class="fa fa-check"></i><b>10.50.2</b> When Excel Errors Shape Government Policy</a></li>
<li class="chapter" data-level="10.50.3" data-path="references.html"><a href="references.html#special-values-in-older-datasets"><i class="fa fa-check"></i><b>10.50.3</b> Special Values in Older Datasets</a></li>
<li class="chapter" data-level="10.50.4" data-path="references.html"><a href="references.html#the-takeaway"><i class="fa fa-check"></i><b>10.50.4</b> The Takeaway</a></li>
</ul></li>
<li class="chapter" data-level="10.51" data-path="references.html"><a href="references.html#study-questions-for-central-tendency"><i class="fa fa-check"></i><b>10.51</b> Study Questions for Central Tendency</a>
<ul>
<li class="chapter" data-level="10.51.1" data-path="references.html"><a href="references.html#understanding-the-concepts"><i class="fa fa-check"></i><b>10.51.1</b> Understanding the Concepts</a></li>
<li class="chapter" data-level="10.51.2" data-path="references.html"><a href="references.html#understanding-position"><i class="fa fa-check"></i><b>10.51.2</b> Understanding Position</a></li>
<li class="chapter" data-level="10.51.3" data-path="references.html"><a href="references.html#comparing-measures"><i class="fa fa-check"></i><b>10.51.3</b> Comparing Measures</a></li>
<li class="chapter" data-level="10.51.4" data-path="references.html"><a href="references.html#practical-applications-1"><i class="fa fa-check"></i><b>10.51.4</b> Practical Applications</a></li>
<li class="chapter" data-level="10.51.5" data-path="references.html"><a href="references.html#working-with-r"><i class="fa fa-check"></i><b>10.51.5</b> Working with R</a></li>
<li class="chapter" data-level="10.51.6" data-path="references.html"><a href="references.html#interpretation"><i class="fa fa-check"></i><b>10.51.6</b> Interpretation</a></li>
<li class="chapter" data-level="10.51.7" data-path="references.html"><a href="references.html#critical-thinking"><i class="fa fa-check"></i><b>10.51.7</b> Critical Thinking</a></li>
</ul></li>
<li class="chapter" data-level="10.52" data-path="references.html"><a href="references.html#learning-objectives-6"><i class="fa fa-check"></i><b>10.52</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.53" data-path="references.html"><a href="references.html#what-is-this-for-5"><i class="fa fa-check"></i><b>10.53</b> What Is This For?</a></li>
<li class="chapter" data-level="10.54" data-path="references.html"><a href="references.html#simple-measures-of-spread"><i class="fa fa-check"></i><b>10.54</b> Simple Measures of Spread</a>
<ul>
<li class="chapter" data-level="10.54.1" data-path="references.html"><a href="references.html#range"><i class="fa fa-check"></i><b>10.54.1</b> Range</a></li>
<li class="chapter" data-level="10.54.2" data-path="references.html"><a href="references.html#interquartile-range-iqr"><i class="fa fa-check"></i><b>10.54.2</b> Interquartile Range (IQR)</a></li>
</ul></li>
<li class="chapter" data-level="10.55" data-path="references.html"><a href="references.html#understanding-deviations"><i class="fa fa-check"></i><b>10.55</b> Understanding Deviations</a></li>
<li class="chapter" data-level="10.56" data-path="references.html"><a href="references.html#variance-the-foundation-of-statistical-spread"><i class="fa fa-check"></i><b>10.56</b> Variance: The Foundation of Statistical Spread</a>
<ul>
<li class="chapter" data-level="10.56.1" data-path="references.html"><a href="references.html#understanding-variance-units"><i class="fa fa-check"></i><b>10.56.1</b> Understanding Variance Units</a></li>
</ul></li>
<li class="chapter" data-level="10.57" data-path="references.html"><a href="references.html#standard-deviation-variance-made-practical"><i class="fa fa-check"></i><b>10.57</b> Standard Deviation: Variance Made Practical</a>
<ul>
<li class="chapter" data-level="10.57.1" data-path="references.html"><a href="references.html#interpreting-standard-deviation"><i class="fa fa-check"></i><b>10.57.1</b> Interpreting Standard Deviation</a></li>
<li class="chapter" data-level="10.57.2" data-path="references.html"><a href="references.html#standard-deviation-and-outliers"><i class="fa fa-check"></i><b>10.57.2</b> Standard Deviation and Outliers</a></li>
</ul></li>
<li class="chapter" data-level="10.58" data-path="references.html"><a href="references.html#the-empirical-rule-68-95-99.7-rule"><i class="fa fa-check"></i><b>10.58</b> The Empirical Rule (68-95-99.7 Rule)</a>
<ul>
<li class="chapter" data-level="10.58.1" data-path="references.html"><a href="references.html#when-to-use-the-empirical-rule"><i class="fa fa-check"></i><b>10.58.1</b> When to Use the Empirical Rule</a></li>
<li class="chapter" data-level="10.58.2" data-path="references.html"><a href="references.html#video-understanding-the-empirical-rule"><i class="fa fa-check"></i><b>10.58.2</b> Video: Understanding the Empirical Rule</a></li>
</ul></li>
<li class="chapter" data-level="10.59" data-path="references.html"><a href="references.html#calculating-dispersion-in-r"><i class="fa fa-check"></i><b>10.59</b> Calculating Dispersion in R</a>
<ul>
<li class="chapter" data-level="10.59.1" data-path="references.html"><a href="references.html#calculating-basic-measures"><i class="fa fa-check"></i><b>10.59.1</b> Calculating Basic Measures</a></li>
<li class="chapter" data-level="10.59.2" data-path="references.html"><a href="references.html#variance-and-standard-deviation"><i class="fa fa-check"></i><b>10.59.2</b> Variance and Standard Deviation</a></li>
<li class="chapter" data-level="10.59.3" data-path="references.html"><a href="references.html#comparing-measures-of-spread"><i class="fa fa-check"></i><b>10.59.3</b> Comparing Measures of Spread</a></li>
</ul></li>
<li class="chapter" data-level="10.60" data-path="references.html"><a href="references.html#which-measure-should-you-use"><i class="fa fa-check"></i><b>10.60</b> Which Measure Should You Use?</a>
<ul>
<li class="chapter" data-level="10.60.1" data-path="references.html"><a href="references.html#use-range-when"><i class="fa fa-check"></i><b>10.60.1</b> Use Range when:</a></li>
<li class="chapter" data-level="10.60.2" data-path="references.html"><a href="references.html#use-iqr-when"><i class="fa fa-check"></i><b>10.60.2</b> Use IQR when:</a></li>
<li class="chapter" data-level="10.60.3" data-path="references.html"><a href="references.html#use-standard-deviation-when"><i class="fa fa-check"></i><b>10.60.3</b> Use Standard Deviation when:</a></li>
</ul></li>
<li class="chapter" data-level="10.61" data-path="references.html"><a href="references.html#common-pitfalls"><i class="fa fa-check"></i><b>10.61</b> Common Pitfalls</a>
<ul>
<li class="chapter" data-level="10.61.1" data-path="references.html"><a href="references.html#forgetting-na.rm-true"><i class="fa fa-check"></i><b>10.61.1</b> 1. Forgetting na.rm = TRUE</a></li>
<li class="chapter" data-level="10.61.2" data-path="references.html"><a href="references.html#misinterpreting-large-standard-deviations"><i class="fa fa-check"></i><b>10.61.2</b> 2. Misinterpreting Large Standard Deviations</a></li>
<li class="chapter" data-level="10.61.3" data-path="references.html"><a href="references.html#using-standard-deviation-with-skewed-data"><i class="fa fa-check"></i><b>10.61.3</b> 3. Using Standard Deviation with Skewed Data</a></li>
</ul></li>
<li class="chapter" data-level="10.62" data-path="references.html"><a href="references.html#summary-3"><i class="fa fa-check"></i><b>10.62</b> Summary</a></li>
<li class="chapter" data-level="10.63" data-path="references.html"><a href="references.html#study-questions-2"><i class="fa fa-check"></i><b>10.63</b> Study Questions</a>
<ul>
<li class="chapter" data-level="10.63.1" data-path="references.html"><a href="references.html#conceptual-understanding"><i class="fa fa-check"></i><b>10.63.1</b> Conceptual Understanding</a></li>
<li class="chapter" data-level="10.63.2" data-path="references.html"><a href="references.html#interpretation-1"><i class="fa fa-check"></i><b>10.63.2</b> Interpretation</a></li>
<li class="chapter" data-level="10.63.3" data-path="references.html"><a href="references.html#calculation-practice"><i class="fa fa-check"></i><b>10.63.3</b> Calculation Practice</a></li>
<li class="chapter" data-level="10.63.4" data-path="references.html"><a href="references.html#r-programming"><i class="fa fa-check"></i><b>10.63.4</b> R Programming</a></li>
<li class="chapter" data-level="10.63.5" data-path="references.html"><a href="references.html#critical-thinking-1"><i class="fa fa-check"></i><b>10.63.5</b> Critical Thinking</a></li>
</ul></li>
<li class="chapter" data-level="10.64" data-path="references.html"><a href="references.html#learning-objectives-7"><i class="fa fa-check"></i><b>10.64</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.65" data-path="references.html"><a href="references.html#getting-started-with-the-data"><i class="fa fa-check"></i><b>10.65</b> Getting Started with the Data</a></li>
<li class="chapter" data-level="10.66" data-path="references.html"><a href="references.html#basic-statistics-with-summarise"><i class="fa fa-check"></i><b>10.66</b> Basic Statistics with summarise()</a>
<ul>
<li class="chapter" data-level="10.66.1" data-path="references.html"><a href="references.html#calculating-a-single-statistic"><i class="fa fa-check"></i><b>10.66.1</b> Calculating a Single Statistic</a></li>
<li class="chapter" data-level="10.66.2" data-path="references.html"><a href="references.html#multiple-statistics-for-one-variable"><i class="fa fa-check"></i><b>10.66.2</b> Multiple Statistics for One Variable</a></li>
<li class="chapter" data-level="10.66.3" data-path="references.html"><a href="references.html#multiple-variables-multiple-statistics"><i class="fa fa-check"></i><b>10.66.3</b> Multiple Variables, Multiple Statistics</a></li>
</ul></li>
<li class="chapter" data-level="10.67" data-path="references.html"><a href="references.html#common-statistical-functions"><i class="fa fa-check"></i><b>10.67</b> Common Statistical Functions</a>
<ul>
<li class="chapter" data-level="10.67.1" data-path="references.html"><a href="references.html#example-complete-summary"><i class="fa fa-check"></i><b>10.67.1</b> Example: Complete Summary</a></li>
</ul></li>
<li class="chapter" data-level="10.68" data-path="references.html"><a href="references.html#group-wise-statistics-with-group_by"><i class="fa fa-check"></i><b>10.68</b> Group-wise Statistics with group_by()</a>
<ul>
<li class="chapter" data-level="10.68.1" data-path="references.html"><a href="references.html#creating-groups-for-analysis"><i class="fa fa-check"></i><b>10.68.1</b> Creating Groups for Analysis</a></li>
<li class="chapter" data-level="10.68.2" data-path="references.html"><a href="references.html#calculating-statistics-by-group"><i class="fa fa-check"></i><b>10.68.2</b> Calculating Statistics by Group</a></li>
<li class="chapter" data-level="10.68.3" data-path="references.html"><a href="references.html#multiple-grouping-variables"><i class="fa fa-check"></i><b>10.68.3</b> Multiple Grouping Variables</a></li>
</ul></li>
<li class="chapter" data-level="10.69" data-path="references.html"><a href="references.html#practical-examples"><i class="fa fa-check"></i><b>10.69</b> Practical Examples</a>
<ul>
<li class="chapter" data-level="10.69.1" data-path="references.html"><a href="references.html#example-1-comparing-young-population-by-education-spending"><i class="fa fa-check"></i><b>10.69.1</b> Example 1: Comparing Young Population by Education Spending</a></li>
<li class="chapter" data-level="10.69.2" data-path="references.html"><a href="references.html#example-2-income-statistics-by-urbanization"><i class="fa fa-check"></i><b>10.69.2</b> Example 2: Income Statistics by Urbanization</a></li>
<li class="chapter" data-level="10.69.3" data-path="references.html"><a href="references.html#example-3-complete-summary-table"><i class="fa fa-check"></i><b>10.69.3</b> Example 3: Complete Summary Table</a></li>
</ul></li>
<li class="chapter" data-level="10.70" data-path="references.html"><a href="references.html#important-notes"><i class="fa fa-check"></i><b>10.70</b> Important Notes</a>
<ul>
<li class="chapter" data-level="10.70.1" data-path="references.html"><a href="references.html#saving-your-results"><i class="fa fa-check"></i><b>10.70.1</b> Saving Your Results</a></li>
<li class="chapter" data-level="10.70.2" data-path="references.html"><a href="references.html#handling-missing-values-2"><i class="fa fa-check"></i><b>10.70.2</b> Handling Missing Values</a></li>
</ul></li>
<li class="chapter" data-level="10.71" data-path="references.html"><a href="references.html#study-questions-for-using-summarise-and-group_by"><i class="fa fa-check"></i><b>10.71</b> Study Questions for Using summarise() and group_by()</a>
<ul>
<li class="chapter" data-level="10.71.1" data-path="references.html"><a href="references.html#understanding-summarise"><i class="fa fa-check"></i><b>10.71.1</b> Understanding summarise()</a></li>
<li class="chapter" data-level="10.71.2" data-path="references.html"><a href="references.html#statistical-functions-in-summarise"><i class="fa fa-check"></i><b>10.71.2</b> Statistical Functions in summarise()</a></li>
<li class="chapter" data-level="10.71.3" data-path="references.html"><a href="references.html#multiple-statistics-and-variables"><i class="fa fa-check"></i><b>10.71.3</b> Multiple Statistics and Variables</a></li>
<li class="chapter" data-level="10.71.4" data-path="references.html"><a href="references.html#understanding-group_by"><i class="fa fa-check"></i><b>10.71.4</b> Understanding group_by()</a></li>
<li class="chapter" data-level="10.71.5" data-path="references.html"><a href="references.html#practical-applications-2"><i class="fa fa-check"></i><b>10.71.5</b> Practical Applications</a></li>
<li class="chapter" data-level="10.71.6" data-path="references.html"><a href="references.html#multiple-grouping-variables-1"><i class="fa fa-check"></i><b>10.71.6</b> Multiple Grouping Variables</a></li>
<li class="chapter" data-level="10.71.7" data-path="references.html"><a href="references.html#saving-and-using-results"><i class="fa fa-check"></i><b>10.71.7</b> Saving and Using Results</a></li>
<li class="chapter" data-level="10.71.8" data-path="references.html"><a href="references.html#conceptual-understanding-1"><i class="fa fa-check"></i><b>10.71.8</b> Conceptual Understanding</a></li>
</ul></li>
<li class="chapter" data-level="10.72" data-path="references.html"><a href="references.html#learning-objectives-8"><i class="fa fa-check"></i><b>10.72</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.73" data-path="references.html"><a href="references.html#what-is-this-for-6"><i class="fa fa-check"></i><b>10.73</b> What Is This For?</a></li>
<li class="chapter" data-level="10.74" data-path="references.html"><a href="references.html#principles-of-effective-data-visualization"><i class="fa fa-check"></i><b>10.74</b> Principles of Effective Data Visualization</a>
<ul>
<li class="chapter" data-level="10.74.1" data-path="references.html"><a href="references.html#how-people-read-graphics"><i class="fa fa-check"></i><b>10.74.1</b> How People Read Graphics</a></li>
<li class="chapter" data-level="10.74.2" data-path="references.html"><a href="references.html#three-core-principles"><i class="fa fa-check"></i><b>10.74.2</b> Three Core Principles</a></li>
<li class="chapter" data-level="10.74.3" data-path="references.html"><a href="references.html#a-transformation-example"><i class="fa fa-check"></i><b>10.74.3</b> A Transformation Example</a></li>
<li class="chapter" data-level="10.74.4" data-path="references.html"><a href="references.html#common-pitfalls-to-avoid-1"><i class="fa fa-check"></i><b>10.74.4</b> Common Pitfalls to Avoid</a></li>
</ul></li>
<li class="chapter" data-level="10.75" data-path="references.html"><a href="references.html#getting-started-with-ggplot2"><i class="fa fa-check"></i><b>10.75</b> Getting Started with ggplot2</a>
<ul>
<li class="chapter" data-level="10.75.1" data-path="references.html"><a href="references.html#understanding-the-grammar-of-graphics"><i class="fa fa-check"></i><b>10.75.1</b> Understanding the Grammar of Graphics</a></li>
<li class="chapter" data-level="10.75.2" data-path="references.html"><a href="references.html#the-layering-system"><i class="fa fa-check"></i><b>10.75.2</b> The Layering System</a></li>
</ul></li>
<li class="chapter" data-level="10.76" data-path="references.html"><a href="references.html#bar-plots-for-categorical-data"><i class="fa fa-check"></i><b>10.76</b> Bar Plots for Categorical Data</a>
<ul>
<li class="chapter" data-level="10.76.1" data-path="references.html"><a href="references.html#understanding-the-roommate-study-data"><i class="fa fa-check"></i><b>10.76.1</b> Understanding the Roommate Study Data</a></li>
<li class="chapter" data-level="10.76.2" data-path="references.html"><a href="references.html#preparing-data-for-visualization"><i class="fa fa-check"></i><b>10.76.2</b> Preparing Data for Visualization</a></li>
<li class="chapter" data-level="10.76.3" data-path="references.html"><a href="references.html#building-your-first-ggplot"><i class="fa fa-check"></i><b>10.76.3</b> Building Your First ggplot</a></li>
<li class="chapter" data-level="10.76.4" data-path="references.html"><a href="references.html#customizing-colors-and-appearance"><i class="fa fa-check"></i><b>10.76.4</b> Customizing Colors and Appearance</a></li>
<li class="chapter" data-level="10.76.5" data-path="references.html"><a href="references.html#adding-labels-and-titles"><i class="fa fa-check"></i><b>10.76.5</b> Adding Labels and Titles</a></li>
<li class="chapter" data-level="10.76.6" data-path="references.html"><a href="references.html#understanding-themes-and-further-customization"><i class="fa fa-check"></i><b>10.76.6</b> Understanding Themes and Further Customization</a></li>
<li class="chapter" data-level="10.76.7" data-path="references.html"><a href="references.html#using-color-to-show-relationships"><i class="fa fa-check"></i><b>10.76.7</b> Using Color to Show Relationships</a></li>
<li class="chapter" data-level="10.76.8" data-path="references.html"><a href="references.html#fun-with-color-palettes"><i class="fa fa-check"></i><b>10.76.8</b> Fun with Color Palettes</a></li>
</ul></li>
<li class="chapter" data-level="10.77" data-path="references.html"><a href="references.html#histograms-for-continuous-data"><i class="fa fa-check"></i><b>10.77</b> Histograms for Continuous Data</a>
<ul>
<li class="chapter" data-level="10.77.1" data-path="references.html"><a href="references.html#understanding-the-anes-data"><i class="fa fa-check"></i><b>10.77.1</b> Understanding the ANES Data</a></li>
<li class="chapter" data-level="10.77.2" data-path="references.html"><a href="references.html#creating-basic-histograms"><i class="fa fa-check"></i><b>10.77.2</b> Creating Basic Histograms</a></li>
<li class="chapter" data-level="10.77.3" data-path="references.html"><a href="references.html#building-histograms-with-ggplot2"><i class="fa fa-check"></i><b>10.77.3</b> Building Histograms with ggplot2</a></li>
<li class="chapter" data-level="10.77.4" data-path="references.html"><a href="references.html#comparing-groups-with-histograms"><i class="fa fa-check"></i><b>10.77.4</b> Comparing Groups with Histograms</a></li>
</ul></li>
<li class="chapter" data-level="10.78" data-path="references.html"><a href="references.html#density-plots-for-smooth-distributions"><i class="fa fa-check"></i><b>10.78</b> Density Plots for Smooth Distributions</a>
<ul>
<li class="chapter" data-level="10.78.1" data-path="references.html"><a href="references.html#understanding-density-plots"><i class="fa fa-check"></i><b>10.78.1</b> Understanding Density Plots</a></li>
<li class="chapter" data-level="10.78.2" data-path="references.html"><a href="references.html#comparing-distributions-with-density-plots"><i class="fa fa-check"></i><b>10.78.2</b> Comparing Distributions with Density Plots</a></li>
<li class="chapter" data-level="10.78.3" data-path="references.html"><a href="references.html#box-plots-for-quick-comparisons"><i class="fa fa-check"></i><b>10.78.3</b> Box Plots for Quick Comparisons</a></li>
</ul></li>
<li class="chapter" data-level="10.79" data-path="references.html"><a href="references.html#putting-it-all-together-best-practices"><i class="fa fa-check"></i><b>10.79</b> Putting It All Together: Best Practices</a>
<ul>
<li class="chapter" data-level="10.79.1" data-path="references.html"><a href="references.html#choosing-the-right-visualization"><i class="fa fa-check"></i><b>10.79.1</b> Choosing the Right Visualization</a></li>
</ul></li>
<li class="chapter" data-level="10.80" data-path="references.html"><a href="references.html#summary-4"><i class="fa fa-check"></i><b>10.80</b> Summary</a></li>
<li class="chapter" data-level="10.81" data-path="references.html"><a href="references.html#study-questions-3"><i class="fa fa-check"></i><b>10.81</b> Study Questions</a>
<ul>
<li class="chapter" data-level="10.81.1" data-path="references.html"><a href="references.html#understanding-visualization-principles"><i class="fa fa-check"></i><b>10.81.1</b> Understanding Visualization Principles</a></li>
<li class="chapter" data-level="10.81.2" data-path="references.html"><a href="references.html#understanding-ggplot2-structure"><i class="fa fa-check"></i><b>10.81.2</b> Understanding ggplot2 Structure</a></li>
<li class="chapter" data-level="10.81.3" data-path="references.html"><a href="references.html#creating-bar-plots"><i class="fa fa-check"></i><b>10.81.3</b> Creating Bar Plots</a></li>
<li class="chapter" data-level="10.81.4" data-path="references.html"><a href="references.html#working-with-histograms"><i class="fa fa-check"></i><b>10.81.4</b> Working with Histograms</a></li>
<li class="chapter" data-level="10.81.5" data-path="references.html"><a href="references.html#understanding-density-plots-1"><i class="fa fa-check"></i><b>10.81.5</b> Understanding Density Plots</a></li>
<li class="chapter" data-level="10.81.6" data-path="references.html"><a href="references.html#data-preparation"><i class="fa fa-check"></i><b>10.81.6</b> Data Preparation</a></li>
<li class="chapter" data-level="10.81.7" data-path="references.html"><a href="references.html#practical-application"><i class="fa fa-check"></i><b>10.81.7</b> Practical Application</a></li>
<li class="chapter" data-level="10.81.8" data-path="references.html"><a href="references.html#code-writing"><i class="fa fa-check"></i><b>10.81.8</b> Code Writing</a></li>
<li class="chapter" data-level="10.81.9" data-path="references.html"><a href="references.html#interpretation-2"><i class="fa fa-check"></i><b>10.81.9</b> Interpretation</a></li>
</ul></li>
<li class="chapter" data-level="10.82" data-path="references.html"><a href="references.html#learning-objectives-9"><i class="fa fa-check"></i><b>10.82</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.83" data-path="references.html"><a href="references.html#what-is-this-for-7"><i class="fa fa-check"></i><b>10.83</b> What Is This For?</a></li>
<li class="chapter" data-level="10.84" data-path="references.html"><a href="references.html#comparing-groups-with-boxplots"><i class="fa fa-check"></i><b>10.84</b> Comparing Groups with Boxplots</a>
<ul>
<li class="chapter" data-level="10.84.1" data-path="references.html"><a href="references.html#when-to-use-boxplots"><i class="fa fa-check"></i><b>10.84.1</b> When to Use Boxplots</a></li>
<li class="chapter" data-level="10.84.2" data-path="references.html"><a href="references.html#congressional-age-example"><i class="fa fa-check"></i><b>10.84.2</b> Congressional Age Example</a></li>
<li class="chapter" data-level="10.84.3" data-path="references.html"><a href="references.html#creating-a-basic-boxplot"><i class="fa fa-check"></i><b>10.84.3</b> Creating a Basic Boxplot</a></li>
<li class="chapter" data-level="10.84.4" data-path="references.html"><a href="references.html#adding-a-third-variable-with-color"><i class="fa fa-check"></i><b>10.84.4</b> Adding a Third Variable with Color</a></li>
<li class="chapter" data-level="10.84.5" data-path="references.html"><a href="references.html#using-facets-instead-of-colors"><i class="fa fa-check"></i><b>10.84.5</b> Using Facets Instead of Colors</a></li>
<li class="chapter" data-level="10.84.6" data-path="references.html"><a href="references.html#visualizing-change-over-time"><i class="fa fa-check"></i><b>10.84.6</b> Visualizing Change Over Time</a></li>
</ul></li>
<li class="chapter" data-level="10.85" data-path="references.html"><a href="references.html#scatterplots-for-continuous-relationships"><i class="fa fa-check"></i><b>10.85</b> Scatterplots for Continuous Relationships</a>
<ul>
<li class="chapter" data-level="10.85.1" data-path="references.html"><a href="references.html#when-two-variables-are-both-continuous"><i class="fa fa-check"></i><b>10.85.1</b> When Two Variables Are Both Continuous</a></li>
<li class="chapter" data-level="10.85.2" data-path="references.html"><a href="references.html#movie-ratings-example"><i class="fa fa-check"></i><b>10.85.2</b> Movie Ratings Example</a></li>
<li class="chapter" data-level="10.85.3" data-path="references.html"><a href="references.html#creating-a-basic-scatterplot"><i class="fa fa-check"></i><b>10.85.3</b> Creating a Basic Scatterplot</a></li>
<li class="chapter" data-level="10.85.4" data-path="references.html"><a href="references.html#dealing-with-overplotting"><i class="fa fa-check"></i><b>10.85.4</b> Dealing with Overplotting</a></li>
<li class="chapter" data-level="10.85.5" data-path="references.html"><a href="references.html#adding-a-reference-line"><i class="fa fa-check"></i><b>10.85.5</b> Adding a Reference Line</a></li>
</ul></li>
<li class="chapter" data-level="10.86" data-path="references.html"><a href="references.html#using-facets-to-reveal-patterns"><i class="fa fa-check"></i><b>10.86</b> Using Facets to Reveal Patterns</a>
<ul>
<li class="chapter" data-level="10.86.1" data-path="references.html"><a href="references.html#examining-patterns-by-genre"><i class="fa fa-check"></i><b>10.86.1</b> Examining Patterns by Genre</a></li>
<li class="chapter" data-level="10.86.2" data-path="references.html"><a href="references.html#adding-color-for-a-fourth-variable"><i class="fa fa-check"></i><b>10.86.2</b> Adding Color for a Fourth Variable</a></li>
</ul></li>
<li class="chapter" data-level="10.87" data-path="references.html"><a href="references.html#choosing-the-right-visualization-1"><i class="fa fa-check"></i><b>10.87</b> Choosing the Right Visualization</a>
<ul>
<li class="chapter" data-level="10.87.1" data-path="references.html"><a href="references.html#decision-framework"><i class="fa fa-check"></i><b>10.87.1</b> Decision Framework</a></li>
<li class="chapter" data-level="10.87.2" data-path="references.html"><a href="references.html#best-practices-for-multi-variable-plots"><i class="fa fa-check"></i><b>10.87.2</b> Best Practices for Multi-Variable Plots</a></li>
</ul></li>
<li class="chapter" data-level="10.88" data-path="references.html"><a href="references.html#summary-5"><i class="fa fa-check"></i><b>10.88</b> Summary</a></li>
<li class="chapter" data-level="10.89" data-path="references.html"><a href="references.html#study-questions-4"><i class="fa fa-check"></i><b>10.89</b> Study Questions</a>
<ul>
<li class="chapter" data-level="10.89.1" data-path="references.html"><a href="references.html#understanding-plot-types"><i class="fa fa-check"></i><b>10.89.1</b> Understanding Plot Types</a></li>
<li class="chapter" data-level="10.89.2" data-path="references.html"><a href="references.html#using-facets"><i class="fa fa-check"></i><b>10.89.2</b> Using Facets</a></li>
<li class="chapter" data-level="10.89.3" data-path="references.html"><a href="references.html#interpreting-visualizations"><i class="fa fa-check"></i><b>10.89.3</b> Interpreting Visualizations</a></li>
<li class="chapter" data-level="10.89.4" data-path="references.html"><a href="references.html#practical-applications-3"><i class="fa fa-check"></i><b>10.89.4</b> Practical Applications</a></li>
<li class="chapter" data-level="10.89.5" data-path="references.html"><a href="references.html#code-challenges"><i class="fa fa-check"></i><b>10.89.5</b> Code Challenges</a></li>
</ul></li>
<li class="chapter" data-level="10.90" data-path="references.html"><a href="references.html#learning-objectives-10"><i class="fa fa-check"></i><b>10.90</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.91" data-path="references.html"><a href="references.html#what-is-this-for-8"><i class="fa fa-check"></i><b>10.91</b> What Is This For?</a></li>
<li class="chapter" data-level="10.92" data-path="references.html"><a href="references.html#learning-note"><i class="fa fa-check"></i><b>10.92</b> Learning note</a></li>
<li class="chapter" data-level="10.93" data-path="references.html"><a href="references.html#the-fundamental-problem-parameters-we-cant-see"><i class="fa fa-check"></i><b>10.93</b> The Fundamental Problem: Parameters We Can’t See</a></li>
<li class="chapter" data-level="10.94" data-path="references.html"><a href="references.html#estimators-rules-for-making-guesses"><i class="fa fa-check"></i><b>10.94</b> Estimators: Rules for Making Guesses</a></li>
<li class="chapter" data-level="10.95" data-path="references.html"><a href="references.html#properties-of-good-estimators"><i class="fa fa-check"></i><b>10.95</b> Properties of Good Estimators</a>
<ul>
<li class="chapter" data-level="10.95.1" data-path="references.html"><a href="references.html#unbiasedness-right-on-average"><i class="fa fa-check"></i><b>10.95.1</b> Unbiasedness: Right on Average</a></li>
<li class="chapter" data-level="10.95.2" data-path="references.html"><a href="references.html#efficiency-less-variable"><i class="fa fa-check"></i><b>10.95.2</b> Efficiency: Less Variable</a></li>
<li class="chapter" data-level="10.95.3" data-path="references.html"><a href="references.html#consistency-better-with-more-data"><i class="fa fa-check"></i><b>10.95.3</b> Consistency: Better with More Data</a></li>
</ul></li>
<li class="chapter" data-level="10.96" data-path="references.html"><a href="references.html#the-magic-of-sampling-distributions"><i class="fa fa-check"></i><b>10.96</b> The Magic of Sampling Distributions</a>
<ul>
<li class="chapter" data-level="10.96.1" data-path="references.html"><a href="references.html#what-is-a-sampling-distribution"><i class="fa fa-check"></i><b>10.96.1</b> What Is a Sampling Distribution?</a></li>
<li class="chapter" data-level="10.96.2" data-path="references.html"><a href="references.html#why-this-matters"><i class="fa fa-check"></i><b>10.96.2</b> Why This Matters</a></li>
<li class="chapter" data-level="10.96.3" data-path="references.html"><a href="references.html#distinguishing-three-types-of-distributions"><i class="fa fa-check"></i><b>10.96.3</b> Distinguishing Three Types of Distributions</a></li>
</ul></li>
<li class="chapter" data-level="10.97" data-path="references.html"><a href="references.html#the-central-limit-theorem-natures-gift-to-statistics"><i class="fa fa-check"></i><b>10.97</b> The Central Limit Theorem: Nature’s Gift to Statistics</a></li>
<li class="chapter" data-level="10.98" data-path="references.html"><a href="references.html#from-theory-to-practice-estimating-the-standard-error"><i class="fa fa-check"></i><b>10.98</b> From Theory to Practice: Estimating the Standard Error</a></li>
<li class="chapter" data-level="10.99" data-path="references.html"><a href="references.html#notation-summary"><i class="fa fa-check"></i><b>10.99</b> Notation Summary</a></li>
<li class="chapter" data-level="10.100" data-path="references.html"><a href="references.html#summary-the-big-picture"><i class="fa fa-check"></i><b>10.100</b> Summary: The Big Picture</a></li>
<li class="chapter" data-level="10.101" data-path="references.html"><a href="references.html#study-questions-5"><i class="fa fa-check"></i><b>10.101</b> Study Questions</a>
<ul>
<li class="chapter" data-level="10.101.1" data-path="references.html"><a href="references.html#conceptual-understanding-2"><i class="fa fa-check"></i><b>10.101.1</b> Conceptual Understanding</a></li>
<li class="chapter" data-level="10.101.2" data-path="references.html"><a href="references.html#sampling-distributions"><i class="fa fa-check"></i><b>10.101.2</b> Sampling Distributions</a></li>
<li class="chapter" data-level="10.101.3" data-path="references.html"><a href="references.html#application"><i class="fa fa-check"></i><b>10.101.3</b> Application</a></li>
</ul></li>
<li class="chapter" data-level="10.102" data-path="references.html"><a href="references.html#learning-objectives-11"><i class="fa fa-check"></i><b>10.102</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.103" data-path="references.html"><a href="references.html#what-is-this-for-9"><i class="fa fa-check"></i><b>10.103</b> What Is This For?</a></li>
<li class="chapter" data-level="10.104" data-path="references.html"><a href="references.html#basic-sampling-from-vectors"><i class="fa fa-check"></i><b>10.104</b> Basic Sampling from Vectors</a>
<ul>
<li class="chapter" data-level="10.104.1" data-path="references.html"><a href="references.html#the-sample-function"><i class="fa fa-check"></i><b>10.104.1</b> The <code>sample()</code> Function</a></li>
<li class="chapter" data-level="10.104.2" data-path="references.html"><a href="references.html#key-arguments-for-sample"><i class="fa fa-check"></i><b>10.104.2</b> Key Arguments for <code>sample()</code></a></li>
</ul></li>
<li class="chapter" data-level="10.105" data-path="references.html"><a href="references.html#controlling-randomness-with-set.seed"><i class="fa fa-check"></i><b>10.105</b> Controlling Randomness with <code>set.seed()</code></a></li>
<li class="chapter" data-level="10.106" data-path="references.html"><a href="references.html#sampling-from-data-frames"><i class="fa fa-check"></i><b>10.106</b> Sampling from Data Frames</a>
<ul>
<li class="chapter" data-level="10.106.1" data-path="references.html"><a href="references.html#method-1-using-base-r"><i class="fa fa-check"></i><b>10.106.1</b> Method 1: Using Base R</a></li>
<li class="chapter" data-level="10.106.2" data-path="references.html"><a href="references.html#method-2-using-dplyr-recommended"><i class="fa fa-check"></i><b>10.106.2</b> Method 2: Using dplyr (Recommended)</a></li>
</ul></li>
<li class="chapter" data-level="10.107" data-path="references.html"><a href="references.html#sampling-without-replacement-vs.-with-replacement"><i class="fa fa-check"></i><b>10.107</b> Sampling Without Replacement vs. With Replacement</a>
<ul>
<li class="chapter" data-level="10.107.1" data-path="references.html"><a href="references.html#without-replacement-default"><i class="fa fa-check"></i><b>10.107.1</b> Without Replacement (Default)</a></li>
<li class="chapter" data-level="10.107.2" data-path="references.html"><a href="references.html#with-replacement"><i class="fa fa-check"></i><b>10.107.2</b> With Replacement</a></li>
</ul></li>
<li class="chapter" data-level="10.108" data-path="references.html"><a href="references.html#quick-reference"><i class="fa fa-check"></i><b>10.108</b> Quick Reference</a></li>
<li class="chapter" data-level="10.109" data-path="references.html"><a href="references.html#summary-6"><i class="fa fa-check"></i><b>10.109</b> Summary</a></li>
<li class="chapter" data-level="10.110" data-path="references.html"><a href="references.html#study-questions-6"><i class="fa fa-check"></i><b>10.110</b> Study Questions</a>
<ul>
<li class="chapter" data-level="10.110.1" data-path="references.html"><a href="references.html#understanding-the-basics"><i class="fa fa-check"></i><b>10.110.1</b> Understanding the Basics</a></li>
<li class="chapter" data-level="10.110.2" data-path="references.html"><a href="references.html#sampling-with-and-without-replacement"><i class="fa fa-check"></i><b>10.110.2</b> Sampling with and without Replacement</a></li>
<li class="chapter" data-level="10.110.3" data-path="references.html"><a href="references.html#working-with-data-frames"><i class="fa fa-check"></i><b>10.110.3</b> Working with Data Frames</a></li>
<li class="chapter" data-level="10.110.4" data-path="references.html"><a href="references.html#practical-applications-4"><i class="fa fa-check"></i><b>10.110.4</b> Practical Applications</a></li>
</ul></li>
<li class="chapter" data-level="10.111" data-path="references.html"><a href="references.html#learning-objectives-12"><i class="fa fa-check"></i><b>10.111</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.112" data-path="references.html"><a href="references.html#what-is-this-for-10"><i class="fa fa-check"></i><b>10.112</b> What Is This For?</a></li>
<li class="chapter" data-level="10.113" data-path="references.html"><a href="references.html#part-i-foundations-of-probability"><i class="fa fa-check"></i><b>10.113</b> Part I: Foundations of Probability</a>
<ul>
<li class="chapter" data-level="10.113.1" data-path="references.html"><a href="references.html#what-is-probability"><i class="fa fa-check"></i><b>10.113.1</b> What is Probability?</a></li>
<li class="chapter" data-level="10.113.2" data-path="references.html"><a href="references.html#discrete-vs.-continuous-distributions"><i class="fa fa-check"></i><b>10.113.2</b> Discrete vs. Continuous Distributions</a></li>
<li class="chapter" data-level="10.113.3" data-path="references.html"><a href="references.html#formal-properties-of-probability-distributions"><i class="fa fa-check"></i><b>10.113.3</b> Formal Properties of Probability Distributions</a></li>
<li class="chapter" data-level="10.113.4" data-path="references.html"><a href="references.html#parameters-of-distributions"><i class="fa fa-check"></i><b>10.113.4</b> Parameters of Distributions</a></li>
</ul></li>
<li class="chapter" data-level="10.114" data-path="references.html"><a href="references.html#part-ii-the-normal-distribution"><i class="fa fa-check"></i><b>10.114</b> Part II: The Normal Distribution</a>
<ul>
<li class="chapter" data-level="10.114.1" data-path="references.html"><a href="references.html#properties-and-importance"><i class="fa fa-check"></i><b>10.114.1</b> Properties and Importance</a></li>
<li class="chapter" data-level="10.114.2" data-path="references.html"><a href="references.html#the-standard-normal-and-z-scores"><i class="fa fa-check"></i><b>10.114.2</b> The Standard Normal and Z-Scores</a></li>
<li class="chapter" data-level="10.114.3" data-path="references.html"><a href="references.html#the-empirical-rule-68-95-99.7"><i class="fa fa-check"></i><b>10.114.3</b> The Empirical Rule (68-95-99.7)</a></li>
</ul></li>
<li class="chapter" data-level="10.115" data-path="references.html"><a href="references.html#part-iii-working-with-probability-in-r"><i class="fa fa-check"></i><b>10.115</b> Part III: Working with Probability in R</a>
<ul>
<li class="chapter" data-level="10.115.1" data-path="references.html"><a href="references.html#key-r-functions-for-the-normal-distribution"><i class="fa fa-check"></i><b>10.115.1</b> Key R Functions for the Normal Distribution</a></li>
<li class="chapter" data-level="10.115.2" data-path="references.html"><a href="references.html#calculating-probabilities-with-pnorm"><i class="fa fa-check"></i><b>10.115.2</b> Calculating Probabilities with pnorm()</a></li>
<li class="chapter" data-level="10.115.3" data-path="references.html"><a href="references.html#finding-quantiles-with-qnorm---the-inverse-problem"><i class="fa fa-check"></i><b>10.115.3</b> Finding Quantiles with qnorm() - The Inverse Problem</a></li>
<li class="chapter" data-level="10.115.4" data-path="references.html"><a href="references.html#understanding-dnorm-the-height-of-the-curve"><i class="fa fa-check"></i><b>10.115.4</b> Understanding dnorm(): The Height of the Curve</a></li>
<li class="chapter" data-level="10.115.5" data-path="references.html"><a href="references.html#generating-random-data-with-rnorm"><i class="fa fa-check"></i><b>10.115.5</b> Generating Random Data with rnorm()</a></li>
</ul></li>
<li class="chapter" data-level="10.116" data-path="references.html"><a href="references.html#part-iv-looking-ahead"><i class="fa fa-check"></i><b>10.116</b> Part IV: Looking Ahead</a>
<ul>
<li class="chapter" data-level="10.116.1" data-path="references.html"><a href="references.html#the-t-distribution-when-samples-are-small"><i class="fa fa-check"></i><b>10.116.1</b> The t-Distribution: When Samples Are Small</a></li>
</ul></li>
<li class="chapter" data-level="10.117" data-path="references.html"><a href="references.html#summary-7"><i class="fa fa-check"></i><b>10.117</b> Summary</a></li>
<li class="chapter" data-level="10.118" data-path="references.html"><a href="references.html#study-questions-for-probability-and-probability-distributions"><i class="fa fa-check"></i><b>10.118</b> Study Questions for Probability and Probability Distributions</a>
<ul>
<li class="chapter" data-level="10.118.1" data-path="references.html"><a href="references.html#understanding-probability-concepts"><i class="fa fa-check"></i><b>10.118.1</b> Understanding Probability Concepts</a></li>
<li class="chapter" data-level="10.118.2" data-path="references.html"><a href="references.html#parameters-vs.-statistics"><i class="fa fa-check"></i><b>10.118.2</b> Parameters vs. Statistics</a></li>
<li class="chapter" data-level="10.118.3" data-path="references.html"><a href="references.html#the-normal-distribution"><i class="fa fa-check"></i><b>10.118.3</b> The Normal Distribution</a></li>
<li class="chapter" data-level="10.118.4" data-path="references.html"><a href="references.html#z-scores-and-standardization"><i class="fa fa-check"></i><b>10.118.4</b> Z-Scores and Standardization</a></li>
<li class="chapter" data-level="10.118.5" data-path="references.html"><a href="references.html#the-empirical-rule"><i class="fa fa-check"></i><b>10.118.5</b> The Empirical Rule</a></li>
<li class="chapter" data-level="10.118.6" data-path="references.html"><a href="references.html#working-with-r-functions"><i class="fa fa-check"></i><b>10.118.6</b> Working with R Functions</a></li>
<li class="chapter" data-level="10.118.7" data-path="references.html"><a href="references.html#calculating-probabilities-in-r"><i class="fa fa-check"></i><b>10.118.7</b> Calculating Probabilities in R</a></li>
<li class="chapter" data-level="10.118.8" data-path="references.html"><a href="references.html#challenge-problems-advancedoptionalnot-on-test"><i class="fa fa-check"></i><b>10.118.8</b> Challenge Problems (advanced/optional/not on test)</a></li>
</ul></li>
<li class="chapter" data-level="10.119" data-path="references.html"><a href="references.html#learning-objectives-13"><i class="fa fa-check"></i><b>10.119</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.120" data-path="references.html"><a href="references.html#what-is-this-for-11"><i class="fa fa-check"></i><b>10.120</b> What Is This For?</a></li>
<li class="chapter" data-level="10.121" data-path="references.html"><a href="references.html#project-deliverables-and-timeline"><i class="fa fa-check"></i><b>10.121</b> Project Deliverables and Timeline</a></li>
<li class="chapter" data-level="10.122" data-path="references.html"><a href="references.html#finding-your-research-question"><i class="fa fa-check"></i><b>10.122</b> Finding Your Research Question</a></li>
<li class="chapter" data-level="10.123" data-path="references.html"><a href="references.html#theory-and-hypotheses"><i class="fa fa-check"></i><b>10.123</b> Theory and Hypotheses</a></li>
<li class="chapter" data-level="10.124" data-path="references.html"><a href="references.html#what-you-cannot-do"><i class="fa fa-check"></i><b>10.124</b> What You Cannot Do</a></li>
<li class="chapter" data-level="10.125" data-path="references.html"><a href="references.html#what-you-should-do"><i class="fa fa-check"></i><b>10.125</b> What You Should Do</a></li>
<li class="chapter" data-level="10.126" data-path="references.html"><a href="references.html#understanding-the-grading-rubric"><i class="fa fa-check"></i><b>10.126</b> Understanding the Grading Rubric</a>
<ul>
<li class="chapter" data-level="10.126.1" data-path="references.html"><a href="references.html#introduction-and-theory"><i class="fa fa-check"></i><b>10.126.1</b> Introduction and Theory</a></li>
<li class="chapter" data-level="10.126.2" data-path="references.html"><a href="references.html#methods"><i class="fa fa-check"></i><b>10.126.2</b> Methods</a></li>
<li class="chapter" data-level="10.126.3" data-path="references.html"><a href="references.html#results"><i class="fa fa-check"></i><b>10.126.3</b> Results</a></li>
<li class="chapter" data-level="10.126.4" data-path="references.html"><a href="references.html#limitations-and-conclusions"><i class="fa fa-check"></i><b>10.126.4</b> Limitations and Conclusions</a></li>
<li class="chapter" data-level="10.126.5" data-path="references.html"><a href="references.html#statistical-analysis-poster"><i class="fa fa-check"></i><b>10.126.5</b> Statistical Analysis (Poster)</a></li>
<li class="chapter" data-level="10.126.6" data-path="references.html"><a href="references.html#statistical-analysis-r-script"><i class="fa fa-check"></i><b>10.126.6</b> Statistical Analysis (R Script)</a></li>
<li class="chapter" data-level="10.126.7" data-path="references.html"><a href="references.html#graphical-design"><i class="fa fa-check"></i><b>10.126.7</b> Graphical Design</a></li>
<li class="chapter" data-level="10.126.8" data-path="references.html"><a href="references.html#writing-quality"><i class="fa fa-check"></i><b>10.126.8</b> Writing Quality</a></li>
</ul></li>
<li class="chapter" data-level="10.127" data-path="references.html"><a href="references.html#learning-from-example-posters"><i class="fa fa-check"></i><b>10.127</b> Learning from Example Posters</a>
<ul>
<li class="chapter" data-level="10.127.1" data-path="references.html"><a href="references.html#example-1-hating-habif"><i class="fa fa-check"></i><b>10.127.1</b> Example 1: Hating Habif</a></li>
<li class="chapter" data-level="10.127.2" data-path="references.html"><a href="references.html#example-2-should-i-switch-where-im-registered"><i class="fa fa-check"></i><b>10.127.2</b> Example 2: Should I Switch Where I’m Registered?</a></li>
<li class="chapter" data-level="10.127.3" data-path="references.html"><a href="references.html#example-3-voter-registration"><i class="fa fa-check"></i><b>10.127.3</b> Example 3: Voter Registration</a></li>
<li class="chapter" data-level="10.127.4" data-path="references.html"><a href="references.html#example-4-money-trouble"><i class="fa fa-check"></i><b>10.127.4</b> Example 4: Money Trouble</a></li>
</ul></li>
<li class="chapter" data-level="10.128" data-path="references.html"><a href="references.html#tips-for-success"><i class="fa fa-check"></i><b>10.128</b> Tips for Success</a>
<ul>
<li class="chapter" data-level="10.128.1" data-path="references.html"><a href="references.html#start-early"><i class="fa fa-check"></i><b>10.128.1</b> Start Early</a></li>
<li class="chapter" data-level="10.128.2" data-path="references.html"><a href="references.html#come-to-office-hours-early-and-often"><i class="fa fa-check"></i><b>10.128.2</b> Come to Office Hours Early and Often</a></li>
<li class="chapter" data-level="10.128.3" data-path="references.html"><a href="references.html#pay-close-attention-to-the-rubric"><i class="fa fa-check"></i><b>10.128.3</b> Pay Close Attention to the Rubric</a></li>
</ul></li>
<li class="chapter" data-level="10.129" data-path="references.html"><a href="references.html#technical-requirements"><i class="fa fa-check"></i><b>10.129</b> Technical Requirements</a>
<ul>
<li class="chapter" data-level="10.129.1" data-path="references.html"><a href="references.html#creating-your-poster"><i class="fa fa-check"></i><b>10.129.1</b> Creating Your Poster</a></li>
<li class="chapter" data-level="10.129.2" data-path="references.html"><a href="references.html#printing-your-poster"><i class="fa fa-check"></i><b>10.129.2</b> Printing Your Poster</a></li>
<li class="chapter" data-level="10.129.3" data-path="references.html"><a href="references.html#r-code-best-practices"><i class="fa fa-check"></i><b>10.129.3</b> R Code Best Practices</a></li>
</ul></li>
<li class="chapter" data-level="10.130" data-path="references.html"><a href="references.html#frequently-asked-questions"><i class="fa fa-check"></i><b>10.130</b> Frequently Asked Questions</a></li>
<li class="chapter" data-level="10.131" data-path="references.html"><a href="references.html#final-reminders"><i class="fa fa-check"></i><b>10.131</b> Final Reminders</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html#introduction-why-point-estimates-arent-enough"><i class="fa fa-check"></i>Introduction: Why Point Estimates Aren’t Enough</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html#review-from-samples-to-populations"><i class="fa fa-check"></i>Review: From Samples to Populations</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html#understanding-confidence-intervals"><i class="fa fa-check"></i>Understanding Confidence Intervals</a>
<ul>
<li class="chapter" data-level="10.131.1" data-path="references.html"><a href="references.html#the-correct-interpretation"><i class="fa fa-check"></i><b>10.131.1</b> The Correct Interpretation</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html#the-structure-of-a-confidence-interval"><i class="fa fa-check"></i>The Structure of a Confidence Interval</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html#building-confidence-intervals-three-scenarios"><i class="fa fa-check"></i>Building Confidence Intervals: Three Scenarios</a>
<ul>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html#scenario-a-when-we-know-the-population-standard-deviation"><i class="fa fa-check"></i>Scenario A: When We Know the Population Standard Deviation</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html#scenario-b-unknown-population-standard-deviation-large-sample"><i class="fa fa-check"></i>Scenario B: Unknown Population Standard Deviation, Large Sample</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html#scenario-c-unknown-population-standard-deviation-small-sample"><i class="fa fa-check"></i>Scenario C: Unknown Population Standard Deviation, Small Sample</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html#comparing-confidence-levels"><i class="fa fa-check"></i>Comparing Confidence Levels</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html#a-complete-example-from-start-to-finish"><i class="fa fa-check"></i>A Complete Example: From Start to Finish</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html#decision-guide-which-method-should-you-use"><i class="fa fa-check"></i>Decision Guide: Which Method Should You Use?</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html#things-to-look-out-for-1"><i class="fa fa-check"></i>Things to Look Out For</a>
<ul>
<li class="chapter" data-level="10.131.2" data-path="references.html"><a href="references.html#common-mistakes-1"><i class="fa fa-check"></i><b>10.131.2</b> Common Mistakes</a></li>
<li class="chapter" data-level="10.131.3" data-path="references.html"><a href="references.html#when-confidence-intervals-can-be-misleading"><i class="fa fa-check"></i><b>10.131.3</b> When Confidence Intervals Can Be Misleading</a></li>
</ul></li>
<li class="chapter" data-level="10.132" data-path="references.html"><a href="references.html#review-questions-confidence-intervals"><i class="fa fa-check"></i><b>10.132</b> Review Questions: Confidence Intervals</a>
<ul>
<li class="chapter" data-level="10.132.1" data-path="references.html"><a href="references.html#conceptual-understanding-3"><i class="fa fa-check"></i><b>10.132.1</b> Conceptual Understanding</a></li>
<li class="chapter" data-level="10.132.2" data-path="references.html"><a href="references.html#decision-making"><i class="fa fa-check"></i><b>10.132.2</b> Decision Making</a></li>
<li class="chapter" data-level="10.132.3" data-path="references.html"><a href="references.html#calculation-practice-1"><i class="fa fa-check"></i><b>10.132.3</b> Calculation Practice</a></li>
<li class="chapter" data-level="10.132.4" data-path="references.html"><a href="references.html#r-programming-1"><i class="fa fa-check"></i><b>10.132.4</b> R Programming</a></li>
<li class="chapter" data-level="10.132.5" data-path="references.html"><a href="references.html#interpretation-3"><i class="fa fa-check"></i><b>10.132.5</b> Interpretation</a></li>
<li class="chapter" data-level="10.132.6" data-path="references.html"><a href="references.html#critical-thinking-2"><i class="fa fa-check"></i><b>10.132.6</b> Critical Thinking</a></li>
</ul></li>
<li class="chapter" data-level="10.133" data-path="references.html"><a href="references.html#learning-objectives-14"><i class="fa fa-check"></i><b>10.133</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.134" data-path="references.html"><a href="references.html#why-hypothesis-testing-matters"><i class="fa fa-check"></i><b>10.134</b> Why Hypothesis Testing Matters</a></li>
<li class="chapter" data-level="10.135" data-path="references.html"><a href="references.html#the-basic-logic-of-hypothesis-testing"><i class="fa fa-check"></i><b>10.135</b> The Basic Logic of Hypothesis Testing</a></li>
<li class="chapter" data-level="10.136" data-path="references.html"><a href="references.html#the-research-context"><i class="fa fa-check"></i><b>10.136</b> The Research Context</a></li>
<li class="chapter" data-level="10.137" data-path="references.html"><a href="references.html#the-five-parts-of-a-hypothesis-test"><i class="fa fa-check"></i><b>10.137</b> The Five Parts of a Hypothesis Test</a>
<ul>
<li class="chapter" data-level="10.137.1" data-path="references.html"><a href="references.html#assumptions"><i class="fa fa-check"></i><b>10.137.1</b> 1. Assumptions</a></li>
<li class="chapter" data-level="10.137.2" data-path="references.html"><a href="references.html#state-the-hypotheses"><i class="fa fa-check"></i><b>10.137.2</b> 2. State the Hypotheses</a></li>
<li class="chapter" data-level="10.137.3" data-path="references.html"><a href="references.html#calculate-the-test-statistic"><i class="fa fa-check"></i><b>10.137.3</b> 3. Calculate the Test Statistic</a></li>
<li class="chapter" data-level="10.137.4" data-path="references.html"><a href="references.html#calculate-the-p-value"><i class="fa fa-check"></i><b>10.137.4</b> 4. Calculate the P-Value</a></li>
<li class="chapter" data-level="10.137.5" data-path="references.html"><a href="references.html#draw-a-conclusion"><i class="fa fa-check"></i><b>10.137.5</b> 5. Draw a Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="10.138" data-path="references.html"><a href="references.html#a-second-example-stronger-evidence"><i class="fa fa-check"></i><b>10.138</b> A Second Example: Stronger Evidence</a></li>
<li class="chapter" data-level="10.139" data-path="references.html"><a href="references.html#understanding-what-p-values-really-mean"><i class="fa fa-check"></i><b>10.139</b> Understanding What P-Values Really Mean</a></li>
<li class="chapter" data-level="10.140" data-path="references.html"><a href="references.html#the-logic-of-statistical-significance"><i class="fa fa-check"></i><b>10.140</b> The Logic of Statistical Significance</a></li>
<li class="chapter" data-level="10.141" data-path="references.html"><a href="references.html#why-this-matters-for-research"><i class="fa fa-check"></i><b>10.141</b> Why This Matters for Research</a></li>
<li class="chapter" data-level="10.142" data-path="references.html"><a href="references.html#common-pitfalls-and-how-to-avoid-them-1"><i class="fa fa-check"></i><b>10.142</b> Common Pitfalls and How to Avoid Them</a></li>
<li class="chapter" data-level="10.143" data-path="references.html"><a href="references.html#the-bigger-picture"><i class="fa fa-check"></i><b>10.143</b> The Bigger Picture</a></li>
<li class="chapter" data-level="10.144" data-path="references.html"><a href="references.html#study-questions-7"><i class="fa fa-check"></i><b>10.144</b> Study Questions</a>
<ul>
<li class="chapter" data-level="10.144.1" data-path="references.html"><a href="references.html#understanding-the-concepts-1"><i class="fa fa-check"></i><b>10.144.1</b> Understanding the Concepts</a></li>
<li class="chapter" data-level="10.144.2" data-path="references.html"><a href="references.html#interpreting-results"><i class="fa fa-check"></i><b>10.144.2</b> Interpreting Results</a></li>
<li class="chapter" data-level="10.144.3" data-path="references.html"><a href="references.html#setting-up-hypothesis-tests"><i class="fa fa-check"></i><b>10.144.3</b> Setting Up Hypothesis Tests</a></li>
<li class="chapter" data-level="10.144.4" data-path="references.html"><a href="references.html#understanding-errors"><i class="fa fa-check"></i><b>10.144.4</b> Understanding Errors</a></li>
<li class="chapter" data-level="10.144.5" data-path="references.html"><a href="references.html#critical-thinking-3"><i class="fa fa-check"></i><b>10.144.5</b> Critical Thinking</a></li>
<li class="chapter" data-level="10.144.6" data-path="references.html"><a href="references.html#application-questions"><i class="fa fa-check"></i><b>10.144.6</b> Application Questions</a></li>
</ul></li>
<li class="chapter" data-level="10.145" data-path="references.html"><a href="references.html#summary-8"><i class="fa fa-check"></i><b>10.145</b> Summary</a></li>
<li class="chapter" data-level="10.146" data-path="references.html"><a href="references.html#introduction-the-ai-revolution-and-job-anxiety"><i class="fa fa-check"></i><b>10.146</b> Introduction: The AI Revolution and Job Anxiety</a></li>
<li class="chapter" data-level="10.147" data-path="references.html"><a href="references.html#loading-and-understanding-the-data"><i class="fa fa-check"></i><b>10.147</b> Loading and Understanding the Data</a></li>
<li class="chapter" data-level="10.148" data-path="references.html"><a href="references.html#data-cleaning-real-data-is-messy"><i class="fa fa-check"></i><b>10.148</b> Data Cleaning: Real Data is Messy</a></li>
<li class="chapter" data-level="10.149" data-path="references.html"><a href="references.html#the-five-steps-of-hypothesis-testing"><i class="fa fa-check"></i><b>10.149</b> The Five Steps of Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="10.149.1" data-path="references.html"><a href="references.html#step-1-check-assumptions"><i class="fa fa-check"></i><b>10.149.1</b> Step 1: Check Assumptions</a></li>
<li class="chapter" data-level="10.149.2" data-path="references.html"><a href="references.html#step-2-state-the-hypotheses"><i class="fa fa-check"></i><b>10.149.2</b> Step 2: State the Hypotheses</a></li>
<li class="chapter" data-level="10.149.3" data-path="references.html"><a href="references.html#step-3-calculate-the-test-statistic"><i class="fa fa-check"></i><b>10.149.3</b> Step 3: Calculate the Test Statistic</a></li>
<li class="chapter" data-level="10.149.4" data-path="references.html"><a href="references.html#step-4-calculate-the-p-value"><i class="fa fa-check"></i><b>10.149.4</b> Step 4: Calculate the P-Value</a></li>
<li class="chapter" data-level="10.149.5" data-path="references.html"><a href="references.html#step-5-draw-conclusions"><i class="fa fa-check"></i><b>10.149.5</b> Step 5: Draw Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="10.150" data-path="references.html"><a href="references.html#refining-our-analysis-the-t-distribution"><i class="fa fa-check"></i><b>10.150</b> Refining Our Analysis: The t-Distribution</a>
<ul>
<li class="chapter" data-level="10.150.1" data-path="references.html"><a href="references.html#when-and-why-to-use-t"><i class="fa fa-check"></i><b>10.150.1</b> When and Why to Use t</a></li>
</ul></li>
<li class="chapter" data-level="10.151" data-path="references.html"><a href="references.html#using-rs-built-in-function"><i class="fa fa-check"></i><b>10.151</b> Using R’s Built-in Function</a></li>
<li class="chapter" data-level="10.152" data-path="references.html"><a href="references.html#one-sided-vs-two-sided-tests"><i class="fa fa-check"></i><b>10.152</b> One-Sided vs Two-Sided Tests</a></li>
<li class="chapter" data-level="10.153" data-path="references.html"><a href="references.html#review-questions"><i class="fa fa-check"></i><b>10.153</b> Review Questions</a>
<ul>
<li class="chapter" data-level="10.153.1" data-path="references.html"><a href="references.html#conceptual-understanding-4"><i class="fa fa-check"></i><b>10.153.1</b> Conceptual Understanding</a></li>
<li class="chapter" data-level="10.153.2" data-path="references.html"><a href="references.html#practical-application-1"><i class="fa fa-check"></i><b>10.153.2</b> Practical Application</a></li>
<li class="chapter" data-level="10.153.3" data-path="references.html"><a href="references.html#technical-skills"><i class="fa fa-check"></i><b>10.153.3</b> Technical Skills</a></li>
</ul></li>
<li class="chapter" data-level="10.154" data-path="references.html"><a href="references.html#comparing-means-the-next-level"><i class="fa fa-check"></i><b>10.154</b> Comparing Means: The Next Level</a></li>
<li class="chapter" data-level="10.155" data-path="references.html"><a href="references.html#what-information-goes-into-comparing-means"><i class="fa fa-check"></i><b>10.155</b> What Information Goes Into Comparing Means?</a></li>
<li class="chapter" data-level="10.156" data-path="references.html"><a href="references.html#the-hypothesis-testing-framework"><i class="fa fa-check"></i><b>10.156</b> The Hypothesis Testing Framework</a></li>
<li class="chapter" data-level="10.157" data-path="references.html"><a href="references.html#the-tale-of-two-formulas"><i class="fa fa-check"></i><b>10.157</b> The Tale of Two Formulas</a></li>
<li class="chapter" data-level="10.158" data-path="references.html"><a href="references.html#putting-it-all-into-practice"><i class="fa fa-check"></i><b>10.158</b> Putting It All Into Practice</a></li>
<li class="chapter" data-level="10.159" data-path="references.html"><a href="references.html#a-real-example-can-social-pressure-get-out-the-vote"><i class="fa fa-check"></i><b>10.159</b> A Real Example: Can Social Pressure Get Out the Vote?</a>
<ul>
<li class="chapter" data-level="10.159.1" data-path="references.html"><a href="references.html#gerber-green-larimer-gotv-data"><i class="fa fa-check"></i><b>10.159.1</b> Gerber, Green, &amp; Larimer GOTV Data</a></li>
</ul></li>
<li class="chapter" data-level="10.160" data-path="references.html"><a href="references.html#running-our-first-t-test"><i class="fa fa-check"></i><b>10.160</b> Running Our First T-test</a></li>
<li class="chapter" data-level="10.161" data-path="references.html"><a href="references.html#understanding-the-t.test-function"><i class="fa fa-check"></i><b>10.161</b> Understanding the t.test() Function</a></li>
<li class="chapter" data-level="10.162" data-path="references.html"><a href="references.html#comparing-specific-treatments"><i class="fa fa-check"></i><b>10.162</b> Comparing Specific Treatments</a></li>
<li class="chapter" data-level="10.163" data-path="references.html"><a href="references.html#whats-actually-happening-under-the-hood"><i class="fa fa-check"></i><b>10.163</b> What’s Actually Happening Under the Hood?</a></li>
<li class="chapter" data-level="10.164" data-path="references.html"><a href="references.html#review-questions-1"><i class="fa fa-check"></i><b>10.164</b> Review Questions</a>
<ul>
<li class="chapter" data-level="10.164.1" data-path="references.html"><a href="references.html#conceptual-questions"><i class="fa fa-check"></i><b>10.164.1</b> Conceptual Questions</a></li>
<li class="chapter" data-level="10.164.2" data-path="references.html"><a href="references.html#calculation-practice-2"><i class="fa fa-check"></i><b>10.164.2</b> Calculation Practice</a></li>
<li class="chapter" data-level="10.164.3" data-path="references.html"><a href="references.html#r-programming-questions"><i class="fa fa-check"></i><b>10.164.3</b> R Programming Questions</a></li>
</ul></li>
<li class="chapter" data-level="10.165" data-path="references.html"><a href="references.html#learning-objectives-15"><i class="fa fa-check"></i><b>10.165</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.166" data-path="references.html"><a href="references.html#what-is-this-for-12"><i class="fa fa-check"></i><b>10.166</b> What Is This For?</a></li>
<li class="chapter" data-level="10.167" data-path="references.html"><a href="references.html#part-1-prediction-vs.-causation"><i class="fa fa-check"></i><b>10.167</b> Part 1: Prediction vs. Causation</a>
<ul>
<li class="chapter" data-level="10.167.1" data-path="references.html"><a href="references.html#what-is-prediction"><i class="fa fa-check"></i><b>10.167.1</b> What is Prediction?</a></li>
<li class="chapter" data-level="10.167.2" data-path="references.html"><a href="references.html#what-is-causation"><i class="fa fa-check"></i><b>10.167.2</b> What is Causation?</a></li>
<li class="chapter" data-level="10.167.3" data-path="references.html"><a href="references.html#why-the-distinction-matters"><i class="fa fa-check"></i><b>10.167.3</b> Why the Distinction Matters</a></li>
</ul></li>
<li class="chapter" data-level="10.168" data-path="references.html"><a href="references.html#part-2-the-fundamental-problem-of-causal-inference"><i class="fa fa-check"></i><b>10.168</b> Part 2: The Fundamental Problem of Causal Inference</a>
<ul>
<li class="chapter" data-level="10.168.1" data-path="references.html"><a href="references.html#potential-outcomes-framework"><i class="fa fa-check"></i><b>10.168.1</b> Potential Outcomes Framework</a></li>
<li class="chapter" data-level="10.168.2" data-path="references.html"><a href="references.html#the-core-problem"><i class="fa fa-check"></i><b>10.168.2</b> The Core Problem</a></li>
<li class="chapter" data-level="10.168.3" data-path="references.html"><a href="references.html#what-we-actually-observe"><i class="fa fa-check"></i><b>10.168.3</b> What We Actually Observe</a></li>
</ul></li>
<li class="chapter" data-level="10.169" data-path="references.html"><a href="references.html#part-3-average-treatment-effects"><i class="fa fa-check"></i><b>10.169</b> Part 3: Average Treatment Effects</a>
<ul>
<li class="chapter" data-level="10.169.1" data-path="references.html"><a href="references.html#from-individual-to-average-effects"><i class="fa fa-check"></i><b>10.169.1</b> From Individual to Average Effects</a></li>
<li class="chapter" data-level="10.169.2" data-path="references.html"><a href="references.html#the-key-assumption"><i class="fa fa-check"></i><b>10.169.2</b> The Key Assumption</a></li>
</ul></li>
<li class="chapter" data-level="10.170" data-path="references.html"><a href="references.html#part-4-confounding-and-causal-relationships"><i class="fa fa-check"></i><b>10.170</b> Part 4: Confounding and Causal Relationships</a>
<ul>
<li class="chapter" data-level="10.170.1" data-path="references.html"><a href="references.html#common-causal-patterns"><i class="fa fa-check"></i><b>10.170.1</b> Common Causal Patterns</a></li>
<li class="chapter" data-level="10.170.2" data-path="references.html"><a href="references.html#real-world-example-the-google-memo"><i class="fa fa-check"></i><b>10.170.2</b> Real-World Example: The Google Memo</a></li>
</ul></li>
<li class="chapter" data-level="10.171" data-path="references.html"><a href="references.html#part-5-establishing-causation"><i class="fa fa-check"></i><b>10.171</b> Part 5: Establishing Causation</a>
<ul>
<li class="chapter" data-level="10.171.1" data-path="references.html"><a href="references.html#three-requirements-for-causal-claims"><i class="fa fa-check"></i><b>10.171.1</b> Three Requirements for Causal Claims</a></li>
<li class="chapter" data-level="10.171.2" data-path="references.html"><a href="references.html#the-challenge-of-confounders"><i class="fa fa-check"></i><b>10.171.2</b> The Challenge of Confounders</a></li>
</ul></li>
<li class="chapter" data-level="10.172" data-path="references.html"><a href="references.html#part-6-two-paths-to-causal-inference"><i class="fa fa-check"></i><b>10.172</b> Part 6: Two Paths to Causal Inference</a>
<ul>
<li class="chapter" data-level="10.172.1" data-path="references.html"><a href="references.html#path-1-randomization"><i class="fa fa-check"></i><b>10.172.1</b> Path 1: Randomization</a></li>
<li class="chapter" data-level="10.172.2" data-path="references.html"><a href="references.html#path-2-statistical-adjustment"><i class="fa fa-check"></i><b>10.172.2</b> Path 2: Statistical Adjustment</a></li>
</ul></li>
<li class="chapter" data-level="10.173" data-path="references.html"><a href="references.html#conclusion"><i class="fa fa-check"></i><b>10.173</b> Conclusion</a></li>
<li class="chapter" data-level="10.174" data-path="references.html"><a href="references.html#study-questions-8"><i class="fa fa-check"></i><b>10.174</b> Study Questions</a>
<ul>
<li class="chapter" data-level="10.174.1" data-path="references.html"><a href="references.html#understanding-concepts"><i class="fa fa-check"></i><b>10.174.1</b> Understanding Concepts</a></li>
<li class="chapter" data-level="10.174.2" data-path="references.html"><a href="references.html#identifying-relationships"><i class="fa fa-check"></i><b>10.174.2</b> Identifying Relationships</a></li>
<li class="chapter" data-level="10.174.3" data-path="references.html"><a href="references.html#applying-knowledge"><i class="fa fa-check"></i><b>10.174.3</b> Applying Knowledge</a></li>
<li class="chapter" data-level="10.174.4" data-path="references.html"><a href="references.html#critical-thinking-4"><i class="fa fa-check"></i><b>10.174.4</b> Critical Thinking</a></li>
<li class="chapter" data-level="10.174.5" data-path="references.html"><a href="references.html#working-with-data"><i class="fa fa-check"></i><b>10.174.5</b> Working with Data</a></li>
</ul></li>
<li class="chapter" data-level="10.175" data-path="references.html"><a href="references.html#learning-objectives-16"><i class="fa fa-check"></i><b>10.175</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.176" data-path="references.html"><a href="references.html#what-is-this-for-13"><i class="fa fa-check"></i><b>10.176</b> What Is This For?</a></li>
<li class="chapter" data-level="10.177" data-path="references.html"><a href="references.html#loading-the-data-economic-voting-in-presidential-elections"><i class="fa fa-check"></i><b>10.177</b> Loading the Data: Economic Voting in Presidential Elections</a></li>
<li class="chapter" data-level="10.178" data-path="references.html"><a href="references.html#from-groups-to-relationships"><i class="fa fa-check"></i><b>10.178</b> From Groups to Relationships</a></li>
<li class="chapter" data-level="10.179" data-path="references.html"><a href="references.html#correlation-coefficients"><i class="fa fa-check"></i><b>10.179</b> Correlation Coefficients</a>
<ul>
<li class="chapter" data-level="10.179.1" data-path="references.html"><a href="references.html#the-basic-idea"><i class="fa fa-check"></i><b>10.179.1</b> The Basic Idea</a></li>
<li class="chapter" data-level="10.179.2" data-path="references.html"><a href="references.html#visualizing-the-relationship"><i class="fa fa-check"></i><b>10.179.2</b> Visualizing the Relationship</a></li>
<li class="chapter" data-level="10.179.3" data-path="references.html"><a href="references.html#understanding-the-correlation-coefficient"><i class="fa fa-check"></i><b>10.179.3</b> Understanding the Correlation Coefficient</a></li>
<li class="chapter" data-level="10.179.4" data-path="references.html"><a href="references.html#the-math-behind-correlation"><i class="fa fa-check"></i><b>10.179.4</b> The Math Behind Correlation</a></li>
<li class="chapter" data-level="10.179.5" data-path="references.html"><a href="references.html#visualizing-how-correlation-works"><i class="fa fa-check"></i><b>10.179.5</b> Visualizing How Correlation Works</a></li>
</ul></li>
<li class="chapter" data-level="10.180" data-path="references.html"><a href="references.html#limitations-of-correlation"><i class="fa fa-check"></i><b>10.180</b> Limitations of Correlation</a></li>
<li class="chapter" data-level="10.181" data-path="references.html"><a href="references.html#from-correlation-to-regression"><i class="fa fa-check"></i><b>10.181</b> From Correlation to Regression</a>
<ul>
<li class="chapter" data-level="10.181.1" data-path="references.html"><a href="references.html#why-we-need-more-than-correlation"><i class="fa fa-check"></i><b>10.181.1</b> Why We Need More Than Correlation</a></li>
<li class="chapter" data-level="10.181.2" data-path="references.html"><a href="references.html#the-regression-line-concept"><i class="fa fa-check"></i><b>10.181.2</b> The Regression Line Concept</a></li>
</ul></li>
<li class="chapter" data-level="10.182" data-path="references.html"><a href="references.html#simple-linear-regression"><i class="fa fa-check"></i><b>10.182</b> Simple Linear Regression</a>
<ul>
<li class="chapter" data-level="10.182.1" data-path="references.html"><a href="references.html#the-basic-model"><i class="fa fa-check"></i><b>10.182.1</b> The Basic Model</a></li>
<li class="chapter" data-level="10.182.2" data-path="references.html"><a href="references.html#finding-the-best-line-least-squares"><i class="fa fa-check"></i><b>10.182.2</b> Finding the Best Line: Least Squares</a></li>
<li class="chapter" data-level="10.182.3" data-path="references.html"><a href="references.html#fitting-the-model-in-r"><i class="fa fa-check"></i><b>10.182.3</b> Fitting the Model in R</a></li>
<li class="chapter" data-level="10.182.4" data-path="references.html"><a href="references.html#visualizing-the-complete-picture"><i class="fa fa-check"></i><b>10.182.4</b> Visualizing the Complete Picture</a></li>
<li class="chapter" data-level="10.182.5" data-path="references.html"><a href="references.html#making-predictions"><i class="fa fa-check"></i><b>10.182.5</b> Making Predictions</a></li>
</ul></li>
<li class="chapter" data-level="10.183" data-path="references.html"><a href="references.html#summary-and-key-takeaways"><i class="fa fa-check"></i><b>10.183</b> Summary and Key Takeaways</a></li>
<li class="chapter" data-level="10.184" data-path="references.html"><a href="references.html#reviewstudy-questions"><i class="fa fa-check"></i><b>10.184</b> Review/Study Questions</a>
<ul>
<li class="chapter" data-level="10.184.1" data-path="references.html"><a href="references.html#understanding-concepts-1"><i class="fa fa-check"></i><b>10.184.1</b> Understanding Concepts</a></li>
<li class="chapter" data-level="10.184.2" data-path="references.html"><a href="references.html#calculating-and-interpreting"><i class="fa fa-check"></i><b>10.184.2</b> Calculating and Interpreting</a></li>
<li class="chapter" data-level="10.184.3" data-path="references.html"><a href="references.html#working-with-r-1"><i class="fa fa-check"></i><b>10.184.3</b> Working with R</a></li>
<li class="chapter" data-level="10.184.4" data-path="references.html"><a href="references.html#critical-thinking-5"><i class="fa fa-check"></i><b>10.184.4</b> Critical Thinking</a></li>
</ul></li>
<li class="chapter" data-level="10.185" data-path="references.html"><a href="references.html#learning-objectives-17"><i class="fa fa-check"></i><b>10.185</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.186" data-path="references.html"><a href="references.html#why-do-we-need-inference-in-regression"><i class="fa fa-check"></i><b>10.186</b> Why Do We Need Inference in Regression?</a></li>
<li class="chapter" data-level="10.187" data-path="references.html"><a href="references.html#quick-review-the-regression-line"><i class="fa fa-check"></i><b>10.187</b> Quick Review: The Regression Line</a></li>
<li class="chapter" data-level="10.188" data-path="references.html"><a href="references.html#our-estimates-vary-from-sample-to-sample"><i class="fa fa-check"></i><b>10.188</b> Our Estimates Vary from Sample to Sample</a></li>
<li class="chapter" data-level="10.189" data-path="references.html"><a href="references.html#the-gauss-markov-assumptions-simplified"><i class="fa fa-check"></i><b>10.189</b> The Gauss-Markov Assumptions (Simplified)</a></li>
<li class="chapter" data-level="10.190" data-path="references.html"><a href="references.html#testing-whether-the-slope-is-real-the-t-statistic"><i class="fa fa-check"></i><b>10.190</b> Testing Whether the Slope is Real: The t-statistic</a></li>
<li class="chapter" data-level="10.191" data-path="references.html"><a href="references.html#understanding-p-values"><i class="fa fa-check"></i><b>10.191</b> Understanding p-values</a></li>
<li class="chapter" data-level="10.192" data-path="references.html"><a href="references.html#lets-read-real-r-output-together"><i class="fa fa-check"></i><b>10.192</b> Let’s Read Real R Output Together</a></li>
<li class="chapter" data-level="10.193" data-path="references.html"><a href="references.html#standard-errors-where-do-they-come-from"><i class="fa fa-check"></i><b>10.193</b> Standard Errors: Where Do They Come From?</a></li>
<li class="chapter" data-level="10.194" data-path="references.html"><a href="references.html#confidence-intervals-a-range-of-plausible-values"><i class="fa fa-check"></i><b>10.194</b> Confidence Intervals: A Range of Plausible Values</a></li>
<li class="chapter" data-level="10.195" data-path="references.html"><a href="references.html#from-statistics-to-substance"><i class="fa fa-check"></i><b>10.195</b> From Statistics to Substance</a></li>
<li class="chapter" data-level="10.196" data-path="references.html"><a href="references.html#reading-comprehension-questions"><i class="fa fa-check"></i><b>10.196</b> Reading Comprehension Questions</a></li>
<li class="chapter" data-level="10.197" data-path="references.html"><a href="references.html#learning-objectives-18"><i class="fa fa-check"></i><b>10.197</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.198" data-path="references.html"><a href="references.html#what-is-this-for-14"><i class="fa fa-check"></i><b>10.198</b> What Is This For?</a></li>
<li class="chapter" data-level="10.199" data-path="references.html"><a href="references.html#the-problem-of-confounding"><i class="fa fa-check"></i><b>10.199</b> The Problem of Confounding</a>
<ul>
<li class="chapter" data-level="10.199.1" data-path="references.html"><a href="references.html#an-intuitive-example-cars-weight-and-fuel-efficiency"><i class="fa fa-check"></i><b>10.199.1</b> An Intuitive Example: Cars, Weight, and Fuel Efficiency</a></li>
<li class="chapter" data-level="10.199.2" data-path="references.html"><a href="references.html#what-does-controlling-for-mean"><i class="fa fa-check"></i><b>10.199.2</b> What Does “Controlling For” Mean?</a></li>
</ul></li>
<li class="chapter" data-level="10.200" data-path="references.html"><a href="references.html#multiple-regression-the-model"><i class="fa fa-check"></i><b>10.200</b> Multiple Regression: The Model</a></li>
<li class="chapter" data-level="10.201" data-path="references.html"><a href="references.html#multiple-regression-in-r-the-mtcars-example"><i class="fa fa-check"></i><b>10.201</b> Multiple Regression in R: The mtcars Example</a>
<ul>
<li class="chapter" data-level="10.201.1" data-path="references.html"><a href="references.html#reading-the-coefficients-table"><i class="fa fa-check"></i><b>10.201.1</b> Reading the Coefficients Table</a></li>
<li class="chapter" data-level="10.201.2" data-path="references.html"><a href="references.html#comparing-the-models"><i class="fa fa-check"></i><b>10.201.2</b> Comparing the Models</a></li>
</ul></li>
<li class="chapter" data-level="10.202" data-path="references.html"><a href="references.html#application-to-political-science-trump-thermometer-scores"><i class="fa fa-check"></i><b>10.202</b> Application to Political Science: Trump Thermometer Scores</a>
<ul>
<li class="chapter" data-level="10.202.1" data-path="references.html"><a href="references.html#loading-and-preparing-the-data"><i class="fa fa-check"></i><b>10.202.1</b> Loading and Preparing the Data</a></li>
<li class="chapter" data-level="10.202.2" data-path="references.html"><a href="references.html#the-bivariate-relationship-age-and-trump-evaluations"><i class="fa fa-check"></i><b>10.202.2</b> The Bivariate Relationship: Age and Trump Evaluations</a></li>
<li class="chapter" data-level="10.202.3" data-path="references.html"><a href="references.html#adding-the-control-party-identification"><i class="fa fa-check"></i><b>10.202.3</b> Adding the Control: Party Identification</a></li>
<li class="chapter" data-level="10.202.4" data-path="references.html"><a href="references.html#what-did-controlling-for-party-accomplish"><i class="fa fa-check"></i><b>10.202.4</b> What Did Controlling for Party Accomplish?</a></li>
</ul></li>
<li class="chapter" data-level="10.203" data-path="references.html"><a href="references.html#a-step-by-step-guide-to-interpreting-regression-coefficients"><i class="fa fa-check"></i><b>10.203</b> A Step-by-Step Guide to Interpreting Regression Coefficients</a>
<ul>
<li class="chapter" data-level="10.203.1" data-path="references.html"><a href="references.html#understanding-standard-errors-and-t-statistics"><i class="fa fa-check"></i><b>10.203.1</b> Understanding Standard Errors and t-statistics</a></li>
</ul></li>
<li class="chapter" data-level="10.204" data-path="references.html"><a href="references.html#visualizing-multiple-regression-results"><i class="fa fa-check"></i><b>10.204</b> Visualizing Multiple Regression Results</a></li>
<li class="chapter" data-level="10.205" data-path="references.html"><a href="references.html#review-questions-2"><i class="fa fa-check"></i><b>10.205</b> Review Questions</a>
<ul>
<li class="chapter" data-level="10.205.1" data-path="references.html"><a href="references.html#conceptual-understanding-5"><i class="fa fa-check"></i><b>10.205.1</b> Conceptual Understanding</a></li>
<li class="chapter" data-level="10.205.2" data-path="references.html"><a href="references.html#interpretation-practice"><i class="fa fa-check"></i><b>10.205.2</b> Interpretation Practice</a></li>
<li class="chapter" data-level="10.205.3" data-path="references.html"><a href="references.html#application-to-the-trump-example"><i class="fa fa-check"></i><b>10.205.3</b> Application to the Trump Example</a></li>
<li class="chapter" data-level="10.205.4" data-path="references.html"><a href="references.html#critical-thinking-6"><i class="fa fa-check"></i><b>10.205.4</b> Critical Thinking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="overview-when-predictions-go-wrong.html"><a href="overview-when-predictions-go-wrong.html"><i class="fa fa-check"></i><b>11</b> Overview: When Predictions Go Wrong</a></li>
<li class="chapter" data-level="12" data-path="the-2016-election-in-context.html"><a href="the-2016-election-in-context.html"><i class="fa fa-check"></i><b>12</b> The 2016 Election in Context</a>
<ul>
<li class="chapter" data-level="12.1" data-path="the-2016-election-in-context.html"><a href="the-2016-election-in-context.html#loading-and-preparing-the-data-1"><i class="fa fa-check"></i><b>12.1</b> Loading and Preparing the Data</a></li>
<li class="chapter" data-level="12.2" data-path="the-2016-election-in-context.html"><a href="the-2016-election-in-context.html#the-simple-economic-model"><i class="fa fa-check"></i><b>12.2</b> The Simple Economic Model</a></li>
<li class="chapter" data-level="12.3" data-path="the-2016-election-in-context.html"><a href="the-2016-election-in-context.html#adding-presidential-approval"><i class="fa fa-check"></i><b>12.3</b> Adding Presidential Approval</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="understanding-model-fit-through-residuals.html"><a href="understanding-model-fit-through-residuals.html"><i class="fa fa-check"></i><b>13</b> Understanding Model Fit Through Residuals</a>
<ul>
<li class="chapter" data-level="13.1" data-path="understanding-model-fit-through-residuals.html"><a href="understanding-model-fit-through-residuals.html#extracting-and-examining-residuals"><i class="fa fa-check"></i><b>13.1</b> Extracting and Examining Residuals</a></li>
<li class="chapter" data-level="13.2" data-path="understanding-model-fit-through-residuals.html"><a href="understanding-model-fit-through-residuals.html#three-dimensional-visualization"><i class="fa fa-check"></i><b>13.2</b> Three-Dimensional Visualization</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="from-residuals-to-r-squared.html"><a href="from-residuals-to-r-squared.html"><i class="fa fa-check"></i><b>14</b> From Residuals to R-Squared</a>
<ul>
<li class="chapter" data-level="14.1" data-path="from-residuals-to-r-squared.html"><a href="from-residuals-to-r-squared.html#calculating-r-squared-manually"><i class="fa fa-check"></i><b>14.1</b> Calculating R-Squared Manually</a></li>
<li class="chapter" data-level="14.2" data-path="from-residuals-to-r-squared.html"><a href="from-residuals-to-r-squared.html#interpreting-r-squared"><i class="fa fa-check"></i><b>14.2</b> Interpreting R-Squared</a></li>
<li class="chapter" data-level="14.3" data-path="from-residuals-to-r-squared.html"><a href="from-residuals-to-r-squared.html#comparing-models-with-r-squared"><i class="fa fa-check"></i><b>14.3</b> Comparing Models with R-Squared</a></li>
<li class="chapter" data-level="14.4" data-path="from-residuals-to-r-squared.html"><a href="from-residuals-to-r-squared.html#adjusted-r-squared"><i class="fa fa-check"></i><b>14.4</b> Adjusted R-Squared</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="the-f-test-testing-overall-model-significance.html"><a href="the-f-test-testing-overall-model-significance.html"><i class="fa fa-check"></i><b>15</b> The F-Test: Testing Overall Model Significance</a>
<ul>
<li class="chapter" data-level="15.1" data-path="the-f-test-testing-overall-model-significance.html"><a href="the-f-test-testing-overall-model-significance.html#the-logic-of-the-f-test"><i class="fa fa-check"></i><b>15.1</b> The Logic of the F-Test</a></li>
<li class="chapter" data-level="15.2" data-path="the-f-test-testing-overall-model-significance.html"><a href="the-f-test-testing-overall-model-significance.html#understanding-the-f-statistic"><i class="fa fa-check"></i><b>15.2</b> Understanding the F-Statistic</a></li>
<li class="chapter" data-level="15.3" data-path="the-f-test-testing-overall-model-significance.html"><a href="the-f-test-testing-overall-model-significance.html#reading-f-test-output"><i class="fa fa-check"></i><b>15.3</b> Reading F-Test Output</a></li>
<li class="chapter" data-level="15.4" data-path="the-f-test-testing-overall-model-significance.html"><a href="the-f-test-testing-overall-model-significance.html#the-connection-between-f-and-r-squared"><i class="fa fa-check"></i><b>15.4</b> The Connection Between F and R-Squared</a></li>
<li class="chapter" data-level="15.5" data-path="the-f-test-testing-overall-model-significance.html"><a href="the-f-test-testing-overall-model-significance.html#individual-t-tests-vs.-overall-f-test"><i class="fa fa-check"></i><b>15.5</b> Individual t-tests vs. Overall F-test</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="testing-nested-models-the-case-of-categorical-variables.html"><a href="testing-nested-models-the-case-of-categorical-variables.html"><i class="fa fa-check"></i><b>16</b> Testing Nested Models: The Case of Categorical Variables</a>
<ul>
<li class="chapter" data-level="16.1" data-path="testing-nested-models-the-case-of-categorical-variables.html"><a href="testing-nested-models-the-case-of-categorical-variables.html#setting-up-the-problem"><i class="fa fa-check"></i><b>16.1</b> Setting Up the Problem</a></li>
<li class="chapter" data-level="16.2" data-path="testing-nested-models-the-case-of-categorical-variables.html"><a href="testing-nested-models-the-case-of-categorical-variables.html#individual-significance-vs.-joint-significance"><i class="fa fa-check"></i><b>16.2</b> Individual Significance vs. Joint Significance</a></li>
<li class="chapter" data-level="16.3" data-path="testing-nested-models-the-case-of-categorical-variables.html"><a href="testing-nested-models-the-case-of-categorical-variables.html#the-problem-with-individual-tests"><i class="fa fa-check"></i><b>16.3</b> The Problem with Individual Tests</a></li>
<li class="chapter" data-level="16.4" data-path="testing-nested-models-the-case-of-categorical-variables.html"><a href="testing-nested-models-the-case-of-categorical-variables.html#testing-nested-models-with-an-f-test"><i class="fa fa-check"></i><b>16.4</b> Testing Nested Models with an F-Test</a></li>
<li class="chapter" data-level="16.5" data-path="testing-nested-models-the-case-of-categorical-variables.html"><a href="testing-nested-models-the-case-of-categorical-variables.html#understanding-the-f-test-for-nested-models"><i class="fa fa-check"></i><b>16.5</b> Understanding the F-Test for Nested Models</a></li>
<li class="chapter" data-level="16.6" data-path="testing-nested-models-the-case-of-categorical-variables.html"><a href="testing-nested-models-the-case-of-categorical-variables.html#practical-guidelines-for-categorical-variables"><i class="fa fa-check"></i><b>16.6</b> Practical Guidelines for Categorical Variables</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="a-word-of-caution.html"><a href="a-word-of-caution.html"><i class="fa fa-check"></i><b>17</b> A Word of Caution</a></li>
<li class="chapter" data-level="18" data-path="summary-and-key-takeaways-1.html"><a href="summary-and-key-takeaways-1.html"><i class="fa fa-check"></i><b>18</b> Summary and Key Takeaways</a></li>
<li class="chapter" data-level="19" data-path="review-questions-3.html"><a href="review-questions-3.html"><i class="fa fa-check"></i><b>19</b> Review Questions</a>
<ul>
<li class="chapter" data-level="19.1" data-path="review-questions-3.html"><a href="review-questions-3.html#conceptual-understanding-6"><i class="fa fa-check"></i><b>19.1</b> Conceptual Understanding</a></li>
<li class="chapter" data-level="19.2" data-path="review-questions-3.html"><a href="review-questions-3.html#practical-application-2"><i class="fa fa-check"></i><b>19.2</b> Practical Application</a></li>
<li class="chapter" data-level="19.3" data-path="review-questions-3.html"><a href="review-questions-3.html#critical-thinking-7"><i class="fa fa-check"></i><b>19.3</b> Critical Thinking</a></li>
<li class="chapter" data-level="19.4" data-path="review-questions-3.html"><a href="review-questions-3.html#data-analysis-challenge"><i class="fa fa-check"></i><b>19.4</b> Data Analysis Challenge</a></li>
<li class="chapter" data-level="19.5" data-path="review-questions-3.html"><a href="review-questions-3.html#learning-objectives-19"><i class="fa fa-check"></i><b>19.5</b> Learning Objectives</a></li>
<li class="chapter" data-level="19.6" data-path="review-questions-3.html"><a href="review-questions-3.html#what-is-this-for-15"><i class="fa fa-check"></i><b>19.6</b> What Is This For?</a></li>
<li class="chapter" data-level="19.7" data-path="review-questions-3.html"><a href="review-questions-3.html#the-gauss-markov-assumptions-in-multivariate-regression"><i class="fa fa-check"></i><b>19.7</b> The Gauss-Markov Assumptions in Multivariate Regression</a>
<ul>
<li class="chapter" data-level="19.7.1" data-path="review-questions-3.html"><a href="review-questions-3.html#review-why-assumptions-matter"><i class="fa fa-check"></i><b>19.7.1</b> Review: Why Assumptions Matter</a></li>
<li class="chapter" data-level="19.7.2" data-path="review-questions-3.html"><a href="review-questions-3.html#the-five-core-assumptions"><i class="fa fa-check"></i><b>19.7.2</b> The Five Core Assumptions</a></li>
<li class="chapter" data-level="19.7.3" data-path="review-questions-3.html"><a href="review-questions-3.html#understanding-each-assumption"><i class="fa fa-check"></i><b>19.7.3</b> Understanding Each Assumption</a></li>
<li class="chapter" data-level="19.7.4" data-path="review-questions-3.html"><a href="review-questions-3.html#what-happens-when-assumptions-are-violated"><i class="fa fa-check"></i><b>19.7.4</b> What Happens When Assumptions Are Violated?</a></li>
<li class="chapter" data-level="19.7.5" data-path="review-questions-3.html"><a href="review-questions-3.html#a-visual-example-when-assumptions-hold"><i class="fa fa-check"></i><b>19.7.5</b> A Visual Example: When Assumptions Hold</a></li>
<li class="chapter" data-level="19.7.6" data-path="review-questions-3.html"><a href="review-questions-3.html#the-philosophy-of-diagnostics"><i class="fa fa-check"></i><b>19.7.6</b> The Philosophy of Diagnostics</a></li>
</ul></li>
<li class="chapter" data-level="19.8" data-path="review-questions-3.html"><a href="review-questions-3.html#diagnosing-regression-problems-a-practical-approach"><i class="fa fa-check"></i><b>19.8</b> Diagnosing Regression Problems: A Practical Approach</a>
<ul>
<li class="chapter" data-level="19.8.1" data-path="review-questions-3.html"><a href="review-questions-3.html#the-residual-plot-your-primary-diagnostic-tool"><i class="fa fa-check"></i><b>19.8.1</b> The Residual Plot: Your Primary Diagnostic Tool</a></li>
<li class="chapter" data-level="19.8.2" data-path="review-questions-3.html"><a href="review-questions-3.html#supporting-diagnostic-plots"><i class="fa fa-check"></i><b>19.8.2</b> Supporting Diagnostic Plots</a></li>
<li class="chapter" data-level="19.8.3" data-path="review-questions-3.html"><a href="review-questions-3.html#the-diagnostic-process"><i class="fa fa-check"></i><b>19.8.3</b> The Diagnostic Process</a></li>
</ul></li>
<li class="chapter" data-level="19.9" data-path="review-questions-3.html"><a href="review-questions-3.html#a-complete-worked-example-international-trade-data"><i class="fa fa-check"></i><b>19.9</b> A Complete Worked Example: International Trade Data</a></li>
<li class="chapter" data-level="19.10" data-path="review-questions-3.html"><a href="review-questions-3.html#a-complete-worked-example-international-trade-data-1"><i class="fa fa-check"></i><b>19.10</b> A Complete Worked Example: International Trade Data</a>
<ul>
<li class="chapter" data-level="19.10.1" data-path="review-questions-3.html"><a href="review-questions-3.html#the-data-and-research-question"><i class="fa fa-check"></i><b>19.10.1</b> The Data and Research Question</a></li>
<li class="chapter" data-level="19.10.2" data-path="review-questions-3.html"><a href="review-questions-3.html#initial-model-and-diagnosis"><i class="fa fa-check"></i><b>19.10.2</b> Initial Model and Diagnosis</a></li>
<li class="chapter" data-level="19.10.3" data-path="review-questions-3.html"><a href="review-questions-3.html#fix-1-variable-transformation"><i class="fa fa-check"></i><b>19.10.3</b> Fix #1: Variable Transformation</a></li>
<li class="chapter" data-level="19.10.4" data-path="review-questions-3.html"><a href="review-questions-3.html#fix-2-adding-polynomial-terms"><i class="fa fa-check"></i><b>19.10.4</b> Fix #2: Adding Polynomial Terms</a></li>
<li class="chapter" data-level="19.10.5" data-path="review-questions-3.html"><a href="review-questions-3.html#fix-3-robust-standard-errors"><i class="fa fa-check"></i><b>19.10.5</b> Fix #3: Robust Standard Errors</a></li>
<li class="chapter" data-level="19.10.6" data-path="review-questions-3.html"><a href="review-questions-3.html#fix-4-addressing-time-series-and-clustering-structure"><i class="fa fa-check"></i><b>19.10.6</b> Fix #4: Addressing Time Series and Clustering Structure</a></li>
<li class="chapter" data-level="19.10.7" data-path="review-questions-3.html"><a href="review-questions-3.html#checking-the-final-residuals"><i class="fa fa-check"></i><b>19.10.7</b> Checking the Final Residuals</a></li>
<li class="chapter" data-level="19.10.8" data-path="review-questions-3.html"><a href="review-questions-3.html#summary-what-we-found-and-what-we-did"><i class="fa fa-check"></i><b>19.10.8</b> Summary: What We Found and What We Did</a></li>
<li class="chapter" data-level="19.10.9" data-path="review-questions-3.html"><a href="review-questions-3.html#final-model-and-substantive-conclusions"><i class="fa fa-check"></i><b>19.10.9</b> Final Model and Substantive Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="19.11" data-path="review-questions-3.html"><a href="review-questions-3.html#when-ols-isnt-enough-recognizing-special-cases"><i class="fa fa-check"></i><b>19.11</b> When OLS Isn’t Enough: Recognizing Special Cases</a>
<ul>
<li class="chapter" data-level="19.11.1" data-path="review-questions-3.html"><a href="review-questions-3.html#binary-outcomes"><i class="fa fa-check"></i><b>19.11.1</b> Binary Outcomes</a></li>
<li class="chapter" data-level="19.11.2" data-path="review-questions-3.html"><a href="review-questions-3.html#categorical-outcomes"><i class="fa fa-check"></i><b>19.11.2</b> Categorical Outcomes</a></li>
<li class="chapter" data-level="19.11.3" data-path="review-questions-3.html"><a href="review-questions-3.html#count-outcomes"><i class="fa fa-check"></i><b>19.11.3</b> Count Outcomes</a></li>
<li class="chapter" data-level="19.11.4" data-path="review-questions-3.html"><a href="review-questions-3.html#pure-time-series-data"><i class="fa fa-check"></i><b>19.11.4</b> Pure Time Series Data</a></li>
<li class="chapter" data-level="19.11.5" data-path="review-questions-3.html"><a href="review-questions-3.html#panel-and-hierarchical-data"><i class="fa fa-check"></i><b>19.11.5</b> Panel and Hierarchical Data</a></li>
<li class="chapter" data-level="19.11.6" data-path="review-questions-3.html"><a href="review-questions-3.html#the-bottom-line"><i class="fa fa-check"></i><b>19.11.6</b> The Bottom Line</a></li>
</ul></li>
<li class="chapter" data-level="19.12" data-path="review-questions-3.html"><a href="review-questions-3.html#a-reference-guide-to-formal-diagnostic-tests"><i class="fa fa-check"></i><b>19.12</b> A Reference Guide to Formal Diagnostic Tests</a>
<ul>
<li class="chapter" data-level="19.12.1" data-path="review-questions-3.html"><a href="review-questions-3.html#common-diagnostic-tests"><i class="fa fa-check"></i><b>19.12.1</b> Common Diagnostic Tests</a></li>
<li class="chapter" data-level="19.12.2" data-path="review-questions-3.html"><a href="review-questions-3.html#using-these-tests"><i class="fa fa-check"></i><b>19.12.2</b> Using These Tests</a></li>
</ul></li>
<li class="chapter" data-level="19.13" data-path="review-questions-3.html"><a href="review-questions-3.html#summary-a-workflow-for-careful-regression-analysis"><i class="fa fa-check"></i><b>19.13</b> Summary: A Workflow for Careful Regression Analysis</a>
<ul>
<li class="chapter" data-level="19.13.1" data-path="review-questions-3.html"><a href="review-questions-3.html#the-diagnostic-workflow"><i class="fa fa-check"></i><b>19.13.1</b> The Diagnostic Workflow</a></li>
<li class="chapter" data-level="19.13.2" data-path="review-questions-3.html"><a href="review-questions-3.html#best-practices"><i class="fa fa-check"></i><b>19.13.2</b> Best Practices</a></li>
<li class="chapter" data-level="19.13.3" data-path="review-questions-3.html"><a href="review-questions-3.html#final-thoughts"><i class="fa fa-check"></i><b>19.13.3</b> Final Thoughts</a></li>
</ul></li>
<li class="chapter" data-level="19.14" data-path="review-questions-3.html"><a href="review-questions-3.html#review-questions-4"><i class="fa fa-check"></i><b>19.14</b> Review Questions</a></li>
<li class="chapter" data-level="19.15" data-path="review-questions-3.html"><a href="review-questions-3.html#learning-objectives-20"><i class="fa fa-check"></i><b>19.15</b> Learning Objectives</a></li>
<li class="chapter" data-level="19.16" data-path="review-questions-3.html"><a href="review-questions-3.html#what-is-this-for-16"><i class="fa fa-check"></i><b>19.16</b> What Is This For?</a></li>
<li class="chapter" data-level="19.17" data-path="review-questions-3.html"><a href="review-questions-3.html#part-1-binary-indicators-as-difference-in-means"><i class="fa fa-check"></i><b>19.17</b> Part 1: Binary Indicators as Difference in Means</a>
<ul>
<li class="chapter" data-level="19.17.1" data-path="review-questions-3.html"><a href="review-questions-3.html#approach-1-the-t-test"><i class="fa fa-check"></i><b>19.17.1</b> Approach 1: The T-Test</a></li>
<li class="chapter" data-level="19.17.2" data-path="review-questions-3.html"><a href="review-questions-3.html#approach-2-regression-with-a-binary-indicator"><i class="fa fa-check"></i><b>19.17.2</b> Approach 2: Regression with a Binary Indicator</a></li>
<li class="chapter" data-level="19.17.3" data-path="review-questions-3.html"><a href="review-questions-3.html#the-key-insight-they-are-identical"><i class="fa fa-check"></i><b>19.17.3</b> The Key Insight: They Are Identical</a></li>
<li class="chapter" data-level="19.17.4" data-path="review-questions-3.html"><a href="review-questions-3.html#why-this-matters-1"><i class="fa fa-check"></i><b>19.17.4</b> Why This Matters</a></li>
</ul></li>
<li class="chapter" data-level="19.18" data-path="review-questions-3.html"><a href="review-questions-3.html#part-2-extending-to-categorical-variables"><i class="fa fa-check"></i><b>19.18</b> Part 2: Extending to Categorical Variables</a>
<ul>
<li class="chapter" data-level="19.18.1" data-path="review-questions-3.html"><a href="review-questions-3.html#the-k-1-dummy-variable-rule"><i class="fa fa-check"></i><b>19.18.1</b> The K-1 Dummy Variable Rule</a></li>
<li class="chapter" data-level="19.18.2" data-path="review-questions-3.html"><a href="review-questions-3.html#interpreting-the-output"><i class="fa fa-check"></i><b>19.18.2</b> Interpreting the Output</a></li>
<li class="chapter" data-level="19.18.3" data-path="review-questions-3.html"><a href="review-questions-3.html#how-baseline-choice-affects-interpretation"><i class="fa fa-check"></i><b>19.18.3</b> How Baseline Choice Affects Interpretation</a></li>
<li class="chapter" data-level="19.18.4" data-path="review-questions-3.html"><a href="review-questions-3.html#practical-guidance-on-choosing-a-baseline"><i class="fa fa-check"></i><b>19.18.4</b> Practical Guidance on Choosing a Baseline</a></li>
</ul></li>
<li class="chapter" data-level="19.19" data-path="review-questions-3.html"><a href="review-questions-3.html#part-3-fixed-effects-in-panel-data"><i class="fa fa-check"></i><b>19.19</b> Part 3: Fixed Effects in Panel Data</a>
<ul>
<li class="chapter" data-level="19.19.1" data-path="review-questions-3.html"><a href="review-questions-3.html#the-problem-with-pooled-comparisons"><i class="fa fa-check"></i><b>19.19.1</b> The Problem with Pooled Comparisons</a></li>
<li class="chapter" data-level="19.19.2" data-path="review-questions-3.html"><a href="review-questions-3.html#fixed-effects-as-many-dummy-variables"><i class="fa fa-check"></i><b>19.19.2</b> Fixed Effects as Many Dummy Variables</a></li>
<li class="chapter" data-level="19.19.3" data-path="review-questions-3.html"><a href="review-questions-3.html#two-ways-to-think-about-fixed-effects"><i class="fa fa-check"></i><b>19.19.3</b> Two Ways to Think About Fixed Effects</a></li>
<li class="chapter" data-level="19.19.4" data-path="review-questions-3.html"><a href="review-questions-3.html#when-to-use-different-types-of-fixed-effects"><i class="fa fa-check"></i><b>19.19.4</b> When to Use Different Types of Fixed Effects</a></li>
</ul></li>
<li class="chapter" data-level="19.20" data-path="review-questions-3.html"><a href="review-questions-3.html#part-4-interactions"><i class="fa fa-check"></i><b>19.20</b> Part 4: Interactions</a>
<ul>
<li class="chapter" data-level="19.20.1" data-path="review-questions-3.html"><a href="review-questions-3.html#the-research-question"><i class="fa fa-check"></i><b>19.20.1</b> The Research Question</a></li>
<li class="chapter" data-level="19.20.2" data-path="review-questions-3.html"><a href="review-questions-3.html#setting-up-the-interaction"><i class="fa fa-check"></i><b>19.20.2</b> Setting Up the Interaction</a></li>
<li class="chapter" data-level="19.20.3" data-path="review-questions-3.html"><a href="review-questions-3.html#interpreting-interaction-coefficients"><i class="fa fa-check"></i><b>19.20.3</b> Interpreting Interaction Coefficients</a></li>
<li class="chapter" data-level="19.20.4" data-path="review-questions-3.html"><a href="review-questions-3.html#a-step-by-step-method-for-interpretation"><i class="fa fa-check"></i><b>19.20.4</b> A Step-by-Step Method for Interpretation</a></li>
<li class="chapter" data-level="19.20.5" data-path="review-questions-3.html"><a href="review-questions-3.html#visualizing-the-interaction"><i class="fa fa-check"></i><b>19.20.5</b> Visualizing the Interaction</a></li>
<li class="chapter" data-level="19.20.6" data-path="review-questions-3.html"><a href="review-questions-3.html#statistical-significance-of-interactions"><i class="fa fa-check"></i><b>19.20.6</b> Statistical Significance of Interactions</a></li>
</ul></li>
<li class="chapter" data-level="19.21" data-path="review-questions-3.html"><a href="review-questions-3.html#summary-and-key-takeaways-2"><i class="fa fa-check"></i><b>19.21</b> Summary and Key Takeaways</a>
<ul>
<li class="chapter" data-level="19.21.1" data-path="review-questions-3.html"><a href="review-questions-3.html#common-pitfalls-to-avoid-2"><i class="fa fa-check"></i><b>19.21.1</b> Common Pitfalls to Avoid</a></li>
</ul></li>
<li class="chapter" data-level="19.22" data-path="review-questions-3.html"><a href="review-questions-3.html#review-questions-5"><i class="fa fa-check"></i><b>19.22</b> Review Questions</a>
<ul>
<li class="chapter" data-level="19.22.1" data-path="review-questions-3.html"><a href="review-questions-3.html#conceptual-understanding-7"><i class="fa fa-check"></i><b>19.22.1</b> Conceptual Understanding</a></li>
<li class="chapter" data-level="19.22.2" data-path="review-questions-3.html"><a href="review-questions-3.html#interpretation-practice-1"><i class="fa fa-check"></i><b>19.22.2</b> Interpretation Practice</a></li>
<li class="chapter" data-level="19.22.3" data-path="review-questions-3.html"><a href="review-questions-3.html#critical-thinking-8"><i class="fa fa-check"></i><b>19.22.3</b> Critical Thinking</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DS4P: Categorical Variables, Fixed Effects, and Interactions</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="references" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number">10</span> References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<ol style="list-style-type: decimal">
<li>The website “R for Data Science”: <a href="https://r4ds.had.co.nz/r-markdown.html" class="uri">https://r4ds.had.co.nz/r-markdown.html</a></li>
<li>Plotting: <a href="https://hbctraining.github.io/Intro-to-R/lessons/basic_plots_in_r.html" class="uri">https://hbctraining.github.io/Intro-to-R/lessons/basic_plots_in_r.html</a></li>
</ol>

<div id="learning-objectives-1" class="section level2 hasAnchor" number="10.1">
<h2><span class="header-section-number">10.1</span> Learning Objectives<a href="references.html#learning-objectives-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Learn how to load data into R, inspect data, and save data.</li>
<li>Learn what observations and variables represent.<br />
</li>
<li>Learn how to add a variable to a datast using R.</li>
<li>Learn the basic structure of vectors, matrices, and data frames.</li>
</ol>
</div>
<div id="what-is-this-for" class="section level2 hasAnchor" number="10.2">
<h2><span class="header-section-number">10.2</span> What Is This For?<a href="references.html#what-is-this-for" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Many people think that data science is all about computer wizardry, artificial intelligence, and elaborate data architectures. Instead, on a day-to-day basis many of the most important data skills are much more mundane. We need to find the right data, get it onto our machines, look at it, understand it, and clean it. These data management steps all come <em>before</em> any data analysis, and they are essential to the success of any data analysis project. A common adage in the world of data analysis is, “garbage in, garbage out.” This means that no matter how fancy your machine learning, if you are analyzing bad data, your results will still not be worth very much. In this session, we will learn the basics of what data looks like in R.</p>
</div>
<div id="importing-data" class="section level2 hasAnchor" number="10.3">
<h2><span class="header-section-number">10.3</span> Importing Data<a href="references.html#importing-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We will work primarily with .csv files in this course. In this session, we will work with an example data set, <code>genderCorona.csv</code>, which I have created for this class (it’s real data). You can download the data set from Canvas or <a href="https://www.dropbox.com/scl/fi/15pqhb6ydah5pp7f9ma9i/genderCorona.csv?rlkey=b7qiuxduqsqlkh0du275rpven&amp;st=sprmf1xy&amp;dl=0">here at Dropbox</a>.</p>
<p>We will cover two ways of getting these data into R, or <em>importing</em> them. The first is to download the data to your computer and then to load it into R. The second is to load the data directly into R using the Dropbox link above.</p>
<div id="download-data-and-load-into-r" class="section level3 hasAnchor" number="10.3.1">
<h3><span class="header-section-number">10.3.1</span> Download data and load into R<a href="references.html#download-data-and-load-into-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, download the file <code>genderCorona.csv</code> from Canvas or Dropbox and <strong>save it in the folder you created for this class</strong>.</p>
<p>Now let’s make sure R knows to look for the file in your folder for this class. That is, let’s make sure that you set the working directory to the correct folder. We can use the <code>getwd</code> to find out R’s current working directory.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="references.html#cb56-1" tabindex="-1"></a><span class="fu">getwd</span>() </span></code></pre></div>
<p>Verify whether this is the correct folder for your setup. The output from this command always tells you what <em>directory</em> R is looking in for files. This means, that whenever you tell R to read files it will look for them here (unless you specifically give R a path). Likewise, when you save files this is where they will go.</p>
<p>If your current working directory is not the folder where you save material for this class, you need to change the working directory. To change where R is looking, we will use the <code>setwd</code> command. For example, if you are on a Mac and you created a folder <code>DS4P_2024</code> on your desktop, your working directory might look something like this:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="references.html#cb57-1" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;~/Desktop/DS4P_2024/&quot;</span>)</span></code></pre></div>
<p>If you are on Windows, your folder location will look slightly differently. For example, if your windows login name is abcd and you saved the folder in your documents folder, you might type something like</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="references.html#cb58-1" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;C:/users/abcd/Documents/DS4P_2024/&quot;</span>)</span></code></pre></div>
<p>You will need to adjust your code accordingly if your folder is somewhere else or if you named your folder something else. Either way, by the end of this week, you <strong>must</strong> have such a folder on your computer and be able to direct R to this folder using the <code>setwd</code> command.</p>
<p>If you still struggle with this step, revisit the material in the readings or on canvas. If none of that works for you, watch this short tutorial on how to set your working directory using RStudio.</p>
<p>
<iframe title="YouTube video player" src="https://www.youtube.com/embed/LNw6hzGgyxM" data-external="1" width="560" height="315" allowfullscreen="allowfullscreen" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture">
</iframe>
</p>
<p>Once you have set your working directory and downloaded the data <code>genderCorona.csv</code>, getting it into R is relatively straightforward. We use the <code>read.csv</code> function. <em>Remember</em> that R is based on objects, and that you need to assign stuff to objects. That is also true for data. You can choose the object name yourself, subject to the constraints we encountered last week (you cannot start with a number, for one). In the following, I will simply create an object <code>genderCorona</code>, but you should feel free to change the name.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="references.html#cb59-1" tabindex="-1"></a>genderCorona <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;genderCorona.csv&quot;</span>)</span></code></pre></div>
<p>ASIDE: If you stored your data in a subfolder within your working directory, for example a subfolder “data”, you would have to adjust the code accordingly:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="references.html#cb60-1" tabindex="-1"></a>genderCorona <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/genderCorona.csv&quot;</span>)</span></code></pre></div>
<p>You now have your data loaded into R, as an object <code>genderCorona</code>. You can verify that this object is, indeed, a data frame!</p>
</div>
<div id="download-data-directly-into-r" class="section level3 hasAnchor" number="10.3.2">
<h3><span class="header-section-number">10.3.2</span> Download data directly into R<a href="references.html#download-data-directly-into-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A second option to get data into R is to download it directly. This works if you have a link, such as the link to a file saved on Dropbox posted above. I will generally make links to Dropbox files available as part of this class. You can then download the file directly into R. For example, using the link I gave you, you can download the data and assign it to an object <code>genderCorona</code> with the following code:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="references.html#cb61-1" tabindex="-1"></a>genderCorona <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">url</span>(<span class="st">&quot;https://www.dropbox.com/scl/fi/uowu2hj9nwmzu6i79cr1s/genderCorona.csv?rlkey=7bhhnt3vxsupfc91zu1n2rr4y&amp;dl=1&quot;</span>))</span></code></pre></div>
<p>Note the ending of the link, which is “dl=1”. This tells Dropbox to directly download the file. Sometimes, a shared link to a file will have a 0 in the end, which only directs your computer to look at it, not to download it. Replacing the 0 with a 1 will allow R to download it directly.</p>
</div>
</div>
<div id="looking-at-your-data" class="section level2 hasAnchor" number="10.4">
<h2><span class="header-section-number">10.4</span> Looking at your data<a href="references.html#looking-at-your-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Once we have the data in R, we can look at it as well.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="references.html#cb62-1" tabindex="-1"></a><span class="fu">head</span>(genderCorona) <span class="do">## Showing the first few rows</span></span></code></pre></div>
<pre><code>##     country iso3n WomanLeader  Death DeathCases DeathMillion CapacityHigh Trust TrustHigh
## 1 Australia    36           0    907        3.3        0.363            1  45.7         1
## 2   Austria    40           0   1377        0.9        1.556            0  45.3         1
## 3   Belgium    56           1  12907        2.6       11.300            1  43.7         1
## 4    Brazil    76           0 162269        2.9        7.747            0  20.0         0
## 5    Canada   124           0  10547        4.0        2.846            0  62.7         1
## 6     Chile   152           0  14499        2.8        7.741            0  26.7         0</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="references.html#cb64-1" tabindex="-1"></a><span class="fu">tail</span>(genderCorona) <span class="do">## Showing the last few rows</span></span></code></pre></div>
<pre><code>##                                                       country iso3n WomanLeader  Death DeathCases
## 34                                                     Sweden   752           0   6022        4.1
## 35                                                Switzerland   756           0   2749        1.3
## 36                                                     Turkey   792           0  10803        2.8
## 37                                                     Russia   810           0  30010        1.7
## 38 United Kingdom of Great Britain and Northern Ireland (the)   826           0  48978        4.2
## 39                             United States of America (the)   840           0 237113        2.4
##    DeathMillion CapacityHigh Trust TrustHigh
## 34        5.914            1  51.3         1
## 35        3.228            1  82.3         1
## 36        1.312            0  56.0         1
## 37        2.077            0  53.3         1
## 38        7.366            0  42.3         0
## 39        7.247            0  33.3         0</code></pre>
<p>You can also use the <code>View</code> and <code>fix</code> commands to either see the entire dataset (like a spreadsheet) or even manually edit values. Try these on your own.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="references.html#cb66-1" tabindex="-1"></a><span class="fu">View</span>(genderCorona) <span class="do">## Opening the data like a spreadsheet</span></span>
<span id="cb66-2"><a href="references.html#cb66-2" tabindex="-1"></a><span class="fu">fix</span>(genderCorona) <span class="do">## You can edit data directly this way</span></span></code></pre></div>
</div>
<div id="understand-the-basic-data-structure" class="section level2 hasAnchor" number="10.5">
<h2><span class="header-section-number">10.5</span> Understand the basic data structure<a href="references.html#understand-the-basic-data-structure" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s pause for a moment to understand what you are looking at. First we want to know what each row in the data represents. This is what we term the “unit of analysis.” We refer to each row (or unit) as an observaction.</p>
<p>Here, we have a data set of 39 countries. Each country represents one observation. Each country is identified with a string variable <code>country</code> and a numeric code <code>iso3n</code>. The latter are standardized codes for all countries in the world, similar to two-letter acronyms for U.S. states.</p>
<p>Next, we have a set of variables: <code>WomanLeader</code> tells us whether a country’s government is run by a woman; the variables <code>Death</code>, <code>DeathCases</code>, and <code>DeathMillion</code> capture deaths from Covid19, deaths from Covid19 relative to cases of Covid19, and deaths from Covid19 relative to 1 million citizens; <code>CapacityHigh</code> captures whether a country performs above-average on a measure of state capacity; <code>Trust</code> captures the percent of people who reported in a standardized survey to have high trust in their government; and <code>TrustHigh</code> is coded 1 for countries that perform above-average on the <code>Trust</code> variable.</p>
<p>The function <code>summary</code> creates a summary table for all of the variables.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="references.html#cb67-1" tabindex="-1"></a><span class="fu">summary</span>(genderCorona)</span></code></pre></div>
<pre><code>##    country              iso3n        WomanLeader         Death            DeathCases   
##  Length:39          Min.   : 36.0   Min.   :0.0000   Min.   :    18.0   Min.   :0.400  
##  Class :character   1st Qu.:239.5   1st Qu.:0.0000   1st Qu.:   504.5   1st Qu.:1.200  
##  Mode  :character   Median :392.0   Median :0.0000   Median :  2749.0   Median :1.700  
##                     Mean   :425.6   Mean   :0.1795   Mean   : 21360.8   Mean   :2.218  
##                     3rd Qu.:618.0   3rd Qu.:0.0000   3rd Qu.: 13703.0   3rd Qu.:2.850  
##                     Max.   :840.0   Max.   :1.0000   Max.   :237113.0   Max.   :9.900  
##   DeathMillion     CapacityHigh        Trust         TrustHigh     
##  Min.   : 0.051   Min.   :0.0000   Min.   :14.30   Min.   :0.0000  
##  1st Qu.: 0.677   1st Qu.:0.0000   1st Qu.:31.85   1st Qu.:0.0000  
##  Median : 2.568   Median :0.0000   Median :41.70   Median :0.0000  
##  Mean   : 3.344   Mean   :0.3077   Mean   :43.04   Mean   :0.4615  
##  3rd Qu.: 5.959   3rd Qu.:1.0000   3rd Qu.:55.35   3rd Qu.:1.0000  
##  Max.   :11.300   Max.   :1.0000   Max.   :82.30   Max.   :1.0000</code></pre>
<p>You can see that we obtain for each variable a few key pieces of information. We will talk more about the items listed here in the next couple of weeks.</p>
<p>We can also look at just one variable by specifying the name of a variable using the dollar sign, like this:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="references.html#cb69-1" tabindex="-1"></a><span class="fu">summary</span>(genderCorona<span class="sc">$</span>WomanLeader)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.0000  0.0000  0.0000  0.1795  0.0000  1.0000</code></pre>
<p>RStudio also makes this easy. In your ‘Global Environment’ window you will see an object called <code>genderCorona</code>, or whichever name you assigned to this object. If you click on the triangle next to the name it will show you basic information about the data. If you click on the <img src="figures/spreadsheet.jpeg" alt="spreadsheet" /> symbol it will open up the entire spreadsheet for you to look at.</p>
<div id="variable-names" class="section level3 hasAnchor" number="10.5.1">
<h3><span class="header-section-number">10.5.1</span> Variable names<a href="references.html#variable-names" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sometimes all you want to know are the names of the variables in your datset without any information on the data. To do this you can use the <code>names</code> function.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="references.html#cb71-1" tabindex="-1"></a><span class="fu">names</span>(genderCorona)</span></code></pre></div>
<pre><code>## [1] &quot;country&quot;      &quot;iso3n&quot;        &quot;WomanLeader&quot;  &quot;Death&quot;        &quot;DeathCases&quot;   &quot;DeathMillion&quot;
## [7] &quot;CapacityHigh&quot; &quot;Trust&quot;        &quot;TrustHigh&quot;</code></pre>
</div>
</div>
<div id="saving-data" class="section level2 hasAnchor" number="10.6">
<h2><span class="header-section-number">10.6</span> Saving data<a href="references.html#saving-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>After we change the data, we may want to save it for later use. Here I am assuming we want to save a <em>new</em> file with a <em>new</em> file name. You might also want to overwrite the original file, but that makes it very hard to go back if you find a mistake in your code. In general, it is good practice to keep your <em>input</em> files separate from your <em>output</em> files. That way, you can always re-create what you have done or change any intermediate steps.</p>
<p>We can actually save the file in lots of different formats. To save this as a CSV file we can use the function <code>write.csv</code>. In the following, we will change the file name to <code>genderCorona_output.csv</code>.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="references.html#cb73-1" tabindex="-1"></a><span class="fu">write.csv</span>(genderCorona, <span class="at">file=</span><span class="st">&quot;genderCorona_output.csv&quot;</span>)</span></code></pre></div>
<p>Note that unless you specify otherwise it will be saved into your working directory. If you want it in a subfolder Data inside your working directory, you need to specify this:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="references.html#cb74-1" tabindex="-1"></a><span class="fu">write.csv</span>(genderCorona, <span class="at">file=</span><span class="st">&quot;Data/genderCorona_output.csv&quot;</span>)</span></code></pre></div>
<p>The <code>write.csv</code> function has other options controlling how the data is saved. Here is a video introducing some of these options.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/WjpcbmcJjjM" title="YouTube video player" frameborder="0" data-external="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<div id="a-note-on-windows-machines-and-paths" class="section level3 hasAnchor" number="10.6.1">
<h3><span class="header-section-number">10.6.1</span> A note on Windows machines and paths<a href="references.html#a-note-on-windows-machines-and-paths" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If you use a computer with a Windows operating system you may sometimes have trouble with setting your paths. R wants you to use the “/” in path names but windows will give you path names with the “\”. You are going to need to replace any “\” in a path name you get with the “/”.</p>
<p>(The reason is that R is built for Unix machines and Windows runs on DOS. Macs are also based in Unix, which is one of the few valid reasons why data science types sometimes prefer Macs.)</p>
</div>
<div id="adding-a-variable-to-your-data" class="section level3 hasAnchor" number="10.6.2">
<h3><span class="header-section-number">10.6.2</span> Adding a variable to your data<a href="references.html#adding-a-variable-to-your-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The variable <code>WomanLeader</code> captures whether a woman is governing a country: it is 1 when a woman is governing the country, and 0 when a man is governing the country. Let’s create a new variable, which is 0 when a woman is governing the country, and 1 when a man is governing the country. While we are at it, we will rescale the variable <code>Trust</code>, such that it runs from 0 to 1 instead of 0 to 100.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="references.html#cb75-1" tabindex="-1"></a>genderCorona<span class="sc">$</span>ManLeader <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> genderCorona<span class="sc">$</span>WomanLeader  </span>
<span id="cb75-2"><a href="references.html#cb75-2" tabindex="-1"></a>genderCorona<span class="sc">$</span>Trust <span class="ot">&lt;-</span> genderCorona<span class="sc">$</span>Trust<span class="sc">/</span><span class="dv">100</span> </span></code></pre></div>
<p>We can see the results if we again look at the summary of the data or at the spreadsheet using the <code>View</code> function. We will return to this next week, but you might already recognize one important point: We have not actually changed the <em>information</em> in our data set, in that these two new variables tell us nothing about the world that we did not know already from the existing variables. We just rescaled the existing information. It’s a bit like measuring temperature in Fahrenheit or in Celsius. Converting the measure from one to the other doesn’t actually change the information we have, just how we express it.</p>
</div>
</div>
<div id="vectors-matrices-and-data-frames" class="section level2 hasAnchor" number="10.7">
<h2><span class="header-section-number">10.7</span> Vectors, Matrices, and Data Frames<a href="references.html#vectors-matrices-and-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>So far, we’ve been working with data that’s already organized in a nice, tidy format - the <code>genderCorona</code> data frame. But to truly understand how R handles data, we need to understand the building blocks that make up these data structures.
Think of it this way: if data frames are like completed buildings, then vectors and matrices are like the bricks and beams that hold everything together. Understanding these fundamental structures will help you:</p>
<ul>
<li><em>Troubleshoot problems</em> - When R gives you an error message about “incompatible types” or “incorrect dimensions,” you’ll know what’s going wrong</li>
<li><em>Create your own data</em> - You won’t always import pre-made datasets; sometimes you’ll need to build data structures from scratch</li>
<li><em>Manipulate data more effectively</em> - Many <code>R</code> operations work on vectors, and understanding this will help you transform variables and create new ones</li>
<li><em>Read and understand R documentation</em> - Most R functions are described in terms of what types of inputs they accept (vectors, matrices, or data frames)</li>
</ul>
<div id="vectors" class="section level3 hasAnchor" number="10.7.1">
<h3><span class="header-section-number">10.7.1</span> Vectors<a href="references.html#vectors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Vectors</strong> are the simplest type of data structure in <code>R</code>. You can think of a vector as a one-dimensional data structure that contains a collection of things, like a sequence of numbers (1,3,2,54,100) or of string characters (“Tesla”, “Honda”, “Hyundai”). A vector collects a set of attributes, in a specific order. When creating a vector, you always type <code>c()</code> and include the items inside the parentheses, separated by a comma.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="references.html#cb76-1" tabindex="-1"></a>collect1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">54</span>,<span class="dv">100</span>) <span class="co"># sequence of numbers</span></span>
<span id="cb76-2"><a href="references.html#cb76-2" tabindex="-1"></a><span class="fu">class</span>(collect1)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="references.html#cb78-1" tabindex="-1"></a>collect2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Tesla&quot;</span>, <span class="st">&quot;Honda&quot;</span>, <span class="st">&quot;Hyundai&quot;</span>, <span class="st">&quot;Toyota&quot;</span>, <span class="st">&quot;Chrysler&quot;</span>) <span class="co"># collection of strings</span></span>
<span id="cb78-2"><a href="references.html#cb78-2" tabindex="-1"></a><span class="fu">class</span>(collect2)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="references.html#cb80-1" tabindex="-1"></a>collect3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">&quot;Cars&quot;</span>, <span class="dv">2</span>, <span class="dv">5</span>) <span class="co"># mixture of different object types</span></span>
<span id="cb80-2"><a href="references.html#cb80-2" tabindex="-1"></a><span class="fu">class</span>(collect3) <span class="co"># but they are all converted into character</span></span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
</div>
<div id="matrix" class="section level3 hasAnchor" number="10.7.2">
<h3><span class="header-section-number">10.7.2</span> Matrix<a href="references.html#matrix" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Matrices</strong> are two-dimensional data structures that contain the <strong>same</strong> type of data (e.g., all numeric, character, or logical). Matrices are truly amazing things, and you can consider them from many different perspectives. One way to think of a matrix is as a collection of vectors, each vector containing information on a set of attributes. To create a new matrix, use the function <code>matrix()</code> as shown below. Because all elements inside the matrix must be of the same data type, all elements will be converted to character when you try to combine different object types inside a matrix. You can also use the <code>dim()</code> function to examine the <em>dimensions</em> of the matrix, which are the number of rows and columns in the matrix.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="references.html#cb82-1" tabindex="-1"></a>matrix1 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">ncol =</span> <span class="dv">3</span>) <span class="co"># matrix of numbers</span></span>
<span id="cb82-2"><a href="references.html#cb82-2" tabindex="-1"></a>matrix1</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="references.html#cb84-1" tabindex="-1"></a>matrix2 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="st">&quot;Apple&quot;</span>, <span class="st">&quot;Dell&quot;</span>, <span class="st">&quot;HP&quot;</span>, <span class="st">&quot;Samsung&quot;</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="co"># matrix of characters</span></span>
<span id="cb84-2"><a href="references.html#cb84-2" tabindex="-1"></a>matrix2</span></code></pre></div>
<pre><code>##      [,1]    [,2]     
## [1,] &quot;Apple&quot; &quot;HP&quot;     
## [2,] &quot;Dell&quot;  &quot;Samsung&quot;</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="references.html#cb86-1" tabindex="-1"></a>matrix3 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="st">&quot;Nice&quot;</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="co"># mixture of different object types</span></span>
<span id="cb86-2"><a href="references.html#cb86-2" tabindex="-1"></a>matrix3 <span class="co"># but they are all converted into character (with parentheses)</span></span></code></pre></div>
<pre><code>##      [,1] [,2]  
## [1,] NA   &quot;4&quot;   
## [2,] &quot;3&quot;  &quot;Nice&quot;</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="references.html#cb88-1" tabindex="-1"></a><span class="fu">dim</span>(matrix1) <span class="co"># first number is the number of rows, second number is number of columns</span></span></code></pre></div>
<pre><code>## [1] 4 3</code></pre>
</div>
<div id="data-frames" class="section level3 hasAnchor" number="10.7.3">
<h3><span class="header-section-number">10.7.3</span> Data frames<a href="references.html#data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Data frames</strong> are like matrices, in that they are also two-dimensional data structures. But a key distinction between the two is that data frames can accommodate different data types. Using the <code>data.frame()</code> function, we’ve created a fictitious data frame called <code>exam_scores</code> below. Note that <code>exam_scores</code> has two character variables called <code>name</code> and <code>school</code>, and three numeric variables called <code>scoreMidterm</code>, <code>scoreFinal</code>, and <code>gender</code>.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="references.html#cb90-1" tabindex="-1"></a>exam_scores <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name =</span> <span class="fu">c</span>(<span class="st">&quot;Jerry&quot;</span>, <span class="st">&quot;Jason&quot;</span>, <span class="st">&quot;Ambrose&quot;</span>, </span>
<span id="cb90-2"><a href="references.html#cb90-2" tabindex="-1"></a>                                  <span class="st">&quot;Anna&quot;</span>, <span class="st">&quot;Sarah&quot;</span>, <span class="st">&quot;Jennifer&quot;</span>),</span>
<span id="cb90-3"><a href="references.html#cb90-3" tabindex="-1"></a>                         <span class="at">scoreMidterm =</span> <span class="fu">c</span>(<span class="dv">70</span>, <span class="dv">80</span>, <span class="dv">64</span>, <span class="dv">75</span>, <span class="dv">56</span>, <span class="dv">93</span>),</span>
<span id="cb90-4"><a href="references.html#cb90-4" tabindex="-1"></a>                         <span class="at">scoreFinal =</span> <span class="fu">c</span>(<span class="dv">64</span>, <span class="dv">83</span>, <span class="dv">62</span>, <span class="dv">78</span>, <span class="dv">52</span>, <span class="dv">88</span>),</span>
<span id="cb90-5"><a href="references.html#cb90-5" tabindex="-1"></a>                         <span class="at">gender =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>),</span>
<span id="cb90-6"><a href="references.html#cb90-6" tabindex="-1"></a>                         <span class="at">school =</span> <span class="fu">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="st">&quot;B&quot;</span>))</span>
<span id="cb90-7"><a href="references.html#cb90-7" tabindex="-1"></a><span class="fu">class</span>(exam_scores)</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="references.html#cb92-1" tabindex="-1"></a><span class="fu">str</span>(exam_scores) <span class="co"># note that the four variables have different data types</span></span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    6 obs. of  5 variables:
##  $ name        : chr  &quot;Jerry&quot; &quot;Jason&quot; &quot;Ambrose&quot; &quot;Anna&quot; ...
##  $ scoreMidterm: num  70 80 64 75 56 93
##  $ scoreFinal  : num  64 83 62 78 52 88
##  $ gender      : num  0 0 0 1 1 1
##  $ school      : chr  &quot;B&quot; &quot;A&quot; &quot;A&quot; NA ...</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="references.html#cb94-1" tabindex="-1"></a><span class="fu">head</span>(exam_scores) <span class="co"># view first six rows of the data frame</span></span></code></pre></div>
<pre><code>##       name scoreMidterm scoreFinal gender school
## 1    Jerry           70         64      0      B
## 2    Jason           80         83      0      A
## 3  Ambrose           64         62      0      A
## 4     Anna           75         78      1   &lt;NA&gt;
## 5    Sarah           56         52      1   &lt;NA&gt;
## 6 Jennifer           93         88      1      B</code></pre>
<p>We will commonly refer to one column in a data frame as a <strong>variable</strong>. A variable captures information on one characteristic for multiple individuals or entities (you might note the similarity to a vector above). For example, in the data frame <code>exam_scores</code> you just created, the variable <code>scoreMidterm</code> captures the information on midterm exam scores for individual students. Each row in this data frame represents an <strong>observation</strong>. Each variable, in turn, then contains information for that variable for each individual observation. For example, in the data frame <code>exam_scores</code>, each row captures information for one student, named in the variable <code>name</code>. For each student, we have information for the variables <code>scoreMidterm</code>, <code>scoreFinal</code>, <code>gender</code>, and <code>school</code>. We will generally indicate a generic observation with the letter <span class="math inline">\(i\)</span>. The <strong>number of observations</strong> is often described by <span class="math inline">\(N\)</span>. In total, the data frame above contains information on <span class="math inline">\(N = 6\)</span> observations.</p>
<p>Note an important concept in a data frame: Because each row belongs to one observation, we can’t just change the order of the values in one arbitrary variable and keep the others fixed. If you were to change the order in one of the variables, but not <em>all</em> others, you’d mix up the exam scores, or the gender, or the school of the students.</p>
<p>We will learn below how to manipulate data frames, including how to create new variables. In the data frame <code>exam_scores</code>, for example, you might want to create a new variable that represents the average of the midterm and the final exam scores. Before we do this, however, we will get a real data set into R. It is generally not feasible or practical to enter a data set by hand, as we did above for <code>exam_scores</code>. It is also error-prone. Instead, we <strong>load</strong> or <strong>import</strong> data sets into R.</p>
</div>
</div>
<div id="study-questions-for-data-basics-1" class="section level2 hasAnchor" number="10.8">
<h2><span class="header-section-number">10.8</span> Study Questions for Data Basics 1<a href="references.html#study-questions-for-data-basics-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="importing-data-1" class="section level3 hasAnchor" number="10.8.1">
<h3><span class="header-section-number">10.8.1</span> Importing Data<a href="references.html#importing-data-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>What are the two methods for importing data into R that are covered in this reading?</p></li>
<li><p>What does the <code>getwd()</code> function do, and why is it important to know your working directory?</p></li>
<li><p>How do you change your working directory using R? Why might Windows users need to be careful about path formatting?</p></li>
</ol>
</div>
<div id="inspecting-and-understanding-data" class="section level3 hasAnchor" number="10.8.2">
<h3><span class="header-section-number">10.8.2</span> Inspecting and Understanding Data<a href="references.html#inspecting-and-understanding-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="4" style="list-style-type: decimal">
<li><p>What functions can you use to view the first and last few rows of a dataset?</p></li>
<li><p>What is the “unit of analysis” in a dataset? What is the unit of analysis in the <code>genderCorona</code> dataset?</p></li>
<li><p>What is the difference between an <strong>observation</strong> and a <strong>variable</strong> in a data frame?</p></li>
<li><p>How do you access a specific variable in a data frame using R syntax?</p></li>
<li><p>What information does the <code>summary()</code> function provide about your data?</p></li>
</ol>
</div>
<div id="saving-and-modifying-data" class="section level3 hasAnchor" number="10.8.3">
<h3><span class="header-section-number">10.8.3</span> Saving and Modifying Data<a href="references.html#saving-and-modifying-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="9" style="list-style-type: decimal">
<li><p>Why is it good practice to save modified data with a new filename rather than overwriting the original file?</p></li>
<li><p>How do you create a new variable in an existing data frame?</p></li>
</ol>
</div>
<div id="data-structures-in-r" class="section level3 hasAnchor" number="10.8.4">
<h3><span class="header-section-number">10.8.4</span> Data Structures in R<a href="references.html#data-structures-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="11" style="list-style-type: decimal">
<li><p>What are the three main data structures discussed in this reading, and how do they differ in dimensions?</p></li>
<li><p>What is a <strong>vector</strong> in R? How do you create one?</p></li>
<li><p>What happens when you try to combine different data types (numeric, character, NA) in a single vector?</p></li>
<li><p>How are <strong>matrices</strong> different from <strong>vectors</strong>? What restriction do matrices have that data frames do not?</p></li>
<li><p>Why are <strong>data frames</strong> particularly useful for data analysis compared to matrices?</p></li>
<li><p>In the <code>exam_scores</code> data frame example, how many observations (N) are there? How many variables?</p></li>
<li><p>Why can’t you change the order of values in just one variable of a data frame without affecting the others?</p></li>
</ol>

</div>
</div>
<div id="learning-objectives-2" class="section level2 hasAnchor" number="10.9">
<h2><span class="header-section-number">10.9</span> Learning Objectives<a href="references.html#learning-objectives-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Learn what subsetting means and why it’s essential for data analysis</li>
<li>Master three approaches to subsetting: bracket notation, the <code>subset()</code> function, and <code>dplyr</code> functions</li>
<li>Understand how to filter rows based on conditions using logical operators</li>
<li>Learn how to select specific columns from a data frame</li>
<li>Practice combining row and column selection to extract exactly the data you need</li>
</ol>
</div>
<div id="what-is-this-for-1" class="section level2 hasAnchor" number="10.10">
<h2><span class="header-section-number">10.10</span> What Is This For?<a href="references.html#what-is-this-for-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In the previous session, we learned how to load data into R and understand its basic structure. But real-world data analysis rarely uses an entire dataset as-is. Instead, we need to focus on specific parts of our data – perhaps we only want to analyze data from certain countries, or we need to examine relationships between specific variables. This process of extracting portions of your data is called <strong>subsetting</strong>.</p>
<p>Subsetting is fundamental to everything you’ll do in data analysis. Whether you’re cleaning messy data, creating visualizations for specific groups, or preparing data for statistical analysis, you’ll need to master the art of selecting exactly the data you need. Think of subsetting as using a precision tool rather than a sledgehammer - it allows you to work with exactly the right piece of data for your specific question.</p>
</div>
<div id="creating-a-practice-dataset" class="section level2 hasAnchor" number="10.11">
<h2><span class="header-section-number">10.11</span> Creating a Practice Dataset<a href="references.html#creating-a-practice-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To learn subsetting, we’ll create a small dataset that’s easy to work with and verify our results. This dataset contains information about eight people’s favorite colors, flavors, and their ages:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="references.html#cb96-1" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb96-2"><a href="references.html#cb96-2" tabindex="-1"></a>  <span class="at">colors  =</span> <span class="fu">c</span>(<span class="st">&quot;Green&quot;</span>,<span class="st">&quot;Blue&quot;</span>,<span class="st">&quot;Blue&quot;</span>,<span class="st">&quot;Red&quot;</span>,<span class="st">&quot;Green&quot;</span>,<span class="st">&quot;Blue&quot;</span>,<span class="st">&quot;Red&quot;</span>,<span class="st">&quot;Red&quot;</span>),</span>
<span id="cb96-3"><a href="references.html#cb96-3" tabindex="-1"></a>  <span class="at">flavors =</span> <span class="fu">c</span>(<span class="st">&quot;Chocolate&quot;</span>,<span class="st">&quot;Vanilla&quot;</span>,<span class="st">&quot;Mint&quot;</span>,<span class="st">&quot;Mint&quot;</span>,<span class="st">&quot;Vanilla&quot;</span>,<span class="st">&quot;Chocolate&quot;</span>,<span class="st">&quot;Vanilla&quot;</span>,<span class="st">&quot;Mint&quot;</span>),</span>
<span id="cb96-4"><a href="references.html#cb96-4" tabindex="-1"></a>  <span class="at">ages    =</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">21</span>, <span class="dv">13</span>, <span class="dv">15</span>, <span class="dv">22</span>, <span class="cn">NA</span>)</span>
<span id="cb96-5"><a href="references.html#cb96-5" tabindex="-1"></a>)</span>
<span id="cb96-6"><a href="references.html#cb96-6" tabindex="-1"></a></span>
<span id="cb96-7"><a href="references.html#cb96-7" tabindex="-1"></a><span class="fu">rownames</span>(data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Jack&quot;</span>,<span class="st">&quot;Mia&quot;</span>,<span class="st">&quot;Josh&quot;</span>,<span class="st">&quot;Kush&quot;</span>,<span class="st">&quot;Isabel&quot;</span>,<span class="st">&quot;Alex&quot;</span>,<span class="st">&quot;Peter&quot;</span>,<span class="st">&quot;Max&quot;</span>)</span>
<span id="cb96-8"><a href="references.html#cb96-8" tabindex="-1"></a>data</span></code></pre></div>
<pre><code>##        colors   flavors ages
## Jack    Green Chocolate   16
## Mia      Blue   Vanilla   20
## Josh     Blue      Mint   21
## Kush      Red      Mint   21
## Isabel  Green   Vanilla   13
## Alex     Blue Chocolate   15
## Peter     Red   Vanilla   22
## Max       Red      Mint   NA</code></pre>
<p>Notice that this dataset has 8 observations (rows) and 3 variables (columns). We’ve also assigned row names to make it easier to refer to specific people. Note that Max’s age is recorded as <code>NA</code>, which means it’s missing - this is common in real data and we’ll learn how to handle it.</p>
</div>
<div id="method-1-subsetting-with-square-brackets" class="section level2 hasAnchor" number="10.12">
<h2><span class="header-section-number">10.12</span> Method 1: Subsetting with Square Brackets<a href="references.html#method-1-subsetting-with-square-brackets" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The most fundamental way to subset data in R uses square brackets: <code>data[rows, columns]</code>. This notation might look strange at first, but it follows a simple pattern:</p>
<ul>
<li>The first position (before the comma) specifies which rows you want</li>
<li>The second position (after the comma) specifies which columns you want</li>
<li>Leaving either position empty means “give me all”</li>
</ul>
<p>Let’s see this in action:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="references.html#cb98-1" tabindex="-1"></a><span class="co"># Get data for Mia and Josh (all columns)</span></span>
<span id="cb98-2"><a href="references.html#cb98-2" tabindex="-1"></a>data[<span class="fu">c</span>(<span class="st">&quot;Mia&quot;</span>, <span class="st">&quot;Josh&quot;</span>), ]</span></code></pre></div>
<pre><code>##      colors flavors ages
## Mia    Blue Vanilla   20
## Josh   Blue    Mint   21</code></pre>
<p>Notice how we left the column position empty (after the comma), which means “all columns”. We used <code>c()</code> to combine multiple row names.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="references.html#cb100-1" tabindex="-1"></a><span class="co"># Get just the flavors column (all rows)</span></span>
<span id="cb100-2"><a href="references.html#cb100-2" tabindex="-1"></a>data[, <span class="st">&quot;flavors&quot;</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Chocolate&quot; &quot;Vanilla&quot;   &quot;Mint&quot;      &quot;Mint&quot;      &quot;Vanilla&quot;   &quot;Chocolate&quot; &quot;Vanilla&quot;  
## [8] &quot;Mint&quot;</code></pre>
<p>Here we left the row position empty (before the comma), which means “all rows”. But notice something important: R returned a vector, not a data frame! This automatic simplification can sometimes cause problems in your code.</p>
<div id="keeping-the-data-frame-structure" class="section level3 hasAnchor" number="10.12.1">
<h3><span class="header-section-number">10.12.1</span> Keeping the Data Frame Structure<a href="references.html#keeping-the-data-frame-structure" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When you select a single column, R tries to be helpful by simplifying the result to a vector. But sometimes you need to keep the data frame structure. Use <code>drop = FALSE</code> to prevent this simplification:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="references.html#cb102-1" tabindex="-1"></a><span class="co"># Keep flavors as a one-column data frame</span></span>
<span id="cb102-2"><a href="references.html#cb102-2" tabindex="-1"></a>data[, <span class="st">&quot;flavors&quot;</span>, drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span></code></pre></div>
<pre><code>##          flavors
## Jack   Chocolate
## Mia      Vanilla
## Josh        Mint
## Kush        Mint
## Isabel   Vanilla
## Alex   Chocolate
## Peter    Vanilla
## Max         Mint</code></pre>
</div>
<div id="combining-row-and-column-selection" class="section level3 hasAnchor" number="10.12.2">
<h3><span class="header-section-number">10.12.2</span> Combining Row and Column Selection<a href="references.html#combining-row-and-column-selection" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can specify both rows and columns to get very specific subsets:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="references.html#cb104-1" tabindex="-1"></a><span class="co"># Get Mia and Josh&#39;s favorite flavors</span></span>
<span id="cb104-2"><a href="references.html#cb104-2" tabindex="-1"></a>data[<span class="fu">c</span>(<span class="st">&quot;Mia&quot;</span>, <span class="st">&quot;Josh&quot;</span>), <span class="st">&quot;flavors&quot;</span>, drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span></code></pre></div>
<pre><code>##      flavors
## Mia  Vanilla
## Josh    Mint</code></pre>
</div>
<div id="using-numbers-instead-of-names" class="section level3 hasAnchor" number="10.12.3">
<h3><span class="header-section-number">10.12.3</span> Using Numbers Instead of Names<a href="references.html#using-numbers-instead-of-names" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If your data doesn’t have row names (or you don’t know them), you can use row numbers:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="references.html#cb106-1" tabindex="-1"></a><span class="co"># Get rows 2 and 3</span></span>
<span id="cb106-2"><a href="references.html#cb106-2" tabindex="-1"></a>data[<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>), ]</span></code></pre></div>
<pre><code>##      colors flavors ages
## Mia    Blue Vanilla   20
## Josh   Blue    Mint   21</code></pre>
</div>
</div>
<div id="using-logical-conditions-to-filter-rows" class="section level2 hasAnchor" number="10.13">
<h2><span class="header-section-number">10.13</span> Using Logical Conditions to Filter Rows<a href="references.html#using-logical-conditions-to-filter-rows" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>One of the most powerful features of subsetting is the ability to select rows based on conditions. To do this effectively, we need to understand logical operators.</p>
<div id="understanding-logical-operators" class="section level3 hasAnchor" number="10.13.1">
<h3><span class="header-section-number">10.13.1</span> Understanding Logical Operators<a href="references.html#understanding-logical-operators" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Logical operators compare values and return <code>TRUE</code> or <code>FALSE</code>:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="references.html#cb108-1" tabindex="-1"></a><span class="co"># Comparison operators</span></span>
<span id="cb108-2"><a href="references.html#cb108-2" tabindex="-1"></a><span class="dv">21</span> <span class="sc">&gt;</span> <span class="dv">20</span>   <span class="co"># greater than</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="references.html#cb110-1" tabindex="-1"></a><span class="dv">21</span> <span class="sc">&lt;</span> <span class="dv">20</span>   <span class="co"># less than</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="references.html#cb112-1" tabindex="-1"></a><span class="dv">21</span> <span class="sc">&gt;=</span> <span class="dv">21</span>  <span class="co"># greater than or equal to</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="references.html#cb114-1" tabindex="-1"></a><span class="dv">21</span> <span class="sc">&lt;=</span> <span class="dv">21</span>  <span class="co"># less than or equal to</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="references.html#cb116-1" tabindex="-1"></a><span class="dv">21</span> <span class="sc">==</span> <span class="dv">21</span>  <span class="co"># exactly equal to</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="references.html#cb118-1" tabindex="-1"></a><span class="dv">21</span> <span class="sc">!=</span> <span class="dv">20</span>  <span class="co"># not equal to</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p><strong>Important distinction</strong>:
- Use <code>=</code> (or <code>&lt;-</code>) to assign values to variables
- Use <code>==</code> to test if two values are equal</p>
</div>
<div id="filtering-rows-with-conditions" class="section level3 hasAnchor" number="10.13.2">
<h3><span class="header-section-number">10.13.2</span> Filtering Rows with Conditions<a href="references.html#filtering-rows-with-conditions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can use these logical operators to create conditions that filter our data. The <code>$</code> operator extracts a column as a vector:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="references.html#cb120-1" tabindex="-1"></a><span class="co"># Which people are exactly 21 years old?</span></span>
<span id="cb120-2"><a href="references.html#cb120-2" tabindex="-1"></a>data<span class="sc">$</span>ages <span class="sc">==</span> <span class="dv">21</span></span></code></pre></div>
<pre><code>## [1] FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE    NA</code></pre>
<p>This creates a logical vector with <code>TRUE</code> for rows where the condition is met. We can use this to subset:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="references.html#cb122-1" tabindex="-1"></a><span class="co"># Get data for people who are exactly 21</span></span>
<span id="cb122-2"><a href="references.html#cb122-2" tabindex="-1"></a>data[data<span class="sc">$</span>ages <span class="sc">==</span> <span class="dv">21</span>, ]</span></code></pre></div>
<pre><code>##      colors flavors ages
## Josh   Blue    Mint   21
## Kush    Red    Mint   21
## NA     &lt;NA&gt;    &lt;NA&gt;   NA</code></pre>
</div>
<div id="combining-multiple-conditions" class="section level3 hasAnchor" number="10.13.3">
<h3><span class="header-section-number">10.13.3</span> Combining Multiple Conditions<a href="references.html#combining-multiple-conditions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Use <code>&amp;</code> (AND) when both conditions must be true:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="references.html#cb124-1" tabindex="-1"></a><span class="co"># People who are at least 21 AND like Red</span></span>
<span id="cb124-2"><a href="references.html#cb124-2" tabindex="-1"></a>data[data<span class="sc">$</span>ages <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> data<span class="sc">$</span>colors <span class="sc">==</span> <span class="st">&quot;Red&quot;</span>, ]</span></code></pre></div>
<pre><code>##       colors flavors ages
## Kush     Red    Mint   21
## Peter    Red Vanilla   22
## NA      &lt;NA&gt;    &lt;NA&gt;   NA</code></pre>
<p>Use <code>|</code> (OR) when at least one condition must be true:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="references.html#cb126-1" tabindex="-1"></a><span class="co"># People who like Green OR Vanilla</span></span>
<span id="cb126-2"><a href="references.html#cb126-2" tabindex="-1"></a>data[data<span class="sc">$</span>colors <span class="sc">==</span> <span class="st">&quot;Green&quot;</span> <span class="sc">|</span> data<span class="sc">$</span>flavors <span class="sc">==</span> <span class="st">&quot;Vanilla&quot;</span>, ]</span></code></pre></div>
<pre><code>##        colors   flavors ages
## Jack    Green Chocolate   16
## Mia      Blue   Vanilla   20
## Isabel  Green   Vanilla   13
## Peter     Red   Vanilla   22</code></pre>
</div>
</div>
<div id="method-2-the-subset-function" class="section level2 hasAnchor" number="10.14">
<h2><span class="header-section-number">10.14</span> Method 2: The subset() Function<a href="references.html#method-2-the-subset-function" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While bracket notation is fundamental, R provides the <code>subset()</code> function to make subsetting more readable. It lets you refer to column names directly without using <code>$</code>:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="references.html#cb128-1" tabindex="-1"></a><span class="co"># Get rows where color is Green</span></span>
<span id="cb128-2"><a href="references.html#cb128-2" tabindex="-1"></a><span class="fu">subset</span>(data, colors <span class="sc">==</span> <span class="st">&quot;Green&quot;</span>)</span></code></pre></div>
<pre><code>##        colors   flavors ages
## Jack    Green Chocolate   16
## Isabel  Green   Vanilla   13</code></pre>
<div id="selecting-specific-columns-with-subset" class="section level3 hasAnchor" number="10.14.1">
<h3><span class="header-section-number">10.14.1</span> Selecting Specific Columns with subset()<a href="references.html#selecting-specific-columns-with-subset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>subset()</code> function has a <code>select</code> parameter for choosing columns:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="references.html#cb130-1" tabindex="-1"></a><span class="co"># Select only the ages column</span></span>
<span id="cb130-2"><a href="references.html#cb130-2" tabindex="-1"></a><span class="fu">subset</span>(data, <span class="at">select =</span> ages)</span></code></pre></div>
<pre><code>##        ages
## Jack     16
## Mia      20
## Josh     21
## Kush     21
## Isabel   13
## Alex     15
## Peter    22
## Max      NA</code></pre>
<p>Note that inside <code>select</code>, you use bare column names (no quotes). Even when selecting one column, <code>subset()</code> returns a data frame, not a vector.</p>
<p>You can select multiple columns:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="references.html#cb132-1" tabindex="-1"></a><span class="co"># Select colors and ages columns</span></span>
<span id="cb132-2"><a href="references.html#cb132-2" tabindex="-1"></a><span class="fu">subset</span>(data, <span class="at">select =</span> <span class="fu">c</span>(colors, ages))</span></code></pre></div>
<pre><code>##        colors ages
## Jack    Green   16
## Mia      Blue   20
## Josh     Blue   21
## Kush      Red   21
## Isabel  Green   13
## Alex     Blue   15
## Peter     Red   22
## Max       Red   NA</code></pre>
<p>Or exclude columns using a minus sign:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="references.html#cb134-1" tabindex="-1"></a><span class="co"># Keep all columns except ages and colors</span></span>
<span id="cb134-2"><a href="references.html#cb134-2" tabindex="-1"></a><span class="fu">subset</span>(data, <span class="at">select =</span> <span class="sc">-</span><span class="fu">c</span>(ages, colors))</span></code></pre></div>
<pre><code>##          flavors
## Jack   Chocolate
## Mia      Vanilla
## Josh        Mint
## Kush        Mint
## Isabel   Vanilla
## Alex   Chocolate
## Peter    Vanilla
## Max         Mint</code></pre>
</div>
<div id="combining-row-and-column-operations" class="section level3 hasAnchor" number="10.14.2">
<h3><span class="header-section-number">10.14.2</span> Combining Row and Column Operations<a href="references.html#combining-row-and-column-operations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can filter rows and select columns in one command:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="references.html#cb136-1" tabindex="-1"></a><span class="co"># Get colors and ages for people who like Vanilla</span></span>
<span id="cb136-2"><a href="references.html#cb136-2" tabindex="-1"></a><span class="fu">subset</span>(data, flavors <span class="sc">==</span> <span class="st">&quot;Vanilla&quot;</span>, <span class="at">select =</span> <span class="fu">c</span>(colors, ages))</span></code></pre></div>
<pre><code>##        colors ages
## Mia      Blue   20
## Isabel  Green   13
## Peter     Red   22</code></pre>
</div>
<div id="handling-missing-values" class="section level3 hasAnchor" number="10.14.3">
<h3><span class="header-section-number">10.14.3</span> Handling Missing Values<a href="references.html#handling-missing-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Real data often contains missing values. Here’s how to exclude rows with missing ages:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="references.html#cb138-1" tabindex="-1"></a><span class="co"># Remove rows where age is NA</span></span>
<span id="cb138-2"><a href="references.html#cb138-2" tabindex="-1"></a><span class="fu">subset</span>(data, <span class="sc">!</span><span class="fu">is.na</span>(ages))</span></code></pre></div>
<pre><code>##        colors   flavors ages
## Jack    Green Chocolate   16
## Mia      Blue   Vanilla   20
## Josh     Blue      Mint   21
## Kush      Red      Mint   21
## Isabel  Green   Vanilla   13
## Alex     Blue Chocolate   15
## Peter     Red   Vanilla   22</code></pre>
<p>The <code>!</code> means “not”, so <code>!is.na(ages)</code> means “ages is not NA”.</p>
</div>
</div>
<div id="method-3-modern-subsetting-with-dplyr" class="section level2 hasAnchor" number="10.15">
<h2><span class="header-section-number">10.15</span> Method 3: Modern Subsetting with dplyr<a href="references.html#method-3-modern-subsetting-with-dplyr" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>dplyr</code> package provides a modern, readable approach to data manipulation. Its functions are designed to work together in a pipeline using the <code>%&gt;%</code> operator (pronounced “pipe”).</p>
<p>First, let’s load the package:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="references.html#cb140-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<div id="understanding-the-pipe-operator" class="section level3 hasAnchor" number="10.15.1">
<h3><span class="header-section-number">10.15.1</span> Understanding the Pipe Operator<a href="references.html#understanding-the-pipe-operator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The pipe (<code>%&gt;%</code>) takes the output from the left side and passes it as the first argument to the function on the right side. Think of it as “then”:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="references.html#cb141-1" tabindex="-1"></a><span class="co"># Traditional approach</span></span>
<span id="cb141-2"><a href="references.html#cb141-2" tabindex="-1"></a><span class="fu">filter</span>(data, colors <span class="sc">==</span> <span class="st">&quot;Red&quot;</span>)</span></code></pre></div>
<pre><code>##       colors flavors ages
## Kush     Red    Mint   21
## Peter    Red Vanilla   22
## Max      Red    Mint   NA</code></pre>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="references.html#cb143-1" tabindex="-1"></a><span class="co"># Pipeline approach: &quot;Take data, THEN filter it&quot;</span></span>
<span id="cb143-2"><a href="references.html#cb143-2" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb143-3"><a href="references.html#cb143-3" tabindex="-1"></a>  <span class="fu">filter</span>(colors <span class="sc">==</span> <span class="st">&quot;Red&quot;</span>)</span></code></pre></div>
<pre><code>##       colors flavors ages
## Kush     Red    Mint   21
## Peter    Red Vanilla   22
## Max      Red    Mint   NA</code></pre>
</div>
<div id="filtering-rows-with-filter" class="section level3 hasAnchor" number="10.15.2">
<h3><span class="header-section-number">10.15.2</span> Filtering Rows with filter()<a href="references.html#filtering-rows-with-filter" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>filter()</code> function selects rows based on conditions:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="references.html#cb145-1" tabindex="-1"></a><span class="co"># Keep only adults (age &gt;= 18)</span></span>
<span id="cb145-2"><a href="references.html#cb145-2" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb145-3"><a href="references.html#cb145-3" tabindex="-1"></a>  <span class="fu">filter</span>(ages <span class="sc">&gt;=</span> <span class="dv">18</span>)</span></code></pre></div>
<pre><code>##       colors flavors ages
## Mia     Blue Vanilla   20
## Josh    Blue    Mint   21
## Kush     Red    Mint   21
## Peter    Red Vanilla   22</code></pre>
</div>
<div id="selecting-columns-with-select" class="section level3 hasAnchor" number="10.15.3">
<h3><span class="header-section-number">10.15.3</span> Selecting Columns with select()<a href="references.html#selecting-columns-with-select" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>select()</code> function chooses which columns to keep:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="references.html#cb147-1" tabindex="-1"></a><span class="co"># Keep only colors and ages columns</span></span>
<span id="cb147-2"><a href="references.html#cb147-2" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb147-3"><a href="references.html#cb147-3" tabindex="-1"></a>  <span class="fu">select</span>(colors, ages)</span></code></pre></div>
<pre><code>##        colors ages
## Jack    Green   16
## Mia      Blue   20
## Josh     Blue   21
## Kush      Red   21
## Isabel  Green   13
## Alex     Blue   15
## Peter     Red   22
## Max       Red   NA</code></pre>
</div>
<div id="chaining-operations" class="section level3 hasAnchor" number="10.15.4">
<h3><span class="header-section-number">10.15.4</span> Chaining Operations<a href="references.html#chaining-operations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The real power of dplyr comes from chaining multiple operations:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="references.html#cb149-1" tabindex="-1"></a><span class="co"># First filter for adults, then select only colors</span></span>
<span id="cb149-2"><a href="references.html#cb149-2" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb149-3"><a href="references.html#cb149-3" tabindex="-1"></a>  <span class="fu">filter</span>(ages <span class="sc">&gt;=</span> <span class="dv">18</span>) <span class="sc">%&gt;%</span></span>
<span id="cb149-4"><a href="references.html#cb149-4" tabindex="-1"></a>  <span class="fu">select</span>(colors)</span></code></pre></div>
<pre><code>##       colors
## Mia     Blue
## Josh    Blue
## Kush     Red
## Peter    Red</code></pre>
<p>This reads naturally: “Take the data, filter for ages 18 and up, then select just the colors column.”</p>
</div>
<div id="complex-conditions" class="section level3 hasAnchor" number="10.15.5">
<h3><span class="header-section-number">10.15.5</span> Complex Conditions<a href="references.html#complex-conditions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can use all the logical operators we learned earlier:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="references.html#cb151-1" tabindex="-1"></a><span class="co"># Complex filtering with parentheses for clarity</span></span>
<span id="cb151-2"><a href="references.html#cb151-2" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb151-3"><a href="references.html#cb151-3" tabindex="-1"></a>  <span class="fu">filter</span>((ages <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> colors <span class="sc">==</span> <span class="st">&quot;Red&quot;</span>) <span class="sc">|</span> flavors <span class="sc">==</span> <span class="st">&quot;Vanilla&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb151-4"><a href="references.html#cb151-4" tabindex="-1"></a>  <span class="fu">select</span>(colors, flavors, ages)</span></code></pre></div>
<pre><code>##        colors flavors ages
## Mia      Blue Vanilla   20
## Kush      Red    Mint   21
## Isabel  Green Vanilla   13
## Peter     Red Vanilla   22</code></pre>
</div>
</div>
<div id="important-considerations" class="section level2 hasAnchor" number="10.16">
<h2><span class="header-section-number">10.16</span> Important Considerations<a href="references.html#important-considerations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="saving-your-subsets" class="section level3 hasAnchor" number="10.16.1">
<h3><span class="header-section-number">10.16.1</span> Saving Your Subsets<a href="references.html#saving-your-subsets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Remember that printing a subset doesn’t save it. If you need to use the subset later, assign it to a new object:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="references.html#cb153-1" tabindex="-1"></a><span class="co"># This just prints but doesn&#39;t save</span></span>
<span id="cb153-2"><a href="references.html#cb153-2" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb153-3"><a href="references.html#cb153-3" tabindex="-1"></a>  <span class="fu">filter</span>(flavors <span class="sc">==</span> <span class="st">&quot;Vanilla&quot;</span>)</span></code></pre></div>
<pre><code>##        colors flavors ages
## Mia      Blue Vanilla   20
## Isabel  Green Vanilla   13
## Peter     Red Vanilla   22</code></pre>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="references.html#cb155-1" tabindex="-1"></a><span class="co"># This saves the subset for later use</span></span>
<span id="cb155-2"><a href="references.html#cb155-2" tabindex="-1"></a>vanilla_lovers <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb155-3"><a href="references.html#cb155-3" tabindex="-1"></a>  <span class="fu">filter</span>(flavors <span class="sc">==</span> <span class="st">&quot;Vanilla&quot;</span>)</span>
<span id="cb155-4"><a href="references.html#cb155-4" tabindex="-1"></a></span>
<span id="cb155-5"><a href="references.html#cb155-5" tabindex="-1"></a><span class="co"># Now we can use it</span></span>
<span id="cb155-6"><a href="references.html#cb155-6" tabindex="-1"></a><span class="fu">mean</span>(vanilla_lovers<span class="sc">$</span>ages, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 18.33333</code></pre>
</div>
<div id="pipes-dont-modify-the-original-data" class="section level3 hasAnchor" number="10.16.2">
<h3><span class="header-section-number">10.16.2</span> Pipes Don’t Modify the Original Data<a href="references.html#pipes-dont-modify-the-original-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A common misconception is that pipes modify your original data. They don’t - unless you explicitly assign the result:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="references.html#cb157-1" tabindex="-1"></a><span class="co"># This doesn&#39;t change &#39;data&#39;</span></span>
<span id="cb157-2"><a href="references.html#cb157-2" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb157-3"><a href="references.html#cb157-3" tabindex="-1"></a>  <span class="fu">filter</span>(ages <span class="sc">&gt;=</span> <span class="dv">21</span>)</span></code></pre></div>
<pre><code>##       colors flavors ages
## Josh    Blue    Mint   21
## Kush     Red    Mint   21
## Peter    Red Vanilla   22</code></pre>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="references.html#cb159-1" tabindex="-1"></a><span class="co"># Check - original data is unchanged</span></span>
<span id="cb159-2"><a href="references.html#cb159-2" tabindex="-1"></a><span class="fu">nrow</span>(data)  <span class="co"># Still 8 rows</span></span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<p>To save changes, you must assign:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="references.html#cb161-1" tabindex="-1"></a><span class="co"># Create a new dataset with only adults</span></span>
<span id="cb161-2"><a href="references.html#cb161-2" tabindex="-1"></a>adults <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb161-3"><a href="references.html#cb161-3" tabindex="-1"></a>  <span class="fu">filter</span>(ages <span class="sc">&gt;=</span> <span class="dv">18</span>)</span>
<span id="cb161-4"><a href="references.html#cb161-4" tabindex="-1"></a></span>
<span id="cb161-5"><a href="references.html#cb161-5" tabindex="-1"></a><span class="co"># Or overwrite the original (be careful!)</span></span>
<span id="cb161-6"><a href="references.html#cb161-6" tabindex="-1"></a><span class="co"># data &lt;- data %&gt;% filter(ages &gt;= 18)</span></span></code></pre></div>
</div>
</div>
<div id="which-method-should-you-use" class="section level2 hasAnchor" number="10.17">
<h2><span class="header-section-number">10.17</span> Which Method Should You Use?<a href="references.html#which-method-should-you-use" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Each subsetting method has its place:</p>
<ul>
<li><strong>Bracket notation <code>[,]</code></strong>: Best when you need precise control or are working with matrices</li>
<li><strong><code>subset()</code></strong>: Good for quick, readable subsetting in base R</li>
<li><strong><code>dplyr</code> functions</strong>: Ideal for complex data manipulation pipelines</li>
</ul>
<p>For this course, we’ll primarily use dplyr because:</p>
<ol style="list-style-type: decimal">
<li>It’s highly readable - code reads like a series of instructions</li>
<li>It’s consistent - all functions work similarly</li>
<li>It’s powerful - easy to chain complex operations</li>
<li>It’s widely used in modern data science</li>
</ol>
</div>
<div id="common-pitfalls-and-how-to-avoid-them" class="section level2 hasAnchor" number="10.18">
<h2><span class="header-section-number">10.18</span> Common Pitfalls and How to Avoid Them<a href="references.html#common-pitfalls-and-how-to-avoid-them" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="forgetting-quotes-around-character-values" class="section level3 hasAnchor" number="10.18.1">
<h3><span class="header-section-number">10.18.1</span> 1. Forgetting Quotes Around Character Values<a href="references.html#forgetting-quotes-around-character-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="references.html#cb162-1" tabindex="-1"></a><span class="co"># Wrong - R looks for an object named Red</span></span>
<span id="cb162-2"><a href="references.html#cb162-2" tabindex="-1"></a><span class="co"># data[data$colors == Red, ]</span></span>
<span id="cb162-3"><a href="references.html#cb162-3" tabindex="-1"></a></span>
<span id="cb162-4"><a href="references.html#cb162-4" tabindex="-1"></a><span class="co"># Correct - &quot;Red&quot; is a character string</span></span>
<span id="cb162-5"><a href="references.html#cb162-5" tabindex="-1"></a>data[data<span class="sc">$</span>colors <span class="sc">==</span> <span class="st">&quot;Red&quot;</span>, ]</span></code></pre></div>
<pre><code>##       colors flavors ages
## Kush     Red    Mint   21
## Peter    Red Vanilla   22
## Max      Red    Mint   NA</code></pre>
</div>
<div id="mixing-data-types-in-comparisons" class="section level3 hasAnchor" number="10.18.2">
<h3><span class="header-section-number">10.18.2</span> 2. Mixing Data Types in Comparisons<a href="references.html#mixing-data-types-in-comparisons" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="references.html#cb164-1" tabindex="-1"></a><span class="co"># This will never match - comparing character to number</span></span>
<span id="cb164-2"><a href="references.html#cb164-2" tabindex="-1"></a>data<span class="sc">$</span>colors <span class="sc">==</span> <span class="dv">21</span>  <span class="co"># All FALSE or NA</span></span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
</div>
<div id="not-handling-missing-values" class="section level3 hasAnchor" number="10.18.3">
<h3><span class="header-section-number">10.18.3</span> 3. Not Handling Missing Values<a href="references.html#not-handling-missing-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="references.html#cb166-1" tabindex="-1"></a><span class="co"># This includes NA in the result</span></span>
<span id="cb166-2"><a href="references.html#cb166-2" tabindex="-1"></a>data[data<span class="sc">$</span>ages <span class="sc">&gt;</span> <span class="dv">18</span>, ]</span></code></pre></div>
<pre><code>##       colors flavors ages
## Mia     Blue Vanilla   20
## Josh    Blue    Mint   21
## Kush     Red    Mint   21
## Peter    Red Vanilla   22
## NA      &lt;NA&gt;    &lt;NA&gt;   NA</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="references.html#cb168-1" tabindex="-1"></a><span class="co"># This explicitly removes NA values first</span></span>
<span id="cb168-2"><a href="references.html#cb168-2" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb168-3"><a href="references.html#cb168-3" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(ages), ages <span class="sc">&gt;</span> <span class="dv">18</span>)</span></code></pre></div>
<pre><code>##       colors flavors ages
## Mia     Blue Vanilla   20
## Josh    Blue    Mint   21
## Kush     Red    Mint   21
## Peter    Red Vanilla   22</code></pre>
</div>
</div>
<div id="summary" class="section level2 hasAnchor" number="10.19">
<h2><span class="header-section-number">10.19</span> Summary<a href="references.html#summary" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Subsetting is fundamental to data analysis in R. We’ve learned three approaches:</p>
<ol style="list-style-type: decimal">
<li><strong>Bracket notation</strong>: <code>data[rows, columns]</code> - the foundation of all subsetting</li>
<li><strong>subset() function</strong>: More readable for simple operations</li>
<li><strong>dplyr functions</strong>: Modern, chainable approach for complex operations</li>
</ol>
<p>The key concepts to remember:
- Use logical operators (<code>==</code>, <code>!=</code>, <code>&gt;</code>, <code>&lt;</code>, <code>&amp;</code>, <code>|</code>) to create conditions
- Missing values (<code>NA</code>) require special handling
- Saving subsets requires explicit assignment with <code>&lt;-</code>
- Different methods suit different situations</p>
<p>As you work with larger, more complex datasets, these subsetting skills will become second nature. Practice with different combinations of row and column selection until you’re comfortable extracting exactly the data you need.</p>
</div>
<div id="study-questions-for-data-basics-2" class="section level2 hasAnchor" number="10.20">
<h2><span class="header-section-number">10.20</span> Study Questions for Data Basics 2<a href="references.html#study-questions-for-data-basics-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="understanding-subsetting-concepts" class="section level3 hasAnchor" number="10.20.1">
<h3><span class="header-section-number">10.20.1</span> Understanding Subsetting Concepts<a href="references.html#understanding-subsetting-concepts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>What does “subsetting” mean in the context of data analysis? Why is it important?</p></li>
<li><p>In the bracket notation <code>data[rows, columns]</code>, what does it mean to leave one position empty?</p></li>
<li><p>What’s the difference between getting <code>data[, "flavors"]</code> and <code>data[, "flavors", drop = FALSE]</code>? When would you use each?</p></li>
</ol>
</div>
<div id="logical-operators-and-conditions" class="section level3 hasAnchor" number="10.20.2">
<h3><span class="header-section-number">10.20.2</span> Logical Operators and Conditions<a href="references.html#logical-operators-and-conditions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="4" style="list-style-type: decimal">
<li><p>What’s the difference between <code>=</code> and <code>==</code> in R?</p></li>
<li><p>Write a logical expression that would find all people in our dataset who are teenagers (ages 13-19).</p></li>
<li><p>What’s the difference between <code>&amp;</code> (AND) and <code>|</code> (OR) when combining conditions?</p></li>
<li><p>How would you select all people who are NOT 21 years old?</p></li>
</ol>
</div>
<div id="using-subset" class="section level3 hasAnchor" number="10.20.3">
<h3><span class="header-section-number">10.20.3</span> Using subset()<a href="references.html#using-subset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="8" style="list-style-type: decimal">
<li><p>What are the two main parameters of the <code>subset()</code> function and what does each do?</p></li>
<li><p>How do you exclude columns using <code>subset()</code>? Give an example.</p></li>
<li><p>Why don’t you use quotes around column names inside <code>subset()</code>’s <code>select</code> parameter?</p></li>
</ol>
</div>
<div id="working-with-dplyr" class="section level3 hasAnchor" number="10.20.4">
<h3><span class="header-section-number">10.20.4</span> Working with dplyr<a href="references.html#working-with-dplyr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="11" style="list-style-type: decimal">
<li><p>What does the pipe operator <code>%&gt;%</code> do? How would you read it in plain English?</p></li>
<li><p>What’s the dplyr equivalent of <code>subset(data, ages &gt;= 21)</code>?</p></li>
<li><p>Write a dplyr pipeline that: (a) removes rows with missing ages, (b) keeps only people 18 or older, and (c) selects only the colors column.</p></li>
</ol>
</div>
<div id="handling-missing-values-1" class="section level3 hasAnchor" number="10.20.5">
<h3><span class="header-section-number">10.20.5</span> Handling Missing Values<a href="references.html#handling-missing-values-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="14" style="list-style-type: decimal">
<li><p>How would you create a subset that excludes all rows where age is <code>NA</code>?</p></li>
<li><p>What function do you use to test if a value is missing?</p></li>
</ol>
</div>
<div id="common-mistakes" class="section level3 hasAnchor" number="10.20.6">
<h3><span class="header-section-number">10.20.6</span> Common Mistakes<a href="references.html#common-mistakes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="16" style="list-style-type: decimal">
<li><p>Why doesn’t <code>data %&gt;% filter(ages &gt;= 21)</code> permanently change the <code>data</code> object?</p></li>
<li><p>What’s wrong with this code: <code>data[data$flavors == Vanilla, ]</code>? How would you fix it?</p></li>
<li><p>If you want to analyze just the Mint lovers later in your script, what must you remember to do after subsetting?</p></li>
</ol>

</div>
</div>
<div id="learning-objectives-3" class="section level2 hasAnchor" number="10.21">
<h2><span class="header-section-number">10.21</span> Learning Objectives<a href="references.html#learning-objectives-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Understand the five basic data types in R: numeric, integer, factor, character, and logical</li>
<li>Learn how to check and convert between different data types using R functions</li>
<li>Master the four levels of measurement: nominal, ordinal, interval, and ratio</li>
<li>Understand the difference between discrete and continuous variables</li>
<li>Apply these concepts to make informed decisions about how to store and analyze your data</li>
</ol>
</div>
<div id="what-is-this-for-2" class="section level2 hasAnchor" number="10.22">
<h2><span class="header-section-number">10.22</span> What Is This For?<a href="references.html#what-is-this-for-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When you open a new dataset, one of your first tasks is understanding what kinds of variables you’re working with. Not all data is created equal - some variables represent categories (like political party affiliation), others represent ordered rankings (like movie ratings), and still others represent precise measurements (like vote percentages).</p>
<p>Understanding data types and measurement levels is crucial because:</p>
<ul>
<li>It determines which statistical analyses you can perform</li>
<li>It affects how R stores and processes your data</li>
<li>It helps you avoid common errors like trying to calculate the average political party</li>
<li>It ensures you’re interpreting your results correctly</li>
</ul>
<p>Think of this as learning the “grammar” of data - just as you need to know whether a word is a noun or verb to use it properly in a sentence, you need to know whether a variable is nominal or ratio to analyze it properly.</p>
</div>
<div id="basic-data-types-in-r" class="section level2 hasAnchor" number="10.23">
<h2><span class="header-section-number">10.23</span> Basic Data Types in R<a href="references.html#basic-data-types-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R recognizes several fundamental data types. Each column in your dataset can be a different type, and R needs to know which type each variable is to handle it correctly.</p>
<div id="the-five-main-data-types" class="section level3 hasAnchor" number="10.23.1">
<h3><span class="header-section-number">10.23.1</span> The Five Main Data Types<a href="references.html#the-five-main-data-types" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>1. Numeric</strong>: Real numbers with decimal places</p>
<ul>
<li>Examples: 3.14, 98.6, 0.5</li>
<li>Political science example: Vote share (0.523 means 52.3% of votes)</li>
</ul>
<p><strong>2. Integer</strong>: Whole numbers without decimal places</p>
<ul>
<li>Examples: 1, 42, -10</li>
<li>Political science example: Number of Senate seats (100)</li>
</ul>
<p><strong>3. Character</strong>: Text strings</p>
<ul>
<li>Examples: “Democrat”, “Republican”, “Independent”</li>
<li>Political science example: Country names, survey responses</li>
</ul>
<p><strong>4. Factor</strong>: Categorical data with defined levels</p>
<ul>
<li>Like character, but R knows there are only specific possible values</li>
<li>Political science example: Region (Northeast, South, Midwest, West)</li>
</ul>
<p><strong>5. Logical</strong>: TRUE/FALSE values</p>
<ul>
<li>Only two possible values: TRUE or FALSE</li>
<li>Political science example: Whether a bill passed (TRUE) or failed (FALSE)</li>
</ul>
</div>
<div id="why-data-types-matter" class="section level3 hasAnchor" number="10.23.2">
<h3><span class="header-section-number">10.23.2</span> Why Data Types Matter<a href="references.html#why-data-types-matter" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Functions in R only work with appropriate data types. You can’t calculate the mean of country names, and R prevents you from trying:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="references.html#cb170-1" tabindex="-1"></a><span class="co"># This won&#39;t work - and that&#39;s good!</span></span>
<span id="cb170-2"><a href="references.html#cb170-2" tabindex="-1"></a>countries <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;USA&quot;</span>, <span class="st">&quot;Canada&quot;</span>, <span class="st">&quot;Mexico&quot;</span>)</span>
<span id="cb170-3"><a href="references.html#cb170-3" tabindex="-1"></a><span class="fu">mean</span>(countries)</span></code></pre></div>
<pre><code>## Warning in mean.default(countries): argument is not numeric or logical: returning NA</code></pre>
<pre><code>## [1] NA</code></pre>
</div>
</div>
<div id="working-with-data-types" class="section level2 hasAnchor" number="10.24">
<h2><span class="header-section-number">10.24</span> Working with Data Types<a href="references.html#working-with-data-types" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s load the movies dataset to explore data types in practice. You can find this dataset on canvas in the datasets folder.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="references.html#cb173-1" tabindex="-1"></a><span class="co"># Load the movies dataset</span></span>
<span id="cb173-2"><a href="references.html#cb173-2" tabindex="-1"></a>MovieData <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;movies.csv&quot;</span>)</span>
<span id="cb173-3"><a href="references.html#cb173-3" tabindex="-1"></a></span>
<span id="cb173-4"><a href="references.html#cb173-4" tabindex="-1"></a><span class="co"># Look at the structure</span></span>
<span id="cb173-5"><a href="references.html#cb173-5" tabindex="-1"></a><span class="fu">str</span>(MovieData)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    651 obs. of  32 variables:
##  $ title           : chr  &quot;Filly Brown&quot; &quot;The Dish&quot; &quot;Waiting for Guffman&quot; &quot;The Age of Innocence&quot; ...
##  $ title_type      : chr  &quot;Feature Film&quot; &quot;Feature Film&quot; &quot;Feature Film&quot; &quot;Feature Film&quot; ...
##  $ genre           : chr  &quot;Drama&quot; &quot;Drama&quot; &quot;Comedy&quot; &quot;Drama&quot; ...
##  $ runtime         : int  80 101 84 139 90 78 142 93 88 119 ...
##  $ mpaa_rating     : chr  &quot;R&quot; &quot;PG-13&quot; &quot;R&quot; &quot;PG&quot; ...
##  $ studio          : chr  &quot;Indomina Media Inc.&quot; &quot;Warner Bros. Pictures&quot; &quot;Sony Pictures Classics&quot; &quot;Columbia Pictures&quot; ...
##  $ thtr_rel_year   : int  2013 2001 1996 1993 2004 2009 1986 1996 2012 2012 ...
##  $ thtr_rel_month  : int  4 3 8 10 9 1 1 11 9 3 ...
##  $ thtr_rel_day    : int  19 14 21 1 10 15 1 8 7 2 ...
##  $ dvd_rel_year    : int  2013 2001 2001 2001 2005 2010 2003 2004 2013 2012 ...
##  $ dvd_rel_month   : int  7 8 8 11 4 4 2 3 1 8 ...
##  $ dvd_rel_day     : int  30 28 21 6 19 20 18 2 21 14 ...
##  $ imdb_rating     : num  5.5 7.3 7.6 7.2 5.1 7.8 7.2 5.5 7.5 6.6 ...
##  $ imdb_num_votes  : int  899 12285 22381 35096 2386 333 5016 2272 880 12496 ...
##  $ critics_rating  : chr  &quot;Rotten&quot; &quot;Certified Fresh&quot; &quot;Certified Fresh&quot; &quot;Certified Fresh&quot; ...
##  $ critics_score   : int  45 96 91 80 33 91 57 17 90 83 ...
##  $ audience_rating : chr  &quot;Upright&quot; &quot;Upright&quot; &quot;Upright&quot; &quot;Upright&quot; ...
##  $ audience_score  : int  73 81 91 76 27 86 76 47 89 66 ...
##  $ best_pic_nom    : chr  &quot;no&quot; &quot;no&quot; &quot;no&quot; &quot;no&quot; ...
##  $ best_pic_win    : chr  &quot;no&quot; &quot;no&quot; &quot;no&quot; &quot;no&quot; ...
##  $ best_actor_win  : chr  &quot;no&quot; &quot;no&quot; &quot;no&quot; &quot;yes&quot; ...
##  $ best_actress_win: chr  &quot;no&quot; &quot;no&quot; &quot;no&quot; &quot;no&quot; ...
##  $ best_dir_win    : chr  &quot;no&quot; &quot;no&quot; &quot;no&quot; &quot;yes&quot; ...
##  $ top200_box      : chr  &quot;no&quot; &quot;no&quot; &quot;no&quot; &quot;no&quot; ...
##  $ director        : chr  &quot;Michael D. Olmos&quot; &quot;Rob Sitch&quot; &quot;Christopher Guest&quot; &quot;Martin Scorsese&quot; ...
##  $ actor1          : chr  &quot;Gina Rodriguez&quot; &quot;Sam Neill&quot; &quot;Christopher Guest&quot; &quot;Daniel Day-Lewis&quot; ...
##  $ actor2          : chr  &quot;Jenni Rivera&quot; &quot;Kevin Harrington&quot; &quot;Catherine O&#39;Hara&quot; &quot;Michelle Pfeiffer&quot; ...
##  $ actor3          : chr  &quot;Lou Diamond Phillips&quot; &quot;Patrick Warburton&quot; &quot;Parker Posey&quot; &quot;Winona Ryder&quot; ...
##  $ actor4          : chr  &quot;Emilio Rivera&quot; &quot;Tom Long&quot; &quot;Eugene Levy&quot; &quot;Richard E. Grant&quot; ...
##  $ actor5          : chr  &quot;Joseph Julian Soria&quot; &quot;Genevieve Mooy&quot; &quot;Bob Balaban&quot; &quot;Alec McCowen&quot; ...
##  $ imdb_url        : chr  &quot;http://www.imdb.com/title/tt1869425/&quot; &quot;http://www.imdb.com/title/tt0205873/&quot; &quot;http://www.imdb.com/title/tt0118111/&quot; &quot;http://www.imdb.com/title/tt0106226/&quot; ...
##  $ rt_url          : chr  &quot;//www.rottentomatoes.com/m/filly_brown_2012/&quot; &quot;//www.rottentomatoes.com/m/dish/&quot; &quot;//www.rottentomatoes.com/m/waiting_for_guffman/&quot; &quot;//www.rottentomatoes.com/m/age_of_innocence/&quot; ...</code></pre>
<div id="checking-data-types" class="section level3 hasAnchor" number="10.24.1">
<h3><span class="header-section-number">10.24.1</span> Checking Data Types<a href="references.html#checking-data-types" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Use the <code>class()</code> function to check any variable’s type:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="references.html#cb175-1" tabindex="-1"></a><span class="fu">class</span>(MovieData<span class="sc">$</span>title)      <span class="co"># Character - movie titles are text</span></span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="references.html#cb177-1" tabindex="-1"></a><span class="fu">class</span>(MovieData<span class="sc">$</span>runtime)    <span class="co"># Integer - runtime in whole minutes</span></span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="references.html#cb179-1" tabindex="-1"></a><span class="fu">class</span>(MovieData<span class="sc">$</span>imdb_rating)  <span class="co"># Numeric - ratings with decimals</span></span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
</div>
<div id="converting-between-types" class="section level3 hasAnchor" number="10.24.2">
<h3><span class="header-section-number">10.24.2</span> Converting Between Types<a href="references.html#converting-between-types" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Use functions that start with <code>as.</code> to convert between types:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="references.html#cb181-1" tabindex="-1"></a><span class="co"># Convert runtime from integer to numeric</span></span>
<span id="cb181-2"><a href="references.html#cb181-2" tabindex="-1"></a>MovieData<span class="sc">$</span>runtime <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(MovieData<span class="sc">$</span>runtime)</span>
<span id="cb181-3"><a href="references.html#cb181-3" tabindex="-1"></a><span class="fu">class</span>(MovieData<span class="sc">$</span>runtime)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="references.html#cb183-1" tabindex="-1"></a><span class="co"># But be careful - nonsensical conversions create NAs</span></span>
<span id="cb183-2"><a href="references.html#cb183-2" tabindex="-1"></a><span class="fu">as.numeric</span>(<span class="st">&quot;Hello&quot;</span>)  <span class="co"># Can&#39;t turn text into numbers!</span></span></code></pre></div>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<pre><code>## [1] NA</code></pre>
</div>
<div id="understanding-factors" class="section level3 hasAnchor" number="10.24.3">
<h3><span class="header-section-number">10.24.3</span> Understanding Factors<a href="references.html#understanding-factors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Factors are R’s way of handling categorical data efficiently. They’re stored as numbers internally but displayed as text:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="references.html#cb186-1" tabindex="-1"></a><span class="co"># Convert genre to a factor</span></span>
<span id="cb186-2"><a href="references.html#cb186-2" tabindex="-1"></a>MovieData<span class="sc">$</span>genre <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(MovieData<span class="sc">$</span>genre)</span>
<span id="cb186-3"><a href="references.html#cb186-3" tabindex="-1"></a></span>
<span id="cb186-4"><a href="references.html#cb186-4" tabindex="-1"></a><span class="co"># See the levels</span></span>
<span id="cb186-5"><a href="references.html#cb186-5" tabindex="-1"></a><span class="fu">levels</span>(MovieData<span class="sc">$</span>genre)</span></code></pre></div>
<pre><code>##  [1] &quot;Action &amp; Adventure&quot;        &quot;Animation&quot;                 &quot;Art House &amp; International&quot;
##  [4] &quot;Comedy&quot;                    &quot;Documentary&quot;               &quot;Drama&quot;                    
##  [7] &quot;Horror&quot;                    &quot;Musical &amp; Performing Arts&quot; &quot;Mystery &amp; Suspense&quot;       
## [10] &quot;Other&quot;                     &quot;Science Fiction &amp; Fantasy&quot;</code></pre>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="references.html#cb188-1" tabindex="-1"></a><span class="co"># How many movies in each genre?</span></span>
<span id="cb188-2"><a href="references.html#cb188-2" tabindex="-1"></a><span class="fu">table</span>(MovieData<span class="sc">$</span>genre)</span></code></pre></div>
<pre><code>## 
##        Action &amp; Adventure                 Animation Art House &amp; International 
##                        65                         9                        14 
##                    Comedy               Documentary                     Drama 
##                        87                        52                       305 
##                    Horror Musical &amp; Performing Arts        Mystery &amp; Suspense 
##                        23                        12                        59 
##                     Other Science Fiction &amp; Fantasy 
##                        16                         9</code></pre>
<p>Factors are useful because:</p>
<ol style="list-style-type: decimal">
<li>They prevent typos (R knows the valid categories)</li>
<li>They save memory (stored as numbers internally)</li>
<li>They prevent inappropriate calculations</li>
</ol>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="references.html#cb190-1" tabindex="-1"></a><span class="co"># R won&#39;t let you do math on factors - good!</span></span>
<span id="cb190-2"><a href="references.html#cb190-2" tabindex="-1"></a><span class="fu">mean</span>(MovieData<span class="sc">$</span>genre)</span></code></pre></div>
<pre><code>## Warning in mean.default(MovieData$genre): argument is not numeric or logical: returning NA</code></pre>
<pre><code>## [1] NA</code></pre>
</div>
</div>
<div id="levels-of-measurement" class="section level2 hasAnchor" number="10.25">
<h2><span class="header-section-number">10.25</span> Levels of Measurement<a href="references.html#levels-of-measurement" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Beyond R’s data types, we need to understand the <strong>conceptual</strong> level at which variables are measured. This determines what analyses make sense.</p>
<div id="nominal-categorical-scale" class="section level3 hasAnchor" number="10.25.1">
<h3><span class="header-section-number">10.25.1</span> 1. Nominal (Categorical) Scale<a href="references.html#nominal-categorical-scale" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Definition</strong>: Categories with no inherent order</p>
<ul>
<li>Can distinguish between groups</li>
<li>No meaningful ranking</li>
<li>Numbers are just labels</li>
</ul>
<p><strong>Examples</strong>:</p>
<ul>
<li>Political party affiliation (Democrat, Republican, Independent)</li>
<li>Country of origin</li>
<li>Religion</li>
<li>Movie genre</li>
</ul>
<p><strong>What you CAN do</strong>: Count frequencies, find the mode</p>
<p><strong>What you CAN’T do</strong>: Calculate means, say one is “greater than” another</p>
</div>
<div id="ordinal-scale" class="section level3 hasAnchor" number="10.25.2">
<h3><span class="header-section-number">10.25.2</span> 2. Ordinal Scale<a href="references.html#ordinal-scale" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Definition</strong>: Categories with a meaningful order but no consistent distance between values</p>
<ul>
<li>Clear ranking exists</li>
<li>Distances between ranks aren’t equal or known</li>
<li>Can say “more than” but not “how much more”</li>
</ul>
<p><strong>Examples</strong>:</p>
<ul>
<li>Education level (High school &lt; Bachelor’s &lt; Master’s &lt; PhD)</li>
<li>Survey responses (Strongly disagree to Strongly agree)</li>
<li>Military ranks</li>
<li>Movie ratings (1 star to 5 stars)</li>
</ul>
<p><strong>What you CAN do</strong>: Everything from nominal plus find the median, percentiles</p>
<p><strong>What you CAN’T do</strong>: Calculate meaningful means or standard deviations</p>
</div>
<div id="interval-scale" class="section level3 hasAnchor" number="10.25.3">
<h3><span class="header-section-number">10.25.3</span> 3. Interval Scale<a href="references.html#interval-scale" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Definition</strong>: Ordered values with consistent, meaningful distances but no true zero</p>
<ul>
<li>Equal intervals between values</li>
<li>Zero doesn’t mean “absence of”</li>
<li>Can’t make ratio statements</li>
</ul>
<p><strong>Examples</strong>:</p>
<ul>
<li>Temperature in Celsius or Fahrenheit</li>
<li>Years (2020, 2021, 2022)</li>
<li>IQ scores</li>
</ul>
<p><strong>Key insight</strong>: 80°F is 20° warmer than 60°F, but it’s NOT “33% warmer”</p>
</div>
<div id="ratio-scale" class="section level3 hasAnchor" number="10.25.4">
<h3><span class="header-section-number">10.25.4</span> 4. Ratio Scale<a href="references.html#ratio-scale" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Definition</strong>: Interval scale with a true zero point</p>
<ul>
<li>Zero means complete absence</li>
<li>All mathematical operations valid</li>
<li>Can make ratio statements</li>
</ul>
<p><strong>Examples</strong>:</p>
<ul>
<li>Income in dollars</li>
<li>Age in years</li>
<li>Vote percentage</li>
<li>Population size</li>
<li>Distance in miles</li>
</ul>
<p><strong>Key insight</strong>: $100 is twice as much as $50 (meaningful ratio)</p>
</div>
</div>
<div id="discrete-vs.-continuous-variables" class="section level2 hasAnchor" number="10.26">
<h2><span class="header-section-number">10.26</span> Discrete vs. Continuous Variables<a href="references.html#discrete-vs.-continuous-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Another important distinction cuts across measurement levels:</p>
<div id="discrete-variables" class="section level3 hasAnchor" number="10.26.1">
<h3><span class="header-section-number">10.26.1</span> Discrete Variables<a href="references.html#discrete-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Can only take specific, countable values</li>
<li>Gaps between possible values</li>
<li>Examples: Number of children, shoe sizes, number of wars</li>
</ul>
</div>
<div id="continuous-variables" class="section level3 hasAnchor" number="10.26.2">
<h3><span class="header-section-number">10.26.2</span> Continuous Variables<a href="references.html#continuous-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Can take any value within a range</li>
<li>Infinite possible values between any two points</li>
<li>Examples: Height, time, temperature, vote percentage</li>
</ul>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="references.html#cb193-1" tabindex="-1"></a><span class="co"># Discrete: Number of Oscars won (can&#39;t win 2.5 Oscars)</span></span>
<span id="cb193-2"><a href="references.html#cb193-2" tabindex="-1"></a><span class="fu">table</span>(MovieData<span class="sc">$</span>best_pic_win)</span></code></pre></div>
<pre><code>## 
##  no yes 
## 644   7</code></pre>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="references.html#cb195-1" tabindex="-1"></a><span class="co"># Continuous: IMDB ratings (can be any value from 0-10)</span></span>
<span id="cb195-2"><a href="references.html#cb195-2" tabindex="-1"></a><span class="fu">summary</span>(MovieData<span class="sc">$</span>imdb_rating)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   1.900   5.900   6.600   6.493   7.300   9.000</code></pre>
</div>
</div>
<div id="the-information-hierarchy" class="section level2 hasAnchor" number="10.27">
<h2><span class="header-section-number">10.27</span> The Information Hierarchy<a href="references.html#the-information-hierarchy" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Think of measurement levels as an information hierarchy:</p>
<div class="float">
<img src="Images/Hierarchy.png" width="300" alt="Image Credit: GPT" />
<div class="figcaption">Image Credit: GPT</div>
</div>
<p><strong>Key principle</strong>: You can always move DOWN the hierarchy (lose information) but never UP (can’t create information that wasn’t collected).</p>
<div id="example-income-data" class="section level3 hasAnchor" number="10.27.1">
<h3><span class="header-section-number">10.27.1</span> Example: Income Data<a href="references.html#example-income-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Imagine surveying income:</p>
<p><strong>Ratio approach</strong>: “What was your income last year? $_____”</p>
<ul>
<li>Can calculate exact averages, ratios, all statistics</li>
<li>Can later group into brackets if needed</li>
</ul>
<p><strong>Ordinal approach</strong>: “Select your income bracket: Low / Medium / High”</p>
<ul>
<li>Can only find which bracket is most common</li>
<li>Can NEVER recover exact income values</li>
<li>Lost information forever!</li>
</ul>
</div>
</div>
<div id="practical-guidelines" class="section level2 hasAnchor" number="10.28">
<h2><span class="header-section-number">10.28</span> Practical Guidelines<a href="references.html#practical-guidelines" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="choosing-how-to-measure" class="section level3 hasAnchor" number="10.28.1">
<h3><span class="header-section-number">10.28.1</span> Choosing How to Measure<a href="references.html#choosing-how-to-measure" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When designing data collection:</p>
<ol style="list-style-type: decimal">
<li><strong>Collect at the highest level possible</strong> - you can always simplify later</li>
<li><strong>Consider your analysis needs</strong> - what statistics will you want to calculate?</li>
<li><strong>Balance precision with feasibility</strong> - will respondents know/share exact values?</li>
</ol>
</div>
<div id="common-pitfalls-to-avoid" class="section level3 hasAnchor" number="10.28.2">
<h3><span class="header-section-number">10.28.2</span> Common Pitfalls to Avoid<a href="references.html#common-pitfalls-to-avoid" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p><strong>Treating ordinal as interval</strong>: Just because you code “Strongly Agree” as 5 doesn’t mean it’s 5 times more than “Strongly Disagree” (1)</p></li>
<li><p><strong>Over-aggregating</strong>: Converting exact ages to “Young/Old” loses valuable information</p></li>
<li><p><strong>Wrong data type in R</strong>: Zip codes stored as numeric (leading zeros disappear!)</p></li>
</ol>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="references.html#cb197-1" tabindex="-1"></a><span class="co"># Bad: Zip code as numeric loses leading zeros</span></span>
<span id="cb197-2"><a href="references.html#cb197-2" tabindex="-1"></a>zip_numeric <span class="ot">&lt;-</span> <span class="dv">01234</span></span>
<span id="cb197-3"><a href="references.html#cb197-3" tabindex="-1"></a>zip_numeric  <span class="co"># Prints as 1234!</span></span></code></pre></div>
<pre><code>## [1] 1234</code></pre>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="references.html#cb199-1" tabindex="-1"></a><span class="co"># Good: Zip code as character preserves format  </span></span>
<span id="cb199-2"><a href="references.html#cb199-2" tabindex="-1"></a>zip_character <span class="ot">&lt;-</span> <span class="st">&quot;01234&quot;</span></span>
<span id="cb199-3"><a href="references.html#cb199-3" tabindex="-1"></a>zip_character  <span class="co"># Keeps the leading zero</span></span></code></pre></div>
<pre><code>## [1] &quot;01234&quot;</code></pre>
</div>
</div>
<div id="summary-1" class="section level2 hasAnchor" number="10.29">
<h2><span class="header-section-number">10.29</span> Summary<a href="references.html#summary-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Understanding data types and measurement levels is fundamental to data analysis:</p>
<ul>
<li><strong>R data types</strong> determine how your computer stores and processes data</li>
<li><strong>Measurement levels</strong> determine what analyses are mathematically meaningful</li>
<li><strong>Always collect data at the highest level possible</strong> - you can simplify but can’t add detail</li>
<li><strong>Match your analysis to your measurement level</strong> to avoid nonsensical results</li>
</ul>
<p>Remember: Just because R lets you calculate something doesn’t mean it’s meaningful. Understanding these concepts helps you avoid the trap of “garbage in, garbage out” in your analyses.</p>
</div>
<div id="study-questions" class="section level2 hasAnchor" number="10.30">
<h2><span class="header-section-number">10.30</span> Study Questions<a href="references.html#study-questions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="data-types-in-r" class="section level3 hasAnchor" number="10.30.1">
<h3><span class="header-section-number">10.30.1</span> Data Types in R<a href="references.html#data-types-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>What are the five main data types in R? Give an example of each from political science.</p></li>
<li><p>Why does R prevent you from calculating the mean of a character variable?</p></li>
<li><p>What function do you use to check a variable’s data type? What function converts a variable to numeric?</p></li>
<li><p>What happens when you try to convert the text “Democracy” to numeric? Why?</p></li>
</ol>
</div>
<div id="factors" class="section level3 hasAnchor" number="10.30.2">
<h3><span class="header-section-number">10.30.2</span> Factors<a href="references.html#factors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="5" style="list-style-type: decimal">
<li><p>What are the advantages of using factors instead of character variables for categorical data?</p></li>
<li><p>How are factors stored internally in R? How can you see this internal storage?</p></li>
<li><p>If you have a factor variable for U.S. regions with levels “Northeast”, “South”, “Midwest”, and “West”, what number would R internally use to store “Midwest”?</p></li>
</ol>
</div>
<div id="levels-of-measurement-1" class="section level3 hasAnchor" number="10.30.3">
<h3><span class="header-section-number">10.30.3</span> Levels of Measurement<a href="references.html#levels-of-measurement-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="8" style="list-style-type: decimal">
<li><p>What are the four levels of measurement? List them from least to most information.</p></li>
<li><p>For each level of measurement, give an example NOT mentioned in the reading.</p></li>
<li><p>Why can temperature in Fahrenheit not be measured on a ratio scale?</p></li>
<li><p>What statistical measures are appropriate for ordinal but NOT nominal data?</p></li>
</ol>
</div>
<div id="converting-between-levels" class="section level3 hasAnchor" number="10.30.4">
<h3><span class="header-section-number">10.30.4</span> Converting Between Levels<a href="references.html#converting-between-levels" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="12" style="list-style-type: decimal">
<li><p>Can you convert a nominal variable to a ratio variable? Why or why not?</p></li>
<li><p>If you collected exact ages but later grouped them into “Young/Middle-aged/Old”, what level of measurement did you convert FROM and TO?</p></li>
<li><p>Give an example where converting from a higher to lower measurement level would be scientifically justified.</p></li>
</ol>
</div>
<div id="discrete-vs.-continuous" class="section level3 hasAnchor" number="10.30.5">
<h3><span class="header-section-number">10.30.5</span> Discrete vs. Continuous<a href="references.html#discrete-vs.-continuous" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="15" style="list-style-type: decimal">
<li><p>Is the number of bills passed by Congress discrete or continuous? Why?</p></li>
<li><p>Is voter turnout percentage discrete or continuous? Why?</p></li>
</ol>
</div>
<div id="practical-applications" class="section level3 hasAnchor" number="10.30.6">
<h3><span class="header-section-number">10.30.6</span> Practical Applications<a href="references.html#practical-applications" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="17" style="list-style-type: decimal">
<li><p>You’re designing a survey question about income. What are the trade-offs between asking for exact income (ratio) versus income brackets (ordinal)?</p></li>
<li><p>A student codes survey responses “Strongly Disagree=1” through “Strongly Agree=5” and calculates the mean as 3.2. What’s wrong with reporting “the average response was 3.2”?</p></li>
<li><p>Why might you store zip codes as character variables rather than numeric, even though they’re “numbers”?</p></li>
<li><p>You have a dataset where religious affiliation is coded as: Christian=1, Jewish=2, Muslim=3, Other=4, None=5. A colleague suggests analyzing this as numeric to see if “religious affiliation increases” in your sample. What’s wrong with this approach?</p></li>
</ol>

</div>
</div>
<div id="learning-objectives-4" class="section level2 hasAnchor" number="10.31">
<h2><span class="header-section-number">10.31</span> Learning Objectives<a href="references.html#learning-objectives-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Learn how to create new variables in a data frame using both base R and dplyr</li>
<li>Master different approaches to recoding existing variables</li>
<li>Understand how to create categorical variables from continuous data</li>
<li>Learn to create dummy/indicator variables</li>
<li>Practice using conditional logic to create complex variables</li>
</ol>
</div>
<div id="what-is-this-for-3" class="section level2 hasAnchor" number="10.32">
<h2><span class="header-section-number">10.32</span> What Is This For?<a href="references.html#what-is-this-for-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When working with real data, you’ll rarely find variables in exactly the format you need for analysis. Survey data might code responses as numbers when you need meaningful labels. You might need to combine multiple variables to create a composite measure. Or you might need to transform continuous data into categories for certain analyses.</p>
<p>This page teaches you the essential skills for transforming and creating variables - a crucial step between loading raw data and conducting meaningful analysis. These skills will help you:</p>
<ul>
<li>Make your data more interpretable</li>
<li>Prepare variables for specific statistical techniques</li>
<li>Create new measures that better capture your theoretical concepts</li>
<li>Handle different coding schemes across datasets</li>
</ul>
</div>
<div id="the-cces-dataset" class="section level2 hasAnchor" number="10.33">
<h2><span class="header-section-number">10.33</span> The CCES Dataset<a href="references.html#the-cces-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For this session, we’ll use data from the Cooperative Congressional Election Study (CCES), one of the largest academic surveys in the United States. This dataset contains responses from 124,600 Americans about their political attitudes, behaviors, and demographics.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="references.html#cb201-1" tabindex="-1"></a><span class="co"># Load necessary packages</span></span>
<span id="cb201-2"><a href="references.html#cb201-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb201-3"><a href="references.html#cb201-3" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb201-4"><a href="references.html#cb201-4" tabindex="-1"></a></span>
<span id="cb201-5"><a href="references.html#cb201-5" tabindex="-1"></a><span class="co"># Load the CCES data</span></span>
<span id="cb201-6"><a href="references.html#cb201-6" tabindex="-1"></a>cces <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;cces.csv&quot;</span>, <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb201-7"><a href="references.html#cb201-7" tabindex="-1"></a></span>
<span id="cb201-8"><a href="references.html#cb201-8" tabindex="-1"></a><span class="co"># Explore the structure</span></span>
<span id="cb201-9"><a href="references.html#cb201-9" tabindex="-1"></a><span class="fu">dim</span>(cces)</span></code></pre></div>
<pre><code>## [1] 124600     23</code></pre>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="references.html#cb203-1" tabindex="-1"></a><span class="fu">names</span>(cces)</span></code></pre></div>
<pre><code>##  [1] &quot;weight&quot;       &quot;year&quot;         &quot;atts&quot;         &quot;pid7&quot;         &quot;aware&quot;        &quot;aware.p&quot;     
##  [7] &quot;lgbt&quot;         &quot;race&quot;         &quot;religion&quot;     &quot;female&quot;       &quot;union.member&quot; &quot;veteran&quot;     
## [13] &quot;age&quot;          &quot;married&quot;      &quot;income&quot;       &quot;educ&quot;         &quot;rel.atd&quot;      &quot;region&quot;      
## [19] &quot;ideo&quot;         &quot;vote&quot;         &quot;lgb&quot;          &quot;trans&quot;        &quot;interest&quot;</code></pre>
<p>Key variables we’ll work with include:</p>
<ul>
<li><code>age</code>: Respondent’s age in years</li>
<li><code>pid7</code>: Party identification (0-1 scale, higher = more Democratic)</li>
<li><code>aware</code>: Political awareness score (0-1 scale)</li>
<li><code>income</code>: Household income quintile</li>
<li><code>vote</code>: Presidential vote choice (1 = Democrat, 0 = Republican)</li>
</ul>
</div>
<div id="creating-new-variables-from-scratch" class="section level2 hasAnchor" number="10.34">
<h2><span class="header-section-number">10.34</span> Creating New Variables from Scratch<a href="references.html#creating-new-variables-from-scratch" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The simplest form of variable creation involves mathematical operations on existing variables. We’ll show both base R and dplyr approaches.</p>
<div id="adding-constants" class="section level3 hasAnchor" number="10.34.1">
<h3><span class="header-section-number">10.34.1</span> Adding Constants<a href="references.html#adding-constants" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sometimes you need a constant value for all observations:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="references.html#cb205-1" tabindex="-1"></a><span class="co"># Base R approach</span></span>
<span id="cb205-2"><a href="references.html#cb205-2" tabindex="-1"></a>cces<span class="sc">$</span>survey_year <span class="ot">&lt;-</span> <span class="dv">2020</span></span>
<span id="cb205-3"><a href="references.html#cb205-3" tabindex="-1"></a>cces<span class="sc">$</span>respondent_id <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(cces)</span>
<span id="cb205-4"><a href="references.html#cb205-4" tabindex="-1"></a></span>
<span id="cb205-5"><a href="references.html#cb205-5" tabindex="-1"></a><span class="co"># dplyr approach</span></span>
<span id="cb205-6"><a href="references.html#cb205-6" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb205-7"><a href="references.html#cb205-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">survey_year_2 =</span> <span class="dv">2020</span>,</span>
<span id="cb205-8"><a href="references.html#cb205-8" tabindex="-1"></a>         <span class="at">respondent_id_2 =</span> <span class="fu">row_number</span>())</span>
<span id="cb205-9"><a href="references.html#cb205-9" tabindex="-1"></a></span>
<span id="cb205-10"><a href="references.html#cb205-10" tabindex="-1"></a><span class="co"># Verify they&#39;re the same</span></span>
<span id="cb205-11"><a href="references.html#cb205-11" tabindex="-1"></a><span class="fu">identical</span>(cces<span class="sc">$</span>survey_year, cces<span class="sc">$</span>survey_year_2)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="simple-arithmetic-combinations" class="section level3 hasAnchor" number="10.34.2">
<h3><span class="header-section-number">10.34.2</span> Simple Arithmetic Combinations<a href="references.html#simple-arithmetic-combinations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Create new variables by combining existing ones:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="references.html#cb207-1" tabindex="-1"></a><span class="co"># Base R approach: years until retirement</span></span>
<span id="cb207-2"><a href="references.html#cb207-2" tabindex="-1"></a>cces<span class="sc">$</span>years_to_retire <span class="ot">&lt;-</span> <span class="dv">65</span> <span class="sc">-</span> cces<span class="sc">$</span>age </span>
<span id="cb207-3"><a href="references.html#cb207-3" tabindex="-1"></a>cces<span class="sc">$</span>years_to_retire[cces<span class="sc">$</span>years_to_retire <span class="sc">&lt;</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co"># Code all cases where they are over 65 as zero</span></span>
<span id="cb207-4"><a href="references.html#cb207-4" tabindex="-1"></a></span>
<span id="cb207-5"><a href="references.html#cb207-5" tabindex="-1"></a><span class="co"># dplyr approach: same calculation</span></span>
<span id="cb207-6"><a href="references.html#cb207-6" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb207-7"><a href="references.html#cb207-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">years_to_retire_2 =</span> <span class="fu">pmax</span>(<span class="dv">65</span> <span class="sc">-</span> age, <span class="dv">0</span>))  <span class="co"># pmax ensures no negative values</span></span>
<span id="cb207-8"><a href="references.html#cb207-8" tabindex="-1"></a></span>
<span id="cb207-9"><a href="references.html#cb207-9" tabindex="-1"></a><span class="co"># Convert awareness to percentage - Base R</span></span>
<span id="cb207-10"><a href="references.html#cb207-10" tabindex="-1"></a>cces<span class="sc">$</span>aware_pct <span class="ot">&lt;-</span> cces<span class="sc">$</span>aware <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb207-11"><a href="references.html#cb207-11" tabindex="-1"></a></span>
<span id="cb207-12"><a href="references.html#cb207-12" tabindex="-1"></a><span class="co"># Convert awareness to percentage - dplyr</span></span>
<span id="cb207-13"><a href="references.html#cb207-13" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb207-14"><a href="references.html#cb207-14" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">aware_pct_2 =</span> aware <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb207-15"><a href="references.html#cb207-15" tabindex="-1"></a></span>
<span id="cb207-16"><a href="references.html#cb207-16" tabindex="-1"></a><span class="co"># Compare the two approaches</span></span>
<span id="cb207-17"><a href="references.html#cb207-17" tabindex="-1"></a>cces<span class="sc">$</span>aware_pct[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>] <span class="co"># show first 10 observations</span></span></code></pre></div>
<pre><code>##  [1]  40.000000  86.666667  96.666667  90.000000 100.000000  96.666667  26.666667 100.000000
##  [9] 100.000000   3.333333</code></pre>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="references.html#cb209-1" tabindex="-1"></a>cces<span class="sc">$</span>aware_pct_2[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>] <span class="co"># show same first 10 observations</span></span></code></pre></div>
<pre><code>##  [1]  40.000000  86.666667  96.666667  90.000000 100.000000  96.666667  26.666667 100.000000
##  [9] 100.000000   3.333333</code></pre>
</div>
</div>
<div id="mathematical-transformations" class="section level2 hasAnchor" number="10.35">
<h2><span class="header-section-number">10.35</span> Mathematical Transformations<a href="references.html#mathematical-transformations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Sometimes we need to transform variables to different scales or distributions.</p>
<div id="rescaling-variables" class="section level3 hasAnchor" number="10.35.1">
<h3><span class="header-section-number">10.35.1</span> Rescaling Variables<a href="references.html#rescaling-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Political scientists often need to rescale variables to make them comparable:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="references.html#cb211-1" tabindex="-1"></a><span class="co"># Base R: Rescale party ID from 0-1 to 1-7</span></span>
<span id="cb211-2"><a href="references.html#cb211-2" tabindex="-1"></a>cces<span class="sc">$</span>pid7_traditional <span class="ot">&lt;-</span> <span class="fu">round</span>(cces<span class="sc">$</span>pid7 <span class="sc">*</span> <span class="dv">6</span> <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb211-3"><a href="references.html#cb211-3" tabindex="-1"></a></span>
<span id="cb211-4"><a href="references.html#cb211-4" tabindex="-1"></a><span class="co"># dplyr approach</span></span>
<span id="cb211-5"><a href="references.html#cb211-5" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb211-6"><a href="references.html#cb211-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pid7_traditional_2 =</span> <span class="fu">round</span>(pid7 <span class="sc">*</span> <span class="dv">6</span> <span class="sc">+</span> <span class="dv">1</span>))</span>
<span id="cb211-7"><a href="references.html#cb211-7" tabindex="-1"></a></span>
<span id="cb211-8"><a href="references.html#cb211-8" tabindex="-1"></a><span class="co"># Check both transformations</span></span>
<span id="cb211-9"><a href="references.html#cb211-9" tabindex="-1"></a><span class="fu">table</span>(<span class="at">Base_R =</span> cces<span class="sc">$</span>pid7_traditional, <span class="at">dplyr =</span> cces<span class="sc">$</span>pid7_traditional_2)</span></code></pre></div>
<pre><code>##       dplyr
## Base_R     1     2     3     4     5     6     7
##      1 18536     0     0     0     0     0     0
##      2     0 12741     0     0     0     0     0
##      3     0     0 11290     0     0     0     0
##      4     0     0     0 19025     0     0     0
##      5     0     0     0     0 12432     0     0
##      6     0     0     0     0     0 15841     0
##      7     0     0     0     0     0     0 30473</code></pre>
</div>
</div>
<div id="recoding-variables" class="section level2 hasAnchor" number="10.36">
<h2><span class="header-section-number">10.36</span> Recoding Variables<a href="references.html#recoding-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Recoding changes the values of a variable according to specified rules.</p>
<div id="using-base-r-methods" class="section level3 hasAnchor" number="10.36.1">
<h3><span class="header-section-number">10.36.1</span> Using Base R Methods<a href="references.html#using-base-r-methods" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The simplest approach uses logical indexing:</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="references.html#cb213-1" tabindex="-1"></a><span class="co"># Base R: Create text labels for vote choice</span></span>
<span id="cb213-2"><a href="references.html#cb213-2" tabindex="-1"></a>cces<span class="sc">$</span>vote_label <span class="ot">&lt;-</span> <span class="cn">NA</span>  <span class="co"># Start with NA</span></span>
<span id="cb213-3"><a href="references.html#cb213-3" tabindex="-1"></a>cces<span class="sc">$</span>vote_label[cces<span class="sc">$</span>vote <span class="sc">==</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Democrat&quot;</span></span>
<span id="cb213-4"><a href="references.html#cb213-4" tabindex="-1"></a>cces<span class="sc">$</span>vote_label[cces<span class="sc">$</span>vote <span class="sc">==</span> <span class="dv">0</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Republican&quot;</span></span>
<span id="cb213-5"><a href="references.html#cb213-5" tabindex="-1"></a></span>
<span id="cb213-6"><a href="references.html#cb213-6" tabindex="-1"></a><span class="co"># Alternative base R using ifelse</span></span>
<span id="cb213-7"><a href="references.html#cb213-7" tabindex="-1"></a>cces<span class="sc">$</span>vote_label_alt <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(cces<span class="sc">$</span>vote <span class="sc">==</span> <span class="dv">1</span>, <span class="st">&quot;Democrat&quot;</span>, </span>
<span id="cb213-8"><a href="references.html#cb213-8" tabindex="-1"></a>                              <span class="fu">ifelse</span>(cces<span class="sc">$</span>vote <span class="sc">==</span> <span class="dv">0</span>, <span class="st">&quot;Republican&quot;</span>, <span class="cn">NA</span>))</span>
<span id="cb213-9"><a href="references.html#cb213-9" tabindex="-1"></a></span>
<span id="cb213-10"><a href="references.html#cb213-10" tabindex="-1"></a><span class="fu">table</span>(cces<span class="sc">$</span>vote_label)</span></code></pre></div>
<pre><code>## 
##   Democrat Republican 
##      22136      18755</code></pre>
</div>
<div id="using-dplyr-methods" class="section level3 hasAnchor" number="10.36.2">
<h3><span class="header-section-number">10.36.2</span> Using dplyr Methods<a href="references.html#using-dplyr-methods" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The dplyr package offers multiple approaches for recoding:</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="references.html#cb215-1" tabindex="-1"></a><span class="co"># Using recode()</span></span>
<span id="cb215-2"><a href="references.html#cb215-2" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb215-3"><a href="references.html#cb215-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">vote_label_2 =</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(vote,</span>
<span id="cb215-4"><a href="references.html#cb215-4" tabindex="-1"></a>                               <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Democrat&quot;</span>,</span>
<span id="cb215-5"><a href="references.html#cb215-5" tabindex="-1"></a>                               <span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Republican&quot;</span>))</span>
<span id="cb215-6"><a href="references.html#cb215-6" tabindex="-1"></a></span>
<span id="cb215-7"><a href="references.html#cb215-7" tabindex="-1"></a><span class="co"># Using case_when() - more flexible</span></span>
<span id="cb215-8"><a href="references.html#cb215-8" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb215-9"><a href="references.html#cb215-9" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">vote_label_3 =</span> <span class="fu">case_when</span>(</span>
<span id="cb215-10"><a href="references.html#cb215-10" tabindex="-1"></a>    vote <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Democrat&quot;</span>,</span>
<span id="cb215-11"><a href="references.html#cb215-11" tabindex="-1"></a>    vote <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;Republican&quot;</span>,</span>
<span id="cb215-12"><a href="references.html#cb215-12" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_character_</span>  <span class="co"># Catch all other cases</span></span>
<span id="cb215-13"><a href="references.html#cb215-13" tabindex="-1"></a>  ))</span>
<span id="cb215-14"><a href="references.html#cb215-14" tabindex="-1"></a></span>
<span id="cb215-15"><a href="references.html#cb215-15" tabindex="-1"></a><span class="co"># Recode education levels</span></span>
<span id="cb215-16"><a href="references.html#cb215-16" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb215-17"><a href="references.html#cb215-17" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">educ_label =</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(educ,</span>
<span id="cb215-18"><a href="references.html#cb215-18" tabindex="-1"></a>    <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;No HS&quot;</span>,</span>
<span id="cb215-19"><a href="references.html#cb215-19" tabindex="-1"></a>    <span class="st">`</span><span class="at">2</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;High school&quot;</span>, </span>
<span id="cb215-20"><a href="references.html#cb215-20" tabindex="-1"></a>    <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Some college&quot;</span>,</span>
<span id="cb215-21"><a href="references.html#cb215-21" tabindex="-1"></a>    <span class="st">`</span><span class="at">4</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;2-year degree&quot;</span>,</span>
<span id="cb215-22"><a href="references.html#cb215-22" tabindex="-1"></a>    <span class="st">`</span><span class="at">5</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;4-year degree&quot;</span>,</span>
<span id="cb215-23"><a href="references.html#cb215-23" tabindex="-1"></a>    <span class="st">`</span><span class="at">6</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Post-grad&quot;</span></span>
<span id="cb215-24"><a href="references.html#cb215-24" tabindex="-1"></a>  ))</span></code></pre></div>
</div>
<div id="reversing-scales" class="section level3 hasAnchor" number="10.36.3">
<h3><span class="header-section-number">10.36.3</span> Reversing Scales<a href="references.html#reversing-scales" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sometimes you need to reverse a scale’s direction:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="references.html#cb216-1" tabindex="-1"></a><span class="co"># Base R: Create Republican partisanship</span></span>
<span id="cb216-2"><a href="references.html#cb216-2" tabindex="-1"></a>cces<span class="sc">$</span>pid7_republican <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> cces<span class="sc">$</span>pid7</span>
<span id="cb216-3"><a href="references.html#cb216-3" tabindex="-1"></a></span>
<span id="cb216-4"><a href="references.html#cb216-4" tabindex="-1"></a><span class="co"># dplyr approach</span></span>
<span id="cb216-5"><a href="references.html#cb216-5" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb216-6"><a href="references.html#cb216-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pid7_republican_2 =</span> <span class="dv">1</span> <span class="sc">-</span> pid7)</span></code></pre></div>
</div>
</div>
<div id="creating-categorical-variables-from-continuous-data" class="section level2 hasAnchor" number="10.37">
<h2><span class="header-section-number">10.37</span> Creating Categorical Variables from Continuous Data<a href="references.html#creating-categorical-variables-from-continuous-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>cut()</code> function divides continuous variables into categories.</p>
<div id="equal-width-categories" class="section level3 hasAnchor" number="10.37.1">
<h3><span class="header-section-number">10.37.1</span> Equal-Width Categories<a href="references.html#equal-width-categories" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="references.html#cb217-1" tabindex="-1"></a><span class="co"># Base R approach</span></span>
<span id="cb217-2"><a href="references.html#cb217-2" tabindex="-1"></a>cces<span class="sc">$</span>age_groups <span class="ot">&lt;-</span> <span class="fu">cut</span>(cces<span class="sc">$</span>age, </span>
<span id="cb217-3"><a href="references.html#cb217-3" tabindex="-1"></a>                       <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">38</span>, <span class="dv">58</span>, <span class="dv">78</span>, <span class="dv">100</span>),</span>
<span id="cb217-4"><a href="references.html#cb217-4" tabindex="-1"></a>                       <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;18-37&quot;</span>, <span class="st">&quot;38-57&quot;</span>, <span class="st">&quot;58-77&quot;</span>, <span class="st">&quot;78+&quot;</span>),</span>
<span id="cb217-5"><a href="references.html#cb217-5" tabindex="-1"></a>                       <span class="at">include.lowest =</span> <span class="cn">TRUE</span>)</span>
<span id="cb217-6"><a href="references.html#cb217-6" tabindex="-1"></a></span>
<span id="cb217-7"><a href="references.html#cb217-7" tabindex="-1"></a><span class="co"># dplyr approach - same cut() function within mutate</span></span>
<span id="cb217-8"><a href="references.html#cb217-8" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb217-9"><a href="references.html#cb217-9" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age_groups_2 =</span> <span class="fu">cut</span>(age, </span>
<span id="cb217-10"><a href="references.html#cb217-10" tabindex="-1"></a>                            <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">38</span>, <span class="dv">58</span>, <span class="dv">78</span>, <span class="dv">100</span>),</span>
<span id="cb217-11"><a href="references.html#cb217-11" tabindex="-1"></a>                            <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;18-37&quot;</span>, <span class="st">&quot;38-57&quot;</span>, <span class="st">&quot;58-77&quot;</span>, <span class="st">&quot;78+&quot;</span>),</span>
<span id="cb217-12"><a href="references.html#cb217-12" tabindex="-1"></a>                            <span class="at">include.lowest =</span> <span class="cn">TRUE</span>))</span>
<span id="cb217-13"><a href="references.html#cb217-13" tabindex="-1"></a></span>
<span id="cb217-14"><a href="references.html#cb217-14" tabindex="-1"></a><span class="fu">table</span>(cces<span class="sc">$</span>age_groups)</span></code></pre></div>
<pre><code>## 
## 18-37 38-57 58-77   78+ 
## 43901 41754 34784  4161</code></pre>
</div>
<div id="creating-meaningful-breakpoints" class="section level3 hasAnchor" number="10.37.2">
<h3><span class="header-section-number">10.37.2</span> Creating Meaningful Breakpoints<a href="references.html#creating-meaningful-breakpoints" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Use substantively meaningful cutoffs:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="references.html#cb219-1" tabindex="-1"></a><span class="co"># Calculate birth year first</span></span>
<span id="cb219-2"><a href="references.html#cb219-2" tabindex="-1"></a>current_year <span class="ot">&lt;-</span> <span class="dv">2020</span></span>
<span id="cb219-3"><a href="references.html#cb219-3" tabindex="-1"></a></span>
<span id="cb219-4"><a href="references.html#cb219-4" tabindex="-1"></a><span class="co"># Base R approach</span></span>
<span id="cb219-5"><a href="references.html#cb219-5" tabindex="-1"></a>cces<span class="sc">$</span>birth_year <span class="ot">&lt;-</span> current_year <span class="sc">-</span> cces<span class="sc">$</span>age</span>
<span id="cb219-6"><a href="references.html#cb219-6" tabindex="-1"></a>cces<span class="sc">$</span>generation <span class="ot">&lt;-</span> <span class="fu">cut</span>(cces<span class="sc">$</span>birth_year,</span>
<span id="cb219-7"><a href="references.html#cb219-7" tabindex="-1"></a>                      <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1900</span>, <span class="dv">1945</span>, <span class="dv">1964</span>, <span class="dv">1980</span>, <span class="dv">1996</span>, <span class="dv">2010</span>),</span>
<span id="cb219-8"><a href="references.html#cb219-8" tabindex="-1"></a>                      <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Silent&quot;</span>, <span class="st">&quot;Boomer&quot;</span>, <span class="st">&quot;Gen X&quot;</span>, <span class="st">&quot;Millennial&quot;</span>, <span class="st">&quot;Gen Z&quot;</span>))</span>
<span id="cb219-9"><a href="references.html#cb219-9" tabindex="-1"></a></span>
<span id="cb219-10"><a href="references.html#cb219-10" tabindex="-1"></a><span class="co"># dplyr approach - all in one pipeline</span></span>
<span id="cb219-11"><a href="references.html#cb219-11" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb219-12"><a href="references.html#cb219-12" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">birth_year_2 =</span> current_year <span class="sc">-</span> age,</span>
<span id="cb219-13"><a href="references.html#cb219-13" tabindex="-1"></a>         <span class="at">generation_2 =</span> <span class="fu">cut</span>(birth_year_2,</span>
<span id="cb219-14"><a href="references.html#cb219-14" tabindex="-1"></a>                           <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1900</span>, <span class="dv">1945</span>, <span class="dv">1964</span>, <span class="dv">1980</span>, <span class="dv">1996</span>, <span class="dv">2010</span>),</span>
<span id="cb219-15"><a href="references.html#cb219-15" tabindex="-1"></a>                           <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Silent&quot;</span>, <span class="st">&quot;Boomer&quot;</span>, <span class="st">&quot;Gen X&quot;</span>, <span class="st">&quot;Millennial&quot;</span>, <span class="st">&quot;Gen Z&quot;</span>)))</span>
<span id="cb219-16"><a href="references.html#cb219-16" tabindex="-1"></a></span>
<span id="cb219-17"><a href="references.html#cb219-17" tabindex="-1"></a><span class="fu">table</span>(cces<span class="sc">$</span>generation, cces<span class="sc">$</span>generation_2)</span></code></pre></div>
<pre><code>##             
##              Silent Boomer Gen X Millennial Gen Z
##   Silent       8285      0     0          0     0
##   Boomer          0  38456     0          0     0
##   Gen X           0      0 32097          0     0
##   Millennial      0      0     0      36271     0
##   Gen Z           0      0     0          0  9491</code></pre>
</div>
</div>
<div id="creating-dummyindicator-variables" class="section level2 hasAnchor" number="10.38">
<h2><span class="header-section-number">10.38</span> Creating Dummy/Indicator Variables<a href="references.html#creating-dummyindicator-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Dummy variables are binary (0/1) variables that indicate membership in a category.</p>
<div id="manual-creation" class="section level3 hasAnchor" number="10.38.1">
<h3><span class="header-section-number">10.38.1</span> Manual Creation<a href="references.html#manual-creation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Create dummy variables using logical conditions:</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="references.html#cb221-1" tabindex="-1"></a><span class="co"># Base R approach</span></span>
<span id="cb221-2"><a href="references.html#cb221-2" tabindex="-1"></a>cces<span class="sc">$</span>elderly <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(cces<span class="sc">$</span>age <span class="sc">&gt;=</span> <span class="dv">65</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb221-3"><a href="references.html#cb221-3" tabindex="-1"></a>cces<span class="sc">$</span>high_awareness <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(cces<span class="sc">$</span>aware <span class="sc">&gt;</span> <span class="fl">0.7</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb221-4"><a href="references.html#cb221-4" tabindex="-1"></a></span>
<span id="cb221-5"><a href="references.html#cb221-5" tabindex="-1"></a><span class="co"># dplyr approach</span></span>
<span id="cb221-6"><a href="references.html#cb221-6" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb221-7"><a href="references.html#cb221-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">elderly_2 =</span> <span class="fu">if_else</span>(age <span class="sc">&gt;=</span> <span class="dv">65</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb221-8"><a href="references.html#cb221-8" tabindex="-1"></a>         <span class="at">high_awareness_2 =</span> <span class="fu">if_else</span>(aware <span class="sc">&gt;</span> <span class="fl">0.7</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="at">missing =</span> <span class="cn">NA_real_</span>))</span>
<span id="cb221-9"><a href="references.html#cb221-9" tabindex="-1"></a></span>
<span id="cb221-10"><a href="references.html#cb221-10" tabindex="-1"></a><span class="co"># Check proportions</span></span>
<span id="cb221-11"><a href="references.html#cb221-11" tabindex="-1"></a><span class="fu">mean</span>(cces<span class="sc">$</span>elderly, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 0.1946148</code></pre>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="references.html#cb223-1" tabindex="-1"></a><span class="fu">mean</span>(cces<span class="sc">$</span>elderly_2, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 0.1946148</code></pre>
</div>
<div id="using-logical-operators-for-complex-cases" class="section level3 hasAnchor" number="10.38.2">
<h3><span class="header-section-number">10.38.2</span> Using Logical Operators for Complex Cases<a href="references.html#using-logical-operators-for-complex-cases" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Often we need to create indicators based on multiple conditions combined with AND (<code>&amp;</code>) or OR (<code>|</code>) operators. Let’s create a “swing voter” indicator - these are voters who might be persuadable because they’re both ideologically moderate AND not strongly partisan.</p>
<p>First, let’s understand our variables:</p>
<ul>
<li><code>ideo</code> ranges from 0 (very conservative) to 1 (very liberal), so 0.5 is the center</li>
<li><code>pid7</code> ranges from 0 (strong Republican) to 1 (strong Democrat), so 0.5 is independent</li>
</ul>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="references.html#cb225-1" tabindex="-1"></a><span class="co"># Base R: Swing voter indicator</span></span>
<span id="cb225-2"><a href="references.html#cb225-2" tabindex="-1"></a><span class="co"># We want people who are:</span></span>
<span id="cb225-3"><a href="references.html#cb225-3" tabindex="-1"></a><span class="co"># 1. Ideologically moderate (within 0.2 of center on ideology scale)</span></span>
<span id="cb225-4"><a href="references.html#cb225-4" tabindex="-1"></a><span class="co"># 2. AND politically independent (within 0.2 of center on party ID scale)</span></span>
<span id="cb225-5"><a href="references.html#cb225-5" tabindex="-1"></a></span>
<span id="cb225-6"><a href="references.html#cb225-6" tabindex="-1"></a>cces<span class="sc">$</span>swing_voter <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(</span>
<span id="cb225-7"><a href="references.html#cb225-7" tabindex="-1"></a>  <span class="fu">abs</span>(cces<span class="sc">$</span>ideo <span class="sc">-</span> <span class="fl">0.5</span>) <span class="sc">&lt;</span> <span class="fl">0.2</span> <span class="sc">&amp;</span>    <span class="co"># abs() gets distance from center</span></span>
<span id="cb225-8"><a href="references.html#cb225-8" tabindex="-1"></a>  <span class="fu">abs</span>(cces<span class="sc">$</span>pid7 <span class="sc">-</span> <span class="fl">0.5</span>) <span class="sc">&lt;</span> <span class="fl">0.2</span>,      <span class="co"># &amp; means BOTH conditions must be true</span></span>
<span id="cb225-9"><a href="references.html#cb225-9" tabindex="-1"></a>  <span class="dv">1</span>,                                <span class="co"># If both conditions met, assign 1</span></span>
<span id="cb225-10"><a href="references.html#cb225-10" tabindex="-1"></a>  <span class="dv">0</span>                                 <span class="co"># Otherwise, assign 0</span></span>
<span id="cb225-11"><a href="references.html#cb225-11" tabindex="-1"></a>)</span>
<span id="cb225-12"><a href="references.html#cb225-12" tabindex="-1"></a></span>
<span id="cb225-13"><a href="references.html#cb225-13" tabindex="-1"></a><span class="co"># Let&#39;s see what we created</span></span>
<span id="cb225-14"><a href="references.html#cb225-14" tabindex="-1"></a><span class="fu">table</span>(cces<span class="sc">$</span>swing_voter)</span></code></pre></div>
<pre><code>## 
##     0     1 
## 93545 24681</code></pre>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="references.html#cb227-1" tabindex="-1"></a><span class="fu">mean</span>(cces<span class="sc">$</span>swing_voter, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)  <span class="co"># Proportion of swing voters</span></span></code></pre></div>
<pre><code>## [1] 0.2087612</code></pre>
<p>The <code>abs()</code> function calculates absolute value - the distance from center regardless of direction. So <code>abs(0.7 - 0.5) = 0.2</code> and <code>abs(0.3 - 0.5) = 0.2</code>. Both are equally far from center.</p>
<p>Now let’s do the same thing using dplyr’s <code>case_when()</code>:</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="references.html#cb229-1" tabindex="-1"></a><span class="co"># dplyr approach</span></span>
<span id="cb229-2"><a href="references.html#cb229-2" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb229-3"><a href="references.html#cb229-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">swing_voter_2 =</span> <span class="fu">case_when</span>(</span>
<span id="cb229-4"><a href="references.html#cb229-4" tabindex="-1"></a>    <span class="fu">abs</span>(ideo <span class="sc">-</span> <span class="fl">0.5</span>) <span class="sc">&lt;</span> <span class="fl">0.2</span> <span class="sc">&amp;</span> <span class="fu">abs</span>(pid7 <span class="sc">-</span> <span class="fl">0.5</span>) <span class="sc">&lt;</span> <span class="fl">0.2</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb229-5"><a href="references.html#cb229-5" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span>  <span class="co"># This catches all other cases</span></span>
<span id="cb229-6"><a href="references.html#cb229-6" tabindex="-1"></a>  ))</span>
<span id="cb229-7"><a href="references.html#cb229-7" tabindex="-1"></a></span>
<span id="cb229-8"><a href="references.html#cb229-8" tabindex="-1"></a><span class="co"># Verify they&#39;re identical</span></span>
<span id="cb229-9"><a href="references.html#cb229-9" tabindex="-1"></a><span class="fu">table</span>(<span class="at">BaseR =</span> cces<span class="sc">$</span>swing_voter, <span class="at">dplyr =</span> cces<span class="sc">$</span>swing_voter_2)</span></code></pre></div>
<pre><code>##      dplyr
## BaseR     0     1
##     0 93545     0
##     1     0 24681</code></pre>
<p>The power of <code>mutate()</code> really shines when creating multiple related variables at once. Instead of writing three separate assignment statements, we can create a whole set of age-based indicators in one clean pipeline:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="references.html#cb231-1" tabindex="-1"></a><span class="co"># Using mutate with multiple new variables at once</span></span>
<span id="cb231-2"><a href="references.html#cb231-2" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb231-3"><a href="references.html#cb231-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb231-4"><a href="references.html#cb231-4" tabindex="-1"></a>    <span class="at">young_voter =</span> <span class="fu">if_else</span>(age <span class="sc">&lt;</span> <span class="dv">30</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb231-5"><a href="references.html#cb231-5" tabindex="-1"></a>    <span class="at">senior_voter =</span> <span class="fu">if_else</span>(age <span class="sc">&gt;=</span> <span class="dv">65</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb231-6"><a href="references.html#cb231-6" tabindex="-1"></a>    <span class="at">midlife_voter =</span> <span class="fu">if_else</span>(age <span class="sc">&gt;=</span> <span class="dv">40</span> <span class="sc">&amp;</span> age <span class="sc">&lt;</span> <span class="dv">65</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb231-7"><a href="references.html#cb231-7" tabindex="-1"></a>  )</span>
<span id="cb231-8"><a href="references.html#cb231-8" tabindex="-1"></a></span>
<span id="cb231-9"><a href="references.html#cb231-9" tabindex="-1"></a><span class="co"># Check our work - these should be mutually exclusive except for young/midlife</span></span>
<span id="cb231-10"><a href="references.html#cb231-10" tabindex="-1"></a><span class="fu">table</span>(<span class="at">Young =</span> cces<span class="sc">$</span>young_voter, <span class="at">Senior =</span> cces<span class="sc">$</span>senior_voter)</span></code></pre></div>
<pre><code>##      Senior
## Young     0     1
##     0 76986 24249
##     1 23365     0</code></pre>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="references.html#cb233-1" tabindex="-1"></a><span class="fu">table</span>(<span class="at">Young =</span> cces<span class="sc">$</span>young_voter, <span class="at">Midlife =</span> cces<span class="sc">$</span>midlife_voter)</span></code></pre></div>
<pre><code>##      Midlife
## Young     0     1
##     0 46646 54589
##     1 23365     0</code></pre>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="references.html#cb235-1" tabindex="-1"></a><span class="co"># We can also use OR conditions - let&#39;s identify priority outreach targets</span></span>
<span id="cb235-2"><a href="references.html#cb235-2" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb235-3"><a href="references.html#cb235-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb235-4"><a href="references.html#cb235-4" tabindex="-1"></a>    <span class="co"># Target young OR senior voters (two key demographics)</span></span>
<span id="cb235-5"><a href="references.html#cb235-5" tabindex="-1"></a>    <span class="at">priority_demo =</span> <span class="fu">if_else</span>(age <span class="sc">&lt;</span> <span class="dv">30</span> <span class="sc">|</span> age <span class="sc">&gt;=</span> <span class="dv">65</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb235-6"><a href="references.html#cb235-6" tabindex="-1"></a>  )</span>
<span id="cb235-7"><a href="references.html#cb235-7" tabindex="-1"></a></span>
<span id="cb235-8"><a href="references.html#cb235-8" tabindex="-1"></a><span class="co"># What proportion of voters are in our priority demographics?</span></span>
<span id="cb235-9"><a href="references.html#cb235-9" tabindex="-1"></a><span class="fu">mean</span>(cces<span class="sc">$</span>priority_demo, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 0.3821348</code></pre>
<p>Note the difference:</p>
<ul>
<li><code>&amp;</code> (AND): Both conditions must be true</li>
<li><code>|</code> (OR): At least one condition must be true</li>
</ul>
<p>This becomes powerful when combining multiple characteristics to identify specific voter segments for analysis or targeting.</p>
</div>
<div id="using-the-fastdummies-package" class="section level3 hasAnchor" number="10.38.3">
<h3><span class="header-section-number">10.38.3</span> Using the fastDummies Package<a href="references.html#using-the-fastdummies-package" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For creating multiple dummy variables at once:</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="references.html#cb237-1" tabindex="-1"></a><span class="fu">library</span>(fastDummies)</span>
<span id="cb237-2"><a href="references.html#cb237-2" tabindex="-1"></a></span>
<span id="cb237-3"><a href="references.html#cb237-3" tabindex="-1"></a><span class="co"># Create dummy variables for all regions</span></span>
<span id="cb237-4"><a href="references.html#cb237-4" tabindex="-1"></a>cces_with_dummies <span class="ot">&lt;-</span> <span class="fu">dummy_cols</span>(cces, </span>
<span id="cb237-5"><a href="references.html#cb237-5" tabindex="-1"></a>                                <span class="at">select_columns =</span> <span class="st">&quot;region&quot;</span>,</span>
<span id="cb237-6"><a href="references.html#cb237-6" tabindex="-1"></a>                                <span class="at">remove_first_dummy =</span> <span class="cn">TRUE</span>)</span>
<span id="cb237-7"><a href="references.html#cb237-7" tabindex="-1"></a></span>
<span id="cb237-8"><a href="references.html#cb237-8" tabindex="-1"></a><span class="co"># Alternative: Manual dplyr approach for specific dummies</span></span>
<span id="cb237-9"><a href="references.html#cb237-9" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb237-10"><a href="references.html#cb237-10" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb237-11"><a href="references.html#cb237-11" tabindex="-1"></a>    <span class="at">region_northeast =</span> <span class="fu">if_else</span>(region <span class="sc">==</span> <span class="st">&quot;Northeast&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb237-12"><a href="references.html#cb237-12" tabindex="-1"></a>    <span class="at">region_midwest =</span> <span class="fu">if_else</span>(region <span class="sc">==</span> <span class="st">&quot;Midwest&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb237-13"><a href="references.html#cb237-13" tabindex="-1"></a>    <span class="at">region_south =</span> <span class="fu">if_else</span>(region <span class="sc">==</span> <span class="st">&quot;South&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb237-14"><a href="references.html#cb237-14" tabindex="-1"></a>    <span class="at">region_west =</span> <span class="fu">if_else</span>(region <span class="sc">==</span> <span class="st">&quot;West&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb237-15"><a href="references.html#cb237-15" tabindex="-1"></a>  )</span></code></pre></div>
</div>
</div>
<div id="conditional-variable-creation" class="section level2 hasAnchor" number="10.39">
<h2><span class="header-section-number">10.39</span> Conditional Variable Creation<a href="references.html#conditional-variable-creation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For complex conditions, <code>case_when()</code> is the most powerful tool.</p>
<div id="creating-voter-typologies" class="section level3 hasAnchor" number="10.39.1">
<h3><span class="header-section-number">10.39.1</span> Creating Voter Typologies<a href="references.html#creating-voter-typologies" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="references.html#cb238-1" tabindex="-1"></a><span class="co"># Base R approach using nested ifelse (gets messy quickly!)</span></span>
<span id="cb238-2"><a href="references.html#cb238-2" tabindex="-1"></a>cces<span class="sc">$</span>voter_type_base <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(</span>
<span id="cb238-3"><a href="references.html#cb238-3" tabindex="-1"></a>  cces<span class="sc">$</span>aware <span class="sc">&gt;</span> <span class="fl">0.8</span> <span class="sc">&amp;</span> cces<span class="sc">$</span>interest <span class="sc">&gt;</span> <span class="fl">0.8</span>, <span class="st">&quot;Highly Engaged&quot;</span>,</span>
<span id="cb238-4"><a href="references.html#cb238-4" tabindex="-1"></a>  <span class="fu">ifelse</span>(cces<span class="sc">$</span>aware <span class="sc">&gt;</span> <span class="fl">0.5</span> <span class="sc">&amp;</span> cces<span class="sc">$</span>interest <span class="sc">&gt;</span> <span class="fl">0.5</span>, <span class="st">&quot;Moderately Engaged&quot;</span>,</span>
<span id="cb238-5"><a href="references.html#cb238-5" tabindex="-1"></a>  <span class="fu">ifelse</span>(cces<span class="sc">$</span>aware <span class="sc">&lt;</span> <span class="fl">0.3</span> <span class="sc">&amp;</span> cces<span class="sc">$</span>interest <span class="sc">&lt;</span> <span class="fl">0.3</span>, <span class="st">&quot;Disengaged&quot;</span>,</span>
<span id="cb238-6"><a href="references.html#cb238-6" tabindex="-1"></a>  <span class="fu">ifelse</span>(cces<span class="sc">$</span>aware <span class="sc">&gt;</span> <span class="fl">0.7</span> <span class="sc">&amp;</span> cces<span class="sc">$</span>interest <span class="sc">&lt;</span> <span class="fl">0.3</span>, <span class="st">&quot;Informed but Apathetic&quot;</span>,</span>
<span id="cb238-7"><a href="references.html#cb238-7" tabindex="-1"></a>  <span class="fu">ifelse</span>(cces<span class="sc">$</span>aware <span class="sc">&lt;</span> <span class="fl">0.3</span> <span class="sc">&amp;</span> cces<span class="sc">$</span>interest <span class="sc">&gt;</span> <span class="fl">0.7</span>, <span class="st">&quot;Interested but Uninformed&quot;</span>,</span>
<span id="cb238-8"><a href="references.html#cb238-8" tabindex="-1"></a>  <span class="st">&quot;Mixed&quot;</span>)))))</span>
<span id="cb238-9"><a href="references.html#cb238-9" tabindex="-1"></a></span>
<span id="cb238-10"><a href="references.html#cb238-10" tabindex="-1"></a><span class="co"># dplyr approach - much cleaner!</span></span>
<span id="cb238-11"><a href="references.html#cb238-11" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb238-12"><a href="references.html#cb238-12" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">voter_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb238-13"><a href="references.html#cb238-13" tabindex="-1"></a>    aware <span class="sc">&gt;</span> <span class="fl">0.8</span> <span class="sc">&amp;</span> interest <span class="sc">&gt;</span> <span class="fl">0.8</span> <span class="sc">~</span> <span class="st">&quot;Highly Engaged&quot;</span>,</span>
<span id="cb238-14"><a href="references.html#cb238-14" tabindex="-1"></a>    aware <span class="sc">&gt;</span> <span class="fl">0.5</span> <span class="sc">&amp;</span> interest <span class="sc">&gt;</span> <span class="fl">0.5</span> <span class="sc">~</span> <span class="st">&quot;Moderately Engaged&quot;</span>,</span>
<span id="cb238-15"><a href="references.html#cb238-15" tabindex="-1"></a>    aware <span class="sc">&lt;</span> <span class="fl">0.3</span> <span class="sc">&amp;</span> interest <span class="sc">&lt;</span> <span class="fl">0.3</span> <span class="sc">~</span> <span class="st">&quot;Disengaged&quot;</span>,</span>
<span id="cb238-16"><a href="references.html#cb238-16" tabindex="-1"></a>    aware <span class="sc">&gt;</span> <span class="fl">0.7</span> <span class="sc">&amp;</span> interest <span class="sc">&lt;</span> <span class="fl">0.3</span> <span class="sc">~</span> <span class="st">&quot;Informed but Apathetic&quot;</span>,</span>
<span id="cb238-17"><a href="references.html#cb238-17" tabindex="-1"></a>    aware <span class="sc">&lt;</span> <span class="fl">0.3</span> <span class="sc">&amp;</span> interest <span class="sc">&gt;</span> <span class="fl">0.7</span> <span class="sc">~</span> <span class="st">&quot;Interested but Uninformed&quot;</span>,</span>
<span id="cb238-18"><a href="references.html#cb238-18" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;Mixed&quot;</span></span>
<span id="cb238-19"><a href="references.html#cb238-19" tabindex="-1"></a>  ))</span>
<span id="cb238-20"><a href="references.html#cb238-20" tabindex="-1"></a></span>
<span id="cb238-21"><a href="references.html#cb238-21" tabindex="-1"></a><span class="fu">table</span>(cces<span class="sc">$</span>voter_type)</span></code></pre></div>
<pre><code>## 
##                Disengaged            Highly Engaged    Informed but Apathetic 
##                      7923                     39116                       629 
## Interested but Uninformed                     Mixed        Moderately Engaged 
##                      1129                     38058                     37745</code></pre>
</div>
</div>
<div id="best-practices-and-common-pitfalls" class="section level2 hasAnchor" number="10.40">
<h2><span class="header-section-number">10.40</span> Best Practices and Common Pitfalls<a href="references.html#best-practices-and-common-pitfalls" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="document-your-transformations" class="section level3 hasAnchor" number="10.40.1">
<h3><span class="header-section-number">10.40.1</span> Document Your Transformations<a href="references.html#document-your-transformations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="references.html#cb240-1" tabindex="-1"></a><span class="co"># Well-documented transformation</span></span>
<span id="cb240-2"><a href="references.html#cb240-2" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb240-3"><a href="references.html#cb240-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb240-4"><a href="references.html#cb240-4" tabindex="-1"></a>    <span class="co"># Political knowledge scale: combines awareness (0-1) and interest (0-1)</span></span>
<span id="cb240-5"><a href="references.html#cb240-5" tabindex="-1"></a>    <span class="co"># Rescaled to 0-100 for easier interpretation</span></span>
<span id="cb240-6"><a href="references.html#cb240-6" tabindex="-1"></a>    <span class="at">knowledge_scale =</span> ((aware <span class="sc">+</span> interest) <span class="sc">/</span> <span class="dv">2</span>) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb240-7"><a href="references.html#cb240-7" tabindex="-1"></a>    </span>
<span id="cb240-8"><a href="references.html#cb240-8" tabindex="-1"></a>    <span class="co"># Binary indicator for high political knowledge (top 25%)</span></span>
<span id="cb240-9"><a href="references.html#cb240-9" tabindex="-1"></a>    <span class="at">high_knowledge =</span> knowledge_scale <span class="sc">&gt;</span> <span class="fu">quantile</span>(knowledge_scale, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb240-10"><a href="references.html#cb240-10" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="chain-multiple-transformations" class="section level3 hasAnchor" number="10.40.2">
<h3><span class="header-section-number">10.40.2</span> Chain Multiple Transformations<a href="references.html#chain-multiple-transformations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>dplyr makes it easy to create multiple related variables:</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="references.html#cb241-1" tabindex="-1"></a><span class="co"># Create a series of related variables in one pipeline</span></span>
<span id="cb241-2"><a href="references.html#cb241-2" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb241-3"><a href="references.html#cb241-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb241-4"><a href="references.html#cb241-4" tabindex="-1"></a>    <span class="co"># First create age categories</span></span>
<span id="cb241-5"><a href="references.html#cb241-5" tabindex="-1"></a>    <span class="at">age_cat =</span> <span class="fu">cut</span>(age, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">30</span>, <span class="dv">45</span>, <span class="dv">65</span>, <span class="dv">100</span>),</span>
<span id="cb241-6"><a href="references.html#cb241-6" tabindex="-1"></a>                  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Young&quot;</span>, <span class="st">&quot;Middle&quot;</span>, <span class="st">&quot;Older&quot;</span>, <span class="st">&quot;Senior&quot;</span>)),</span>
<span id="cb241-7"><a href="references.html#cb241-7" tabindex="-1"></a>    <span class="co"># Then create dummies based on those categories</span></span>
<span id="cb241-8"><a href="references.html#cb241-8" tabindex="-1"></a>    <span class="at">is_young =</span> <span class="fu">if_else</span>(age_cat <span class="sc">==</span> <span class="st">&quot;Young&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb241-9"><a href="references.html#cb241-9" tabindex="-1"></a>    <span class="at">is_senior =</span> <span class="fu">if_else</span>(age_cat <span class="sc">==</span> <span class="st">&quot;Senior&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb241-10"><a href="references.html#cb241-10" tabindex="-1"></a>    <span class="co"># And create interaction variables</span></span>
<span id="cb241-11"><a href="references.html#cb241-11" tabindex="-1"></a>    <span class="at">young_democrat =</span> is_young <span class="sc">*</span> (pid7 <span class="sc">&gt;</span> <span class="fl">0.6</span>),</span>
<span id="cb241-12"><a href="references.html#cb241-12" tabindex="-1"></a>    <span class="at">senior_republican =</span> is_senior <span class="sc">*</span> (pid7 <span class="sc">&lt;</span> <span class="fl">0.4</span>)</span>
<span id="cb241-13"><a href="references.html#cb241-13" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="handle-missing-values-explicitly" class="section level3 hasAnchor" number="10.40.3">
<h3><span class="header-section-number">10.40.3</span> Handle Missing Values Explicitly<a href="references.html#handle-missing-values-explicitly" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="references.html#cb242-1" tabindex="-1"></a><span class="co"># Base R approach</span></span>
<span id="cb242-2"><a href="references.html#cb242-2" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(cces<span class="sc">$</span>aware))</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="references.html#cb244-1" tabindex="-1"></a><span class="co"># Problem: NAs propagate</span></span>
<span id="cb244-2"><a href="references.html#cb244-2" tabindex="-1"></a>cces<span class="sc">$</span>problem_var <span class="ot">&lt;-</span> cces<span class="sc">$</span>aware <span class="sc">*</span> <span class="dv">2</span>  <span class="co"># NAs remain NAs</span></span>
<span id="cb244-3"><a href="references.html#cb244-3" tabindex="-1"></a></span>
<span id="cb244-4"><a href="references.html#cb244-4" tabindex="-1"></a><span class="co"># Solution 1: Exclude NAs in creation</span></span>
<span id="cb244-5"><a href="references.html#cb244-5" tabindex="-1"></a>cces<span class="sc">$</span>high_aware_base <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(cces<span class="sc">$</span>aware) <span class="sc">&amp;</span> cces<span class="sc">$</span>aware <span class="sc">&gt;</span> <span class="fl">0.7</span>, <span class="dv">1</span>, </span>
<span id="cb244-6"><a href="references.html#cb244-6" tabindex="-1"></a>                              <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(cces<span class="sc">$</span>aware), <span class="dv">0</span>, <span class="cn">NA</span>))</span>
<span id="cb244-7"><a href="references.html#cb244-7" tabindex="-1"></a></span>
<span id="cb244-8"><a href="references.html#cb244-8" tabindex="-1"></a><span class="co"># Solution 2: dplyr with explicit NA handling</span></span>
<span id="cb244-9"><a href="references.html#cb244-9" tabindex="-1"></a>cces <span class="ot">&lt;-</span> cces <span class="sc">%&gt;%</span></span>
<span id="cb244-10"><a href="references.html#cb244-10" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb244-11"><a href="references.html#cb244-11" tabindex="-1"></a>    <span class="at">high_aware_clean =</span> <span class="fu">case_when</span>(</span>
<span id="cb244-12"><a href="references.html#cb244-12" tabindex="-1"></a>      <span class="fu">is.na</span>(aware) <span class="sc">~</span> <span class="cn">NA_real_</span>,  <span class="co"># Preserve NAs</span></span>
<span id="cb244-13"><a href="references.html#cb244-13" tabindex="-1"></a>      aware <span class="sc">&gt;</span> <span class="fl">0.7</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb244-14"><a href="references.html#cb244-14" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb244-15"><a href="references.html#cb244-15" tabindex="-1"></a>    ),</span>
<span id="cb244-16"><a href="references.html#cb244-16" tabindex="-1"></a>    <span class="co"># Or use if_else with missing parameter</span></span>
<span id="cb244-17"><a href="references.html#cb244-17" tabindex="-1"></a>    <span class="at">high_aware_alt =</span> <span class="fu">if_else</span>(aware <span class="sc">&gt;</span> <span class="fl">0.7</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="at">missing =</span> <span class="cn">NA_real_</span>)</span>
<span id="cb244-18"><a href="references.html#cb244-18" tabindex="-1"></a>  )</span></code></pre></div>
</div>
</div>
<div id="summary-2" class="section level2 hasAnchor" number="10.41">
<h2><span class="header-section-number">10.41</span> Summary<a href="references.html#summary-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Creating and transforming variables is an essential data preparation skill. Key takeaways:</p>
<ol style="list-style-type: decimal">
<li><strong>Both approaches work</strong> - Base R is direct, dplyr is often cleaner for complex operations</li>
<li><strong>dplyr excels at</strong> - Multiple transformations, complex conditions, readable code</li>
<li><strong>Use case_when()</strong> - For anything more complex than a simple if-else</li>
<li><strong>Chain operations</strong> - dplyr’s %&gt;% makes sequential transformations clear</li>
<li><strong>Be explicit with NAs</strong> - Both approaches require careful handling of missing values</li>
</ol>
<p>The dplyr approach generally produces more readable code, especially for complex transformations. However, knowing both methods makes you a more versatile data analyst.</p>
</div>
<div id="study-questions-1" class="section level2 hasAnchor" number="10.42">
<h2><span class="header-section-number">10.42</span> Study Questions<a href="references.html#study-questions-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="understanding-variable-creation-basics" class="section level3 hasAnchor" number="10.42.1">
<h3><span class="header-section-number">10.42.1</span> Understanding Variable Creation Basics<a href="references.html#understanding-variable-creation-basics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>What operator do you use to create a new variable in base R? What function do you use in dplyr?</p></li>
<li><p>If you have a variable <code>income</code> in thousands and want to convert it to actual dollars, write the code using both base R and dplyr.</p></li>
</ol>
</div>
<div id="simple-recoding" class="section level3 hasAnchor" number="10.42.2">
<h3><span class="header-section-number">10.42.2</span> Simple Recoding<a href="references.html#simple-recoding" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="3" style="list-style-type: decimal">
<li><p>Explain what this code does in plain English:</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="references.html#cb245-1" tabindex="-1"></a>cces<span class="sc">$</span>vote_label <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(cces<span class="sc">$</span>vote <span class="sc">==</span> <span class="dv">1</span>, <span class="st">&quot;Democrat&quot;</span>, <span class="st">&quot;Republican&quot;</span>)</span></code></pre></div></li>
<li><p>What are the three arguments in the <code>ifelse()</code> function? What does each one do?</p></li>
<li><p>If you have a party ID scale from 0 to 1, how would you reverse it so that 0 becomes 1 and 1 becomes 0?</p></li>
</ol>
</div>
<div id="using-cut-for-categories" class="section level3 hasAnchor" number="10.42.3">
<h3><span class="header-section-number">10.42.3</span> Using cut() for Categories<a href="references.html#using-cut-for-categories" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="6" style="list-style-type: decimal">
<li><p>What does <code>cut()</code> do to a continuous variable like age?</p></li>
<li><p>In <code>cut(age, breaks = c(18, 35, 65, 100))</code>, what are the three categories that will be created?</p></li>
</ol>
</div>
<div id="creating-dummy-variables" class="section level3 hasAnchor" number="10.42.4">
<h3><span class="header-section-number">10.42.4</span> Creating Dummy Variables<a href="references.html#creating-dummy-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="8" style="list-style-type: decimal">
<li><p>What values does a dummy variable contain?</p></li>
<li><p>Write the code to create a dummy variable <code>is_adult</code> that equals 1 if age is 18 or older, and 0 otherwise.</p></li>
<li><p>What does the <code>&amp;</code> operator do when creating dummy variables? What about <code>|</code>?</p></li>
</ol>
</div>
<div id="understanding-dplyr-basics" class="section level3 hasAnchor" number="10.42.5">
<h3><span class="header-section-number">10.42.5</span> Understanding dplyr Basics<a href="references.html#understanding-dplyr-basics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="11" style="list-style-type: decimal">
<li><p>What does <code>%&gt;%</code> do in dplyr code?</p></li>
<li><p>What’s the advantage of using <code>mutate()</code> to create multiple variables at once?</p></li>
<li><p>Convert this base R code to dplyr:
<code>r     cces$age_group &lt;- ifelse(cces$age &gt;= 65, "Senior", "Non-senior")</code></p></li>
</ol>
</div>
<div id="working-with-missing-values" class="section level3 hasAnchor" number="10.42.6">
<h3><span class="header-section-number">10.42.6</span> Working with Missing Values<a href="references.html#working-with-missing-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="14" style="list-style-type: decimal">
<li><p>If a variable contains some NA values and you multiply it by 100, what happens to the NA values?</p></li>
<li><p>In <code>ifelse()</code>, what happens if the condition (<code>cces$age &gt; 65</code>) is NA?</p></li>
</ol>

</div>
</div>
<div id="learning-objectives-5" class="section level2 hasAnchor" number="10.43">
<h2><span class="header-section-number">10.43</span> Learning Objectives<a href="references.html#learning-objectives-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Understand what the mean is, how to calculate it, and when to use it</li>
<li>Learn about the median as a measure of central tendency and its relationship to percentiles</li>
<li>Discover how the mode captures the most common value in your data</li>
<li>Compare these three measures and understand when each is most appropriate</li>
<li>Practice calculating central tendency measures in R with real political data</li>
</ol>
</div>
<div id="what-is-this-for-4" class="section level2 hasAnchor" number="10.44">
<h2><span class="header-section-number">10.44</span> What Is This For?<a href="references.html#what-is-this-for-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When political scientists analyze data, one of the first questions they ask is: “What’s typical?” Whether we’re studying voter ages, campaign contributions, or democracy scores across countries, we need ways to summarize large amounts of information into single, meaningful numbers.</p>
<p>Imagine you’re a campaign manager trying to understand your district. You have data on thousands of voters’ ages. You can’t look at each individual age, so you need a summary. Should you use the average age? The middle age? The most common age? Each of these measures tells a different story, and choosing the right one can mean the difference between understanding your constituency and missing the mark entirely.</p>
<p>These measures of central tendency – mean, median, and mode – are fundamental tools in data analysis. They help us:</p>
<ul>
<li>Summarize complex datasets with simple numbers</li>
<li>Compare different groups (Are Democratic voters older than Republican voters?)</li>
<li>Detect outliers and data quality issues</li>
<li>Make informed decisions based on what’s “typical”</li>
</ul>
<p>Understanding when to use each measure is crucial. As we’ll see, the presence of billionaire donors can make average campaign contributions misleading, while the median might better represent a typical donor. Let’s explore how these measures work and when to use each one.</p>
</div>
<div id="the-mean-adding-it-all-up" class="section level2 hasAnchor" number="10.45">
<h2><span class="header-section-number">10.45</span> The Mean: Adding It All Up<a href="references.html#the-mean-adding-it-all-up" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="understanding-the-mean" class="section level3 hasAnchor" number="10.45.1">
<h3><span class="header-section-number">10.45.1</span> Understanding the Mean<a href="references.html#understanding-the-mean" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <strong>mean</strong> (often called the average) is calculated by adding up all values and dividing by the number of observations. We denote it with <span class="math inline">\(\bar{x}\)</span> (pronounced “x-bar”).</p>
<p>Mathematically: <span class="math display">\[\bar{x} = \frac{\sum_{i=1}^{n} x_i}{n}\]</span></p>
<p>Where:</p>
<ul>
<li><span class="math inline">\(x_i\)</span> represents each individual observation</li>
<li><span class="math inline">\(n\)</span> is the total number of observations</li>
<li><span class="math inline">\(\sum\)</span> (sigma) means “sum up”</li>
</ul>
</div>
<div id="when-to-use-the-mean" class="section level3 hasAnchor" number="10.45.2">
<h3><span class="header-section-number">10.45.2</span> When to Use the Mean<a href="references.html#when-to-use-the-mean" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The mean works best for:</p>
<ul>
<li><strong>Interval or ratio data</strong> (like age, income, vote percentages)</li>
<li><strong>Symmetric distributions</strong> without extreme outliers</li>
<li>When you need to account for every value in your dataset</li>
</ul>
</div>
<div id="the-means-achilles-heel-outliers" class="section level3 hasAnchor" number="10.45.3">
<h3><span class="header-section-number">10.45.3</span> The Mean’s Achilles’ Heel: Outliers<a href="references.html#the-means-achilles-heel-outliers" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The mean has a critical weakness – it’s heavily influenced by extreme values. Consider this example:</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="references.html#cb246-1" tabindex="-1"></a><span class="co"># Typical campaign contributions</span></span>
<span id="cb246-2"><a href="references.html#cb246-2" tabindex="-1"></a>typical_donors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">50</span>, <span class="dv">70</span>, <span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">99</span>, <span class="dv">150</span>, <span class="dv">200</span>, <span class="dv">250</span>)</span>
<span id="cb246-3"><a href="references.html#cb246-3" tabindex="-1"></a><span class="fu">mean</span>(typical_donors)</span></code></pre></div>
<pre><code>## [1] 116</code></pre>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="references.html#cb248-1" tabindex="-1"></a><span class="co"># Now add one wealthy donor</span></span>
<span id="cb248-2"><a href="references.html#cb248-2" tabindex="-1"></a>with_wealthy <span class="ot">&lt;-</span> <span class="fu">c</span>(typical_donors, <span class="dv">10000</span>)</span>
<span id="cb248-3"><a href="references.html#cb248-3" tabindex="-1"></a><span class="fu">mean</span>(with_wealthy)</span></code></pre></div>
<pre><code>## [1] 1104.4</code></pre>
<p>One $10,000 donation changed our “typical” donation from about $116 to over $1,100! This is why news reports about “average” wealth or income can be misleading.</p>
</div>
<div id="the-trimmed-mean-a-compromise" class="section level3 hasAnchor" number="10.45.4">
<h3><span class="header-section-number">10.45.4</span> The Trimmed Mean: A Compromise<a href="references.html#the-trimmed-mean-a-compromise" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To reduce outlier influence, we can use a <strong>trimmed mean</strong>, which removes a percentage of extreme values:</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="references.html#cb250-1" tabindex="-1"></a><span class="co"># Regular mean</span></span>
<span id="cb250-2"><a href="references.html#cb250-2" tabindex="-1"></a><span class="fu">mean</span>(with_wealthy)</span></code></pre></div>
<pre><code>## [1] 1104.4</code></pre>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="references.html#cb252-1" tabindex="-1"></a><span class="co"># 10% trimmed mean (removes top and bottom 10%)</span></span>
<span id="cb252-2"><a href="references.html#cb252-2" tabindex="-1"></a><span class="fu">mean</span>(with_wealthy, <span class="at">trim =</span> <span class="fl">0.1</span>)</span></code></pre></div>
<pre><code>## [1] 127.375</code></pre>
</div>
</div>
<div id="the-median-finding-the-middle" class="section level2 hasAnchor" number="10.46">
<h2><span class="header-section-number">10.46</span> The Median: Finding the Middle<a href="references.html#the-median-finding-the-middle" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="understanding-the-median" class="section level3 hasAnchor" number="10.46.1">
<h3><span class="header-section-number">10.46.1</span> Understanding the Median<a href="references.html#understanding-the-median" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <strong>median</strong> is the middle value when data is ordered from smallest to largest. Here’s the key insight: the median is actually the 50th percentile of your data.</p>
<p>But what’s a percentile? A <strong>percentile</strong> tells you what percentage of observations fall below a certain value. If you score in the 90th percentile on a test, 90% of students scored the same or lower than you. The median is special because exactly 50% of observations fall above it and 50% fall below it.</p>
<ul>
<li>For odd numbers of observations: the middle value</li>
<li>For even numbers: the average of the two middle values</li>
</ul>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="references.html#cb254-1" tabindex="-1"></a><span class="co"># Odd number of values</span></span>
<span id="cb254-2"><a href="references.html#cb254-2" tabindex="-1"></a>odd_data <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)</span>
<span id="cb254-3"><a href="references.html#cb254-3" tabindex="-1"></a><span class="fu">median</span>(odd_data)  <span class="co"># Middle value is 5</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="references.html#cb256-1" tabindex="-1"></a><span class="co"># Even number of values</span></span>
<span id="cb256-2"><a href="references.html#cb256-2" tabindex="-1"></a>even_data <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">17</span>)</span>
<span id="cb256-3"><a href="references.html#cb256-3" tabindex="-1"></a><span class="fu">median</span>(even_data)  <span class="co"># Average of 5 and 7</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
</div>
<div id="the-median-and-other-percentiles" class="section level3 hasAnchor" number="10.46.2">
<h3><span class="header-section-number">10.46.2</span> The Median and Other Percentiles<a href="references.html#the-median-and-other-percentiles" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Understanding the median as the 50th percentile helps us see it’s part of a larger family of position measures. In R, we can find any percentile using the <code>quantile()</code> function:</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="references.html#cb258-1" tabindex="-1"></a><span class="fu">library</span>(fivethirtyeight)</span>
<span id="cb258-2"><a href="references.html#cb258-2" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;congress_age&quot;</span>)</span>
<span id="cb258-3"><a href="references.html#cb258-3" tabindex="-1"></a></span>
<span id="cb258-4"><a href="references.html#cb258-4" tabindex="-1"></a><span class="co"># The median is the 50th percentile (0.50 quantile)</span></span>
<span id="cb258-5"><a href="references.html#cb258-5" tabindex="-1"></a><span class="fu">median</span>(congress_age<span class="sc">$</span>age)</span></code></pre></div>
<pre><code>## [1] 53</code></pre>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="references.html#cb260-1" tabindex="-1"></a><span class="fu">quantile</span>(congress_age<span class="sc">$</span>age, <span class="at">probs =</span> <span class="fl">0.50</span>)</span></code></pre></div>
<pre><code>## 50% 
##  53</code></pre>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="references.html#cb262-1" tabindex="-1"></a><span class="co"># We can find other percentiles too</span></span>
<span id="cb262-2"><a href="references.html#cb262-2" tabindex="-1"></a><span class="fu">quantile</span>(congress_age<span class="sc">$</span>age, <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.50</span>, <span class="fl">0.75</span>))</span></code></pre></div>
<pre><code>##   25%   50%   75% 
## 45.40 53.00 60.55</code></pre>
<p>This tells us:</p>
<ul>
<li>25% of Congress members are younger than about 45 (25th percentile)</li>
<li>50% are younger than about 53 (median)</li>
<li>75% are younger than about 61 (75th percentile)</li>
</ul>
</div>
<div id="the-interquartile-range-iqr" class="section level3 hasAnchor" number="10.46.3">
<h3><span class="header-section-number">10.46.3</span> The Interquartile Range (IQR)<a href="references.html#the-interquartile-range-iqr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <strong>Interquartile Range</strong> captures the middle 50% of your data:</p>
<p>IQR = 75th percentile - 25th percentile</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="references.html#cb264-1" tabindex="-1"></a><span class="fu">IQR</span>(congress_age<span class="sc">$</span>age)</span></code></pre></div>
<pre><code>## [1] 15.15</code></pre>
<p>The IQR helps us understand spread and identify outliers. Values more than 1.5 × IQR beyond the quartiles are often considered outliers.</p>
</div>
<div id="when-to-use-the-median" class="section level3 hasAnchor" number="10.46.4">
<h3><span class="header-section-number">10.46.4</span> When to Use the Median<a href="references.html#when-to-use-the-median" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The median excels when:</p>
<ul>
<li>Data is <strong>skewed</strong> (has a long tail on one side)</li>
<li>There are <strong>outliers</strong> you can’t remove</li>
<li>You have <strong>ordinal data</strong> (like survey responses: strongly disagree to strongly agree)</li>
<li>You want a value that’s actually in your dataset (for odd n)</li>
</ul>
</div>
<div id="the-medians-robustness" class="section level3 hasAnchor" number="10.46.5">
<h3><span class="header-section-number">10.46.5</span> The Median’s Robustness<a href="references.html#the-medians-robustness" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Unlike the mean, the median doesn’t use exact values – it only cares about their order and finds the middle of that ordering:</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="references.html#cb266-1" tabindex="-1"></a><span class="co"># Original data</span></span>
<span id="cb266-2"><a href="references.html#cb266-2" tabindex="-1"></a>salaries1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">30000</span>, <span class="dv">35000</span>, <span class="dv">40000</span>, <span class="dv">45000</span>, <span class="dv">50000</span>)</span>
<span id="cb266-3"><a href="references.html#cb266-3" tabindex="-1"></a><span class="fu">median</span>(salaries1)</span></code></pre></div>
<pre><code>## [1] 40000</code></pre>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="references.html#cb268-1" tabindex="-1"></a><span class="co"># Replace highest salary with CEO salary</span></span>
<span id="cb268-2"><a href="references.html#cb268-2" tabindex="-1"></a>salaries2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">30000</span>, <span class="dv">35000</span>, <span class="dv">40000</span>, <span class="dv">45000</span>, <span class="dv">5000000</span>)</span>
<span id="cb268-3"><a href="references.html#cb268-3" tabindex="-1"></a><span class="fu">median</span>(salaries2)  <span class="co"># Still the same!</span></span></code></pre></div>
<pre><code>## [1] 40000</code></pre>
</div>
</div>
<div id="the-mode-most-common-value" class="section level2 hasAnchor" number="10.47">
<h2><span class="header-section-number">10.47</span> The Mode: Most Common Value<a href="references.html#the-mode-most-common-value" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="understanding-the-mode" class="section level3 hasAnchor" number="10.47.1">
<h3><span class="header-section-number">10.47.1</span> Understanding the Mode<a href="references.html#understanding-the-mode" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <strong>mode</strong> is simply the most frequently occurring value. Unlike mean and median, it can be used with any type of data, including nominal data. Remember: the mode is the value itself, not how often it appears.</p>
</div>
<div id="finding-the-mode-in-r" class="section level3 hasAnchor" number="10.47.2">
<h3><span class="header-section-number">10.47.2</span> Finding the Mode in R<a href="references.html#finding-the-mode-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R doesn’t have a built-in mode function, but we can find it using frequency tables:</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="references.html#cb270-1" tabindex="-1"></a><span class="co"># Example: Party affiliations</span></span>
<span id="cb270-2"><a href="references.html#cb270-2" tabindex="-1"></a>party_data <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Dem&quot;</span>, <span class="st">&quot;Rep&quot;</span>, <span class="st">&quot;Dem&quot;</span>, <span class="st">&quot;Dem&quot;</span>, <span class="st">&quot;Ind&quot;</span>, <span class="st">&quot;Rep&quot;</span>, <span class="st">&quot;Dem&quot;</span>, <span class="st">&quot;Rep&quot;</span>, <span class="st">&quot;Dem&quot;</span>)</span>
<span id="cb270-3"><a href="references.html#cb270-3" tabindex="-1"></a></span>
<span id="cb270-4"><a href="references.html#cb270-4" tabindex="-1"></a><span class="co"># Create frequency table</span></span>
<span id="cb270-5"><a href="references.html#cb270-5" tabindex="-1"></a>party_table <span class="ot">&lt;-</span> <span class="fu">table</span>(party_data)</span>
<span id="cb270-6"><a href="references.html#cb270-6" tabindex="-1"></a>party_table</span></code></pre></div>
<pre><code>## party_data
## Dem Ind Rep 
##   5   1   3</code></pre>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="references.html#cb272-1" tabindex="-1"></a><span class="co"># Use sort() to order from most to least common</span></span>
<span id="cb272-2"><a href="references.html#cb272-2" tabindex="-1"></a><span class="fu">sort</span>(party_table, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## party_data
## Dem Rep Ind 
##   5   3   1</code></pre>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="references.html#cb274-1" tabindex="-1"></a><span class="co"># The mode is &quot;Dem&quot; with 5 occurrences</span></span></code></pre></div>
</div>
<div id="finding-the-mode-with-numeric-data" class="section level3 hasAnchor" number="10.47.3">
<h3><span class="header-section-number">10.47.3</span> Finding the Mode with Numeric Data<a href="references.html#finding-the-mode-with-numeric-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The same approach works with numbers:</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="references.html#cb275-1" tabindex="-1"></a><span class="co"># Example: Test scores</span></span>
<span id="cb275-2"><a href="references.html#cb275-2" tabindex="-1"></a>test_scores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">85</span>, <span class="dv">90</span>, <span class="dv">85</span>, <span class="dv">75</span>, <span class="dv">85</span>, <span class="dv">90</span>, <span class="dv">95</span>, <span class="dv">90</span>, <span class="dv">85</span>, <span class="dv">80</span>)</span>
<span id="cb275-3"><a href="references.html#cb275-3" tabindex="-1"></a></span>
<span id="cb275-4"><a href="references.html#cb275-4" tabindex="-1"></a><span class="co"># Create frequency table</span></span>
<span id="cb275-5"><a href="references.html#cb275-5" tabindex="-1"></a>score_table <span class="ot">&lt;-</span> <span class="fu">table</span>(test_scores)</span>
<span id="cb275-6"><a href="references.html#cb275-6" tabindex="-1"></a>score_table</span></code></pre></div>
<pre><code>## test_scores
## 75 80 85 90 95 
##  1  1  4  3  1</code></pre>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="references.html#cb277-1" tabindex="-1"></a><span class="co"># Sort to see which score is most common</span></span>
<span id="cb277-2"><a href="references.html#cb277-2" tabindex="-1"></a><span class="fu">sort</span>(score_table, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## test_scores
## 85 90 75 80 95 
##  4  3  1  1  1</code></pre>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="references.html#cb279-1" tabindex="-1"></a><span class="co"># We can see that 85 appears most often (4 times)</span></span></code></pre></div>
<p>Using <code>sort()</code> with <code>decreasing = TRUE</code> puts the most frequent values at the top, making it easy to identify the mode at a glance.</p>
</div>
<div id="bimodal-distributions" class="section level3 hasAnchor" number="10.47.4">
<h3><span class="header-section-number">10.47.4</span> Bimodal Distributions<a href="references.html#bimodal-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When data has two modes (two peaks), it often indicates two distinct groups or polarization. This is especially relevant in political science.</p>
<div class="float">
<img src="Images/2.png" alt="This histogram shows the change in polarization in the public between 1993 and 2014" />
<div class="figcaption">This histogram shows the change in polarization in the public between 1993 and 2014</div>
</div>
<p>You can learn more about this data at <a href="https://www.pewresearch.org/politics/2014/06/12/section-1-growing-ideological-consistency/#interactive">Pew Research.</a></p>
<p>In this visualization, we can see how public opinion has shifted from having one central peak (unimodal) to having two distinct peaks (bimodal) – one on the left and one on the right. This bimodal pattern reveals increasing political polarization, with fewer people in the middle and more people at the ideological extremes.</p>
<p>Bimodal distributions can indicate:</p>
<ul>
<li>Polarization around two extremes</li>
<li>Two distinct subgroups in your data</li>
</ul>
<p>When you see a bimodal distribution, it’s worth investigating what might be causing the two peaks.</p>
</div>
</div>
<div id="comparing-the-three-measures" class="section level2 hasAnchor" number="10.48">
<h2><span class="header-section-number">10.48</span> Comparing the Three Measures<a href="references.html#comparing-the-three-measures" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="how-skew-affects-central-tendency" class="section level3 hasAnchor" number="10.48.1">
<h3><span class="header-section-number">10.48.1</span> How Skew Affects Central Tendency<a href="references.html#how-skew-affects-central-tendency" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The relationship between mean, median, and mode tells us about the shape of our data:</p>
<ul>
<li><strong>Symmetric distribution</strong>: Mean ≈ Median ≈ Mode</li>
<li><strong>Right-skewed</strong> (tail to the right): Mode &lt; Median &lt; Mean</li>
<li><strong>Left-skewed</strong> (tail to the left): Mean &lt; Median &lt; Mode</li>
</ul>
<div class="float">
<img src="Images/Skew.png" alt="This image shows three distributions and how the mean, median, and mode relate in each case" />
<div class="figcaption">This image shows three distributions and how the mean, median, and mode relate in each case</div>
</div>
</div>
<div id="detecting-skew-without-drawing-the-distribution" class="section level3 hasAnchor" number="10.48.2">
<h3><span class="header-section-number">10.48.2</span> Detecting Skew Without Drawing the Distribution<a href="references.html#detecting-skew-without-drawing-the-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can identify skew just by comparing the mean and median:</p>
<ul>
<li>If mean &gt; median: The data is likely right-skewed (positive skew)
<ul>
<li>Example: Income data where most people earn modest amounts but a few earn millions</li>
</ul></li>
<li>If mean &lt; median: The data is likely left-skewed (negative skew)
<ul>
<li>Example: Age at retirement where most retire around 65 but some retire very early</li>
</ul></li>
<li>If mean ≈ median: The data is likely symmetric
<ul>
<li>Example: Heights in a population, test scores on a well-designed exam</li>
</ul></li>
</ul>
<p>The mean gets “pulled” toward the tail of the distribution because it accounts for every value, while the median stays centered on the middle observation. This is why comparing these two measures is such a powerful diagnostic tool – you can understand your data’s shape without even looking at a graph!</p>
</div>
<div id="real-example-congressional-ages" class="section level3 hasAnchor" number="10.48.3">
<h3><span class="header-section-number">10.48.3</span> Real Example: Congressional Ages<a href="references.html#real-example-congressional-ages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s analyze the ages of U.S. Congress members to see how these measures compare:</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb280-1"><a href="references.html#cb280-1" tabindex="-1"></a><span class="co"># Calculate mean and median</span></span>
<span id="cb280-2"><a href="references.html#cb280-2" tabindex="-1"></a><span class="fu">mean</span>(congress_age<span class="sc">$</span>age)</span></code></pre></div>
<pre><code>## [1] 53.31373</code></pre>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb282-1"><a href="references.html#cb282-1" tabindex="-1"></a><span class="fu">median</span>(congress_age<span class="sc">$</span>age)</span></code></pre></div>
<pre><code>## [1] 53</code></pre>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="references.html#cb284-1" tabindex="-1"></a><span class="co"># For mode, we&#39;ll use whole years</span></span>
<span id="cb284-2"><a href="references.html#cb284-2" tabindex="-1"></a>congress_age<span class="sc">$</span>age_years <span class="ot">&lt;-</span> <span class="fu">floor</span>(congress_age<span class="sc">$</span>age)</span>
<span id="cb284-3"><a href="references.html#cb284-3" tabindex="-1"></a>age_table <span class="ot">&lt;-</span> <span class="fu">table</span>(congress_age<span class="sc">$</span>age_years)</span>
<span id="cb284-4"><a href="references.html#cb284-4" tabindex="-1"></a></span>
<span id="cb284-5"><a href="references.html#cb284-5" tabindex="-1"></a><span class="co"># Sort to find the most common age</span></span>
<span id="cb284-6"><a href="references.html#cb284-6" tabindex="-1"></a><span class="fu">sort</span>(age_table, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## 
##  51  54  49  52  56  53  55  47  50  57  48  58  45  46  59  60  43  44  62  61  42  41  64  40 
## 649 649 647 646 646 643 637 626 624 613 612 589 572 558 547 546 533 519 485 480 454 448 436 416 
##  63  39  66  38  65  37  68  67  36  69  70  35  71  34  72  73  32  74  33  75  76  31  77  30 
## 396 361 357 343 327 275 269 249 245 218 202 189 169 160 155 122 115 115 113  86  85  65  62  60 
##  78  79  80  28  81  82  29  83  27  84  85  26  87  86  89  25  88  90  91  92  93  94  95  96 
##  57  39  38  27  27  26  25  14  12  10  10   8   7   5   4   2   2   2   1   1   1   1   1   1 
##  98 
##   1</code></pre>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="references.html#cb286-1" tabindex="-1"></a><span class="co"># Make a simple histogram to see the shape</span></span>
<span id="cb286-2"><a href="references.html#cb286-2" tabindex="-1"></a><span class="fu">hist</span>(congress_age<span class="sc">$</span>age, <span class="at">main =</span> <span class="st">&quot;Distribution of Congressional Ages&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Age&quot;</span>)</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-111-1.png" width="672" /></p>
<p>The mean (around 53.3) and median (around 53.0) are very close, which tells us the age distribution is fairly symmetric. Looking at our sorted table, we can see that ages 51 and 54 are the most common (the modes).</p>
</div>
<div id="using-summary-for-a-quick-overview" class="section level3 hasAnchor" number="10.48.4">
<h3><span class="header-section-number">10.48.4</span> Using summary() for a Quick Overview<a href="references.html#using-summary-for-a-quick-overview" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R’s <code>summary()</code> function provides key statistics including several percentiles:</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="references.html#cb287-1" tabindex="-1"></a><span class="fu">summary</span>(congress_age<span class="sc">$</span>age)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   25.00   45.40   53.00   53.31   60.55   98.10</code></pre>
<p>This shows:</p>
<ul>
<li>Min and Max (0th and 100th percentiles)</li>
<li>1st Quartile (25th percentile)</li>
<li>Median (50th percentile)</li>
<li>3rd Quartile (75th percentile)</li>
<li>Mean</li>
</ul>
</div>
</div>
<div id="practical-guidelines-1" class="section level2 hasAnchor" number="10.49">
<h2><span class="header-section-number">10.49</span> Practical Guidelines<a href="references.html#practical-guidelines-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="choosing-the-right-measure" class="section level3 hasAnchor" number="10.49.1">
<h3><span class="header-section-number">10.49.1</span> Choosing the Right Measure<a href="references.html#choosing-the-right-measure" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><strong>Use the mean when:</strong>
<ul>
<li>Data is roughly symmetric</li>
<li>You need to account for total values (e.g., total budget divided by recipients)</li>
<li>Working with interval/ratio data without outliers</li>
</ul></li>
<li><strong>Use the median when:</strong>
<ul>
<li>Data is skewed</li>
<li>There are outliers you can’t remove</li>
<li>You want a “typical” value that isn’t affected by extremes</li>
<li>Working with ordinal data</li>
</ul></li>
<li><strong>Use the mode when:</strong>
<ul>
<li>Working with categorical data</li>
<li>You need the most common category</li>
<li>Looking for peaks in continuous data</li>
</ul></li>
</ol>
</div>
<div id="reporting-best-practices" class="section level3 hasAnchor" number="10.49.2">
<h3><span class="header-section-number">10.49.2</span> Reporting Best Practices<a href="references.html#reporting-best-practices" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Always consider reporting multiple measures:</p>
<ul>
<li>For income data: Report both median (typical) and mean (affected by high earners)</li>
<li>For nominal data: Report mode and its frequency</li>
<li>For any data: Consider showing the distribution graphically (we’ll cover this more next week)</li>
</ul>
</div>
</div>
<div id="things-to-look-out-for" class="section level2 hasAnchor" number="10.50">
<h2><span class="header-section-number">10.50</span> Things to Look Out For<a href="references.html#things-to-look-out-for" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="data-entry-errors-can-change-everything" class="section level3 hasAnchor" number="10.50.1">
<h3><span class="header-section-number">10.50.1</span> Data Entry Errors Can Change Everything<a href="references.html#data-entry-errors-can-change-everything" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The mean is particularly vulnerable to data entry mistakes. <a href="https://www.dailymail.co.uk/sciencetech/article-2354580/Popeyes-legendary-love-spinach-actually-misplaced-decimal-point.html">Consider the famous case of spinach</a>: for decades, people believed spinach had 10 times more iron than it actually does. Why? A misplaced decimal point in the 1870s turned 3.5 mg of iron per 100g into 35 mg. This single data entry error influenced nutritional recommendations for generations, even inspiring the creation of Popeye!</p>
<p>In your own work, watch for:</p>
<ul>
<li>Numbers that seem too large or small (is that salary really $50,000,000 or should it be $50,000?)</li>
<li>Decimal point errors (3.5 becoming 35 or 0.35)</li>
<li>Extra zeros (100 becoming 1000)</li>
</ul>
</div>
<div id="when-excel-errors-shape-government-policy" class="section level3 hasAnchor" number="10.50.2">
<h3><span class="header-section-number">10.50.2</span> When Excel Errors Shape Government Policy<a href="references.html#when-excel-errors-shape-government-policy" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In 2013, <a href="https://www.bbc.com/news/magazine-22223190">economists discovered a major error</a> in an influential study about government debt. The researchers had accidentally excluded several countries from their Excel calculation of average GDP growth. This wasn’t just an academic mistake – governments around the world had used this study to justify austerity policies during the financial crisis.</p>
<p>The lesson? Even professional researchers make errors, and these errors matter.</p>
<p>When calculating means in R:</p>
<ul>
<li>Always check your data first with <code>head()</code> and <code>summary()</code></li>
<li>Look for values that don’t make sense</li>
<li>Document your code so others can verify your work</li>
</ul>
</div>
<div id="special-values-in-older-datasets" class="section level3 hasAnchor" number="10.50.3">
<h3><span class="header-section-number">10.50.3</span> Special Values in Older Datasets<a href="references.html#special-values-in-older-datasets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Many datasets use special numbers to indicate missing data:</p>
<ul>
<li>-99 or 999 for missing values</li>
<li>0 for “not applicable”</li>
<li>-88 for “refused to answer”</li>
</ul>
<p>For example, the Polity democracy scores typically range from -10 to +10. But they use -88 for periods of government transition. If you don’t remove these special values before calculating the mean, your results will be meaningless:</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="references.html#cb289-1" tabindex="-1"></a><span class="co"># Example: Democracy scores with special values</span></span>
<span id="cb289-2"><a href="references.html#cb289-2" tabindex="-1"></a>democracy_scores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="sc">-</span><span class="dv">88</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="sc">-</span><span class="dv">88</span>, <span class="dv">8</span>)</span>
<span id="cb289-3"><a href="references.html#cb289-3" tabindex="-1"></a></span>
<span id="cb289-4"><a href="references.html#cb289-4" tabindex="-1"></a><span class="co"># Wrong: Including the -88 values</span></span>
<span id="cb289-5"><a href="references.html#cb289-5" tabindex="-1"></a><span class="fu">mean</span>(democracy_scores)</span></code></pre></div>
<pre><code>## [1] -16.375</code></pre>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="references.html#cb291-1" tabindex="-1"></a><span class="co"># Right: Remove special values first</span></span>
<span id="cb291-2"><a href="references.html#cb291-2" tabindex="-1"></a>real_scores <span class="ot">&lt;-</span> democracy_scores[democracy_scores <span class="sc">!=</span> <span class="sc">-</span><span class="dv">88</span>]</span>
<span id="cb291-3"><a href="references.html#cb291-3" tabindex="-1"></a><span class="fu">mean</span>(real_scores)</span></code></pre></div>
<pre><code>## [1] 7.5</code></pre>
</div>
<div id="the-takeaway" class="section level3 hasAnchor" number="10.50.4">
<h3><span class="header-section-number">10.50.4</span> The Takeaway<a href="references.html#the-takeaway" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Before calculating any measure of central tendency:</p>
<ol style="list-style-type: decimal">
<li><strong>Look at your data</strong> – Use <code>summary()</code> to spot unusual values</li>
<li><strong>Check the documentation</strong> – Does the dataset use special codes?</li>
<li><strong>Question extreme values</strong> – Is that billionaire real or a data error?</li>
<li><strong>Keep your original data</strong> – Never overwrite it, so you can always go back</li>
</ol>
<p>Remember: Good data analysis isn’t just about knowing the formulas – it’s about being a detective who questions whether the numbers make sense.</p>
</div>
</div>
<div id="study-questions-for-central-tendency" class="section level2 hasAnchor" number="10.51">
<h2><span class="header-section-number">10.51</span> Study Questions for Central Tendency<a href="references.html#study-questions-for-central-tendency" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="understanding-the-concepts" class="section level3 hasAnchor" number="10.51.1">
<h3><span class="header-section-number">10.51.1</span> Understanding the Concepts<a href="references.html#understanding-the-concepts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>What is the mean, and what symbol do we use to represent it? What does the formula <span class="math inline">\(\bar{x} = \frac{\sum_{i=1}^{n} x_i}{n}\)</span> tell us in plain English?</p></li>
<li><p>Explain why the mean of a binary (0/1) variable gives us the proportion of 1s in the data.</p></li>
<li><p>What is the median? How do you find it when you have an even number of observations?</p></li>
<li><p>What does it mean to say the median is the “50th percentile”?</p></li>
<li><p>Define the mode. Can you have more than one mode in a dataset?</p></li>
</ol>
</div>
<div id="understanding-position" class="section level3 hasAnchor" number="10.51.2">
<h3><span class="header-section-number">10.51.2</span> Understanding Position<a href="references.html#understanding-position" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="6" style="list-style-type: decimal">
<li><p>What is a percentile? If someone scores in the 75th percentile, what does that mean?</p></li>
<li><p>What is the Interquartile Range (IQR)? How do you calculate it?</p></li>
<li><p>Using the 1.5 × IQR rule, when is a value considered an outlier?</p></li>
</ol>
</div>
<div id="comparing-measures" class="section level3 hasAnchor" number="10.51.3">
<h3><span class="header-section-number">10.51.3</span> Comparing Measures<a href="references.html#comparing-measures" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="9" style="list-style-type: decimal">
<li><p>In a perfectly symmetric distribution, what is the relationship between the mean, median, and mode?</p></li>
<li><p>If a distribution is right-skewed (long tail to the right), how do the mean and median compare? Why?</p></li>
<li><p>Why is the median considered more “robust” than the mean? Give an example.</p></li>
<li><p>When would the mode be the only appropriate measure of central tendency?</p></li>
<li><p>What is a trimmed mean? When would you use it instead of a regular mean?</p></li>
</ol>
</div>
<div id="practical-applications-1" class="section level3 hasAnchor" number="10.51.4">
<h3><span class="header-section-number">10.51.4</span> Practical Applications<a href="references.html#practical-applications-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="14" style="list-style-type: decimal">
<li><p>A news report says the “average American household income is $106,000.” Another report says the “typical American household income is $71,000.” Which measure is each report likely using, and why might they differ?</p></li>
<li><p>A dataset of city populations includes New York (8 million), Los Angeles (4 million), and several cities around 100,000. Which measure of central tendency best represents a “typical” city? Why?</p></li>
</ol>
</div>
<div id="working-with-r" class="section level3 hasAnchor" number="10.51.5">
<h3><span class="header-section-number">10.51.5</span> Working with R<a href="references.html#working-with-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="16" style="list-style-type: decimal">
<li><p>What does <code>na.rm = TRUE</code> do in functions like <code>mean()</code> and <code>median()</code>?</p></li>
<li><p>How can you find the mode using R?</p></li>
<li><p>What’s the difference between <code>median()</code> and <code>quantile(x, probs = 0.50)</code>?</p></li>
<li><p>If you calculate <code>mean(c(1, 2, 3, NA))</code> without any additional arguments, what will R return? Why?</p></li>
</ol>
</div>
<div id="interpretation" class="section level3 hasAnchor" number="10.51.6">
<h3><span class="header-section-number">10.51.6</span> Interpretation<a href="references.html#interpretation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="20" style="list-style-type: decimal">
<li><p>Congressional ages have a mean of 53.3 and median of 53.0. What does this tell you about the age distribution?</p></li>
<li><p>What is a bimodal distribution? What might it indicate in political data?</p></li>
<li><p>If a dataset has mean = 85 and median = 65, what can you conclude about its skew?</p></li>
</ol>
</div>
<div id="critical-thinking" class="section level3 hasAnchor" number="10.51.7">
<h3><span class="header-section-number">10.51.7</span> Critical Thinking<a href="references.html#critical-thinking" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="23" style="list-style-type: decimal">
<li><p>A politician claims their policies benefit the “average American.” Why should you ask whether they mean the mean or median American?</p></li>
<li><p>Why might the Popeye-spinach story be a cautionary tale about the mean?</p></li>
<li><p>Calculate BY HAND the mean, median, and mode of this dataset (show your work):
Data: 7, 9, 7, 3, 7, 5, 9, 10, 5
Then verify your answers using R.</p></li>
</ol>

</div>
</div>
<div id="learning-objectives-6" class="section level2 hasAnchor" number="10.52">
<h2><span class="header-section-number">10.52</span> Learning Objectives<a href="references.html#learning-objectives-6" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Understand why measures of dispersion are essential for data analysis</li>
<li>Calculate and interpret the <strong>range</strong> and <strong>interquartile range (IQR)</strong></li>
<li>Understand the concept of <strong>deviation</strong> from the mean</li>
<li>Calculate and interpret <strong>variance</strong> and <strong>standard deviation</strong></li>
<li>Apply the <strong>Empirical Rule</strong> to normally distributed data</li>
<li>Use R to calculate all measures of dispersion</li>
</ol>
</div>
<div id="what-is-this-for-5" class="section level2 hasAnchor" number="10.53">
<h2><span class="header-section-number">10.53</span> What Is This For?<a href="references.html#what-is-this-for-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Imagine two classes where students have the same average grade of 75%. In Class A, everyone scored between 73% and 77%. In Class B, scores ranged from 45% to 95%. While both classes have the same mean, they tell very different stories about student performance. This is why we need measures of <strong>dispersion</strong> (also called spread or variability).</p>
<p>Measures of central tendency (mean, median, mode) tell us about the “typical” value in our data. But they don’t tell us how well that typical value represents the entire dataset. Measures of dispersion answer questions like:</p>
<ul>
<li>How spread out are the data points?</li>
<li>How representative is the mean?</li>
<li>Are there extreme values we should worry about?</li>
<li>How much variation should we expect?</li>
</ul>
<p>Understanding dispersion is crucial for:</p>
<ul>
<li><strong>Risk assessment</strong>: Higher dispersion often means higher uncertainty</li>
<li><strong>Quality control</strong>: Consistent products have low dispersion</li>
<li><strong>Statistical inference</strong>: Many statistical tests assume certain levels of dispersion</li>
<li><strong>Data description</strong>: Dispersion helps paint a complete picture of your data</li>
</ul>
</div>
<div id="simple-measures-of-spread" class="section level2 hasAnchor" number="10.54">
<h2><span class="header-section-number">10.54</span> Simple Measures of Spread<a href="references.html#simple-measures-of-spread" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="range" class="section level3 hasAnchor" number="10.54.1">
<h3><span class="header-section-number">10.54.1</span> Range<a href="references.html#range" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <strong>range</strong> is the simplest measure of dispersion:</p>
<p><strong>Range = Maximum value - Minimum value</strong></p>
<p>While easy to calculate, the range has significant limitations:</p>
<ul>
<li>It only uses two data points (ignoring everything in between)</li>
<li>It’s extremely sensitive to outliers</li>
<li>It tells us nothing about how data is distributed within that range</li>
</ul>
<p>For example, these two datasets have the same range (10):</p>
<ul>
<li>Dataset A: 0, 5, 5, 5, 5, 10</li>
<li>Dataset B: 0, 1, 2, 8, 9, 10</li>
</ul>
<p>But Dataset B is clearly more spread out than Dataset A.</p>
</div>
<div id="interquartile-range-iqr" class="section level3 hasAnchor" number="10.54.2">
<h3><span class="header-section-number">10.54.2</span> Interquartile Range (IQR)<a href="references.html#interquartile-range-iqr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <strong>interquartile range</strong> is more robust because it focuses on the middle 50% of the data:</p>
<p><strong>IQR = Q3 (75th percentile) - Q1 (25th percentile)</strong></p>
<p>The IQR has several advantages:</p>
<ul>
<li>Not affected by extreme outliers</li>
<li>Gives a sense of the “typical” spread</li>
<li>Used to identify outliers (values beyond Q1 - 1.5×IQR or Q3 + 1.5×IQR)</li>
</ul>
</div>
</div>
<div id="understanding-deviations" class="section level2 hasAnchor" number="10.55">
<h2><span class="header-section-number">10.55</span> Understanding Deviations<a href="references.html#understanding-deviations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To truly measure spread, we need to consider how far each data point is from the center. A <strong>deviation</strong> is the distance between an individual observation and the mean:</p>
<p><span class="math display">\[\text{Deviation} = \bar{x}-x_i\]</span></p>
<p>Where:</p>
<ul>
<li><span class="math inline">\(x_i\)</span> is an individual observation</li>
<li><span class="math inline">\(\bar{x}\)</span> is the mean</li>
</ul>
<p>However, if we simply average all deviations, we get zero (positive and negative deviations cancel out). This leads us to more sophisticated measures.</p>
</div>
<div id="variance-the-foundation-of-statistical-spread" class="section level2 hasAnchor" number="10.56">
<h2><span class="header-section-number">10.56</span> Variance: The Foundation of Statistical Spread<a href="references.html#variance-the-foundation-of-statistical-spread" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Variance</strong> solves the cancellation problem by squaring each deviation before averaging:</p>
<p><span class="math display">\[s^2 = \frac{\sum_{i=1}^{n} (x_i - \bar{x})^2}{n-1}\]</span></p>
<p>Breaking this down:
1. Calculate each deviation: (xᵢ - x̄)
2. Square each deviation: (xᵢ - x̄)²
3. Sum all squared deviations
4. Divide by (n-1)</p>
<p><strong>Why divide by (n-1)?</strong> This is called Bessel’s correction. When we use the sample mean (x̄) instead of the true population mean, we slightly underestimate the true variance. Dividing by (n-1) corrects this bias.</p>
<div id="understanding-variance-units" class="section level3 hasAnchor" number="10.56.1">
<h3><span class="header-section-number">10.56.1</span> Understanding Variance Units<a href="references.html#understanding-variance-units" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Variance has squared units, which can be confusing:</p>
<ul>
<li>If measuring height in inches, variance is in inches²</li>
<li>If measuring temperature in °C, variance is in (°C)²</li>
<li>If measuring test scores in points, variance is in points²</li>
</ul>
<p>These squared units make variance difficult to interpret directly, which leads us to…</p>
</div>
</div>
<div id="standard-deviation-variance-made-practical" class="section level2 hasAnchor" number="10.57">
<h2><span class="header-section-number">10.57</span> Standard Deviation: Variance Made Practical<a href="references.html#standard-deviation-variance-made-practical" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <strong>standard deviation</strong> is simply the square root of variance:</p>
<p><span class="math display">\[s = \sqrt{s^2} = \sqrt{\frac{\sum_{i=1}^{n} (x_i - \bar{x})^2}{n-1}}\]</span></p>
<p>Standard deviation brings us back to the original units, making it much more interpretable. It represents the “typical” distance from the mean.</p>
<div id="interpreting-standard-deviation" class="section level3 hasAnchor" number="10.57.1">
<h3><span class="header-section-number">10.57.1</span> Interpreting Standard Deviation<a href="references.html#interpreting-standard-deviation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><strong>Small standard deviation</strong>: Data points cluster closely around the mean</li>
<li><strong>Large standard deviation</strong>: Data points are spread far from the mean</li>
</ul>
<p>But what counts as “small” or “large”? Context matters:</p>
<ul>
<li>Human height (sd ≈ 3 inches): relatively consistent</li>
<li>Stock prices (sd can be 20%+ of mean): highly variable</li>
<li>Manufacturing tolerances (sd &lt; 0.001 inches): extremely precise</li>
</ul>
</div>
<div id="standard-deviation-and-outliers" class="section level3 hasAnchor" number="10.57.2">
<h3><span class="header-section-number">10.57.2</span> Standard Deviation and Outliers<a href="references.html#standard-deviation-and-outliers" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Both variance and standard deviation are <strong>heavily influenced by outliers</strong> because:</p>
<ol style="list-style-type: decimal">
<li>Outliers create large deviations</li>
<li>Squaring magnifies large values</li>
<li>These inflated values dominate the sum</li>
</ol>
<p>This sensitivity can be a feature (detecting unusual variation) or a bug (overstating typical spread).</p>
</div>
</div>
<div id="the-empirical-rule-68-95-99.7-rule" class="section level2 hasAnchor" number="10.58">
<h2><span class="header-section-number">10.58</span> The Empirical Rule (68-95-99.7 Rule)<a href="references.html#the-empirical-rule-68-95-99.7-rule" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For approximately <strong>normal (bell-shaped) distributions</strong>, the Empirical Rule provides powerful insights:</p>
<ul>
<li>About <strong>68%</strong> of data falls within 1 standard deviation of the mean (x̄ ± 1s)</li>
<li>About <strong>95%</strong> of data falls within 2 standard deviations (x̄ ± 2s)</li>
<li>About <strong>99.7%</strong> of data falls within 3 standard deviations (x̄ ± 3s)</li>
</ul>
<div id="when-to-use-the-empirical-rule" class="section level3 hasAnchor" number="10.58.1">
<h3><span class="header-section-number">10.58.1</span> When to Use the Empirical Rule<a href="references.html#when-to-use-the-empirical-rule" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Use it when:</strong></p>
<ul>
<li>Your histogram looks roughly bell-shaped</li>
<li>Data is symmetric around the mean</li>
<li>You need quick estimates of data spread</li>
</ul>
<p><strong>Don’t use it when:</strong></p>
<ul>
<li>Data is clearly skewed</li>
<li>There are multiple peaks</li>
<li>Data has hard boundaries (like percentages that can’t exceed 100%)</li>
</ul>
</div>
<div id="video-understanding-the-empirical-rule" class="section level3 hasAnchor" number="10.58.2">
<h3><span class="header-section-number">10.58.2</span> Video: Understanding the Empirical Rule<a href="references.html#video-understanding-the-empirical-rule" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For a visual explanation of measures of dispersion and the Empirical Rule, <a href="https://www.youtube.com/embed/E4HAYd0QnRc">watch this video</a>.</p>
</div>
</div>
<div id="calculating-dispersion-in-r" class="section level2 hasAnchor" number="10.59">
<h2><span class="header-section-number">10.59</span> Calculating Dispersion in R<a href="references.html#calculating-dispersion-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s practice with real political science data. We’ll use the 2020 American National Election Study (ANES) data, focusing on how Americans rated Joe Biden on a 0-100 “feeling thermometer” scale.</p>
<p>First, load the data:</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="references.html#cb293-1" tabindex="-1"></a><span class="co"># Load data from my computer, since the data is in the same folder</span></span>
<span id="cb293-2"><a href="references.html#cb293-2" tabindex="-1"></a>anes2020 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;anes2020.csv&quot;</span>)</span>
<span id="cb293-3"><a href="references.html#cb293-3" tabindex="-1"></a></span>
<span id="cb293-4"><a href="references.html#cb293-4" tabindex="-1"></a><span class="co"># Examine structure</span></span>
<span id="cb293-5"><a href="references.html#cb293-5" tabindex="-1"></a><span class="fu">str</span>(anes2020)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    8280 obs. of  12 variables:
##  $ rid     : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ age     : int  46 37 40 41 72 71 37 45 70 43 ...
##  $ race    : int  3 4 1 4 5 1 1 1 1 3 ...
##  $ latino  : int  1 2 2 2 2 2 2 2 2 1 ...
##  $ vote12  : int  1 1 1 1 1 1 1 2 1 2 ...
##  $ vote16  : int  1 1 1 1 1 2 1 2 NA NA ...
##  $ media   : int  2 3 1 3 2 2 3 4 3 2 ...
##  $ partyid : int  2 5 3 2 3 3 2 2 3 1 ...
##  $ income  : int  21 13 17 7 22 3 4 3 10 11 ...
##  $ obama.th: int  0 50 90 85 10 60 15 50 60 100 ...
##  $ trump.th: int  100 0 0 15 85 0 75 100 0 0 ...
##  $ biden.th: int  0 0 65 70 15 85 50 50 85 85 ...</code></pre>
<div id="calculating-basic-measures" class="section level3 hasAnchor" number="10.59.1">
<h3><span class="header-section-number">10.59.1</span> Calculating Basic Measures<a href="references.html#calculating-basic-measures" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="references.html#cb295-1" tabindex="-1"></a><span class="co"># Summary statistics including range and quartiles</span></span>
<span id="cb295-2"><a href="references.html#cb295-2" tabindex="-1"></a><span class="fu">summary</span>(anes2020<span class="sc">$</span>biden.th)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s 
##    0.00   15.00   55.00   49.24   85.00  100.00     220</code></pre>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="references.html#cb297-1" tabindex="-1"></a><span class="co"># Range (manual calculation)</span></span>
<span id="cb297-2"><a href="references.html#cb297-2" tabindex="-1"></a>range_biden <span class="ot">&lt;-</span> <span class="fu">max</span>(anes2020<span class="sc">$</span>biden.th, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">-</span> </span>
<span id="cb297-3"><a href="references.html#cb297-3" tabindex="-1"></a>               <span class="fu">min</span>(anes2020<span class="sc">$</span>biden.th, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb297-4"><a href="references.html#cb297-4" tabindex="-1"></a>range_biden <span class="co">#print it out</span></span></code></pre></div>
<pre><code>## [1] 100</code></pre>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="references.html#cb299-1" tabindex="-1"></a><span class="co"># Interquartile range</span></span>
<span id="cb299-2"><a href="references.html#cb299-2" tabindex="-1"></a>iqr_biden<span class="ot">&lt;-</span><span class="fu">IQR</span>(anes2020<span class="sc">$</span>biden.th, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb299-3"><a href="references.html#cb299-3" tabindex="-1"></a>iqr_biden <span class="co"># print it out</span></span></code></pre></div>
<pre><code>## [1] 70</code></pre>
</div>
<div id="variance-and-standard-deviation" class="section level3 hasAnchor" number="10.59.2">
<h3><span class="header-section-number">10.59.2</span> Variance and Standard Deviation<a href="references.html#variance-and-standard-deviation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now we can calculate the variance.</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="references.html#cb301-1" tabindex="-1"></a><span class="co"># Variance</span></span>
<span id="cb301-2"><a href="references.html#cb301-2" tabindex="-1"></a>var_biden <span class="ot">&lt;-</span> <span class="fu">var</span>(anes2020<span class="sc">$</span>biden.th, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb301-3"><a href="references.html#cb301-3" tabindex="-1"></a>var_biden</span></code></pre></div>
<pre><code>## [1] 1190.024</code></pre>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="references.html#cb303-1" tabindex="-1"></a><span class="co"># Standard deviation</span></span>
<span id="cb303-2"><a href="references.html#cb303-2" tabindex="-1"></a>sd_biden <span class="ot">&lt;-</span> <span class="fu">sd</span>(anes2020<span class="sc">$</span>biden.th, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb303-3"><a href="references.html#cb303-3" tabindex="-1"></a>sd_biden</span></code></pre></div>
<pre><code>## [1] 34.49672</code></pre>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="references.html#cb305-1" tabindex="-1"></a><span class="co"># Verify: sd is square root of variance</span></span>
<span id="cb305-2"><a href="references.html#cb305-2" tabindex="-1"></a><span class="fu">sqrt</span>(var_biden)</span></code></pre></div>
<pre><code>## [1] 34.49672</code></pre>
</div>
<div id="comparing-measures-of-spread" class="section level3 hasAnchor" number="10.59.3">
<h3><span class="header-section-number">10.59.3</span> Comparing Measures of Spread<a href="references.html#comparing-measures-of-spread" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Different measures tell different stories. Here we are using the <code>cat()</code> function to combine the text and the numbers together. Note that the <code>"\n"</code> syntax is used to indicate a “return” or a line break.</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="references.html#cb307-1" tabindex="-1"></a><span class="co"># Create a comparison</span></span>
<span id="cb307-2"><a href="references.html#cb307-2" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Range:&quot;</span>, range_biden, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Range: 100</code></pre>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="references.html#cb309-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;IQR:&quot;</span>, iqr_biden, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## IQR: 70</code></pre>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="references.html#cb311-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Standard Deviation:&quot;</span>, sd_biden, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Standard Deviation: 34.49672</code></pre>
</div>
</div>
<div id="which-measure-should-you-use" class="section level2 hasAnchor" number="10.60">
<h2><span class="header-section-number">10.60</span> Which Measure Should You Use?<a href="references.html#which-measure-should-you-use" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Choose your measure of dispersion based on your data and goals:</p>
<div id="use-range-when" class="section level3 hasAnchor" number="10.60.1">
<h3><span class="header-section-number">10.60.1</span> Use Range when:<a href="references.html#use-range-when" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>You need a quick, rough estimate</li>
<li>Describing the full extent of data</li>
<li>The minimum and maximum have special meaning</li>
</ul>
</div>
<div id="use-iqr-when" class="section level3 hasAnchor" number="10.60.2">
<h3><span class="header-section-number">10.60.2</span> Use IQR when:<a href="references.html#use-iqr-when" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Your data has outliers</li>
<li>You’re using median as your measure of center</li>
<li>You want a robust measure unaffected by extremes</li>
</ul>
</div>
<div id="use-standard-deviation-when" class="section level3 hasAnchor" number="10.60.3">
<h3><span class="header-section-number">10.60.3</span> Use Standard Deviation when:<a href="references.html#use-standard-deviation-when" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Your data is roughly normal</li>
<li>You’re using mean as your measure of center</li>
<li>You need to make statistical inferences</li>
<li>You want to apply the Empirical Rule</li>
</ul>
</div>
</div>
<div id="common-pitfalls" class="section level2 hasAnchor" number="10.61">
<h2><span class="header-section-number">10.61</span> Common Pitfalls<a href="references.html#common-pitfalls" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="forgetting-na.rm-true" class="section level3 hasAnchor" number="10.61.1">
<h3><span class="header-section-number">10.61.1</span> 1. Forgetting na.rm = TRUE<a href="references.html#forgetting-na.rm-true" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="references.html#cb313-1" tabindex="-1"></a><span class="co"># This will return NA if any values are missing</span></span>
<span id="cb313-2"><a href="references.html#cb313-2" tabindex="-1"></a><span class="fu">sd</span>(anes2020<span class="sc">$</span>biden.th)  <span class="co"># Returns NA</span></span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="references.html#cb315-1" tabindex="-1"></a><span class="co"># This removes NA values before calculating</span></span>
<span id="cb315-2"><a href="references.html#cb315-2" tabindex="-1"></a><span class="fu">sd</span>(anes2020<span class="sc">$</span>biden.th, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)  <span class="co"># Returns the standard deviation</span></span></code></pre></div>
<pre><code>## [1] 34.49672</code></pre>
</div>
<div id="misinterpreting-large-standard-deviations" class="section level3 hasAnchor" number="10.61.2">
<h3><span class="header-section-number">10.61.2</span> 2. Misinterpreting Large Standard Deviations<a href="references.html#misinterpreting-large-standard-deviations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A “large” standard deviation depends on context. Always compare it to:</p>
<ul>
<li>The mean (coefficient of variation = sd/mean)</li>
<li>The possible range of values</li>
<li>Domain knowledge about typical variation</li>
</ul>
</div>
<div id="using-standard-deviation-with-skewed-data" class="section level3 hasAnchor" number="10.61.3">
<h3><span class="header-section-number">10.61.3</span> 3. Using Standard Deviation with Skewed Data<a href="references.html#using-standard-deviation-with-skewed-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The Empirical Rule assumes normality. With skewed data:</p>
<ul>
<li>More or fewer observations may fall within ±1 sd</li>
<li>Consider using IQR instead</li>
<li>Transform data or use different methods (covered much later)</li>
</ul>
</div>
</div>
<div id="summary-3" class="section level2 hasAnchor" number="10.62">
<h2><span class="header-section-number">10.62</span> Summary<a href="references.html#summary-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Measures of dispersion complete our statistical picture:</p>
<ul>
<li><strong>Central tendency</strong> tells us the typical value</li>
<li><strong>Dispersion</strong> tells us how typical that typical value is</li>
</ul>
<p>Key concepts to remember:</p>
<ul>
<li><strong>Range</strong> and <strong>IQR</strong> are simple but limited</li>
<li><strong>Variance</strong> measures average squared deviation</li>
<li><strong>Standard deviation</strong> is the square root of variance (back to original units)</li>
<li>The <strong>Empirical Rule</strong> applies only to normal distributions</li>
<li>Different measures suit different situations</li>
</ul>
<p>Together with measures of central tendency, these tools allow you to summarize any dataset effectively and identify when simple summaries might be misleading.</p>
</div>
<div id="study-questions-2" class="section level2 hasAnchor" number="10.63">
<h2><span class="header-section-number">10.63</span> Study Questions<a href="references.html#study-questions-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="conceptual-understanding" class="section level3 hasAnchor" number="10.63.1">
<h3><span class="header-section-number">10.63.1</span> Conceptual Understanding<a href="references.html#conceptual-understanding" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>Why do we need measures of dispersion in addition to measures of central tendency?</p></li>
<li><p>Explain why the range might be misleading as a measure of spread. Give an example.</p></li>
<li><p>What is a deviation? Why can’t we just average all deviations to measure spread?</p></li>
<li><p>Why do we square deviations when calculating variance?</p></li>
<li><p>What’s the relationship between variance and standard deviation?</p></li>
<li><p>Explain why we divide by (n-1) rather than n when calculating sample variance.</p></li>
</ol>
</div>
<div id="interpretation-1" class="section level3 hasAnchor" number="10.63.2">
<h3><span class="header-section-number">10.63.2</span> Interpretation<a href="references.html#interpretation-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="7" style="list-style-type: decimal">
<li><p>If a dataset is bell shaped and has a mean of 50 and a standard deviation of 10, what does this tell you about the data?</p></li>
<li><p>Dataset A has a standard deviation of 5, and Dataset B has a standard deviation of 15. Which dataset has more consistent values? How do you know?</p></li>
<li><p>When would the IQR be a better measure of spread than the standard deviation?</p></li>
<li><p>What conditions must be met to apply the Empirical Rule? Give an example of when you shouldn’t use it.</p></li>
</ol>
</div>
<div id="calculation-practice" class="section level3 hasAnchor" number="10.63.3">
<h3><span class="header-section-number">10.63.3</span> Calculation Practice<a href="references.html#calculation-practice" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="11" style="list-style-type: decimal">
<li><p>Given the values: 2, 4, 6, 8, 10</p>
<ul>
<li>Calculate the range</li>
<li>Calculate the variance (show your work)</li>
<li>Calculate the standard deviation</li>
</ul></li>
<li><p>If a normally distributed dataset has a mean of 100 and standard deviation of 15:</p>
<ul>
<li>What range of values contains about 68% of the data?</li>
<li>What range contains about 95% of the data?</li>
<li>Would a value of 140 be considered unusual? Why?</li>
</ul></li>
</ol>
</div>
<div id="r-programming" class="section level3 hasAnchor" number="10.63.4">
<h3><span class="header-section-number">10.63.4</span> R Programming<a href="references.html#r-programming" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="13" style="list-style-type: decimal">
<li><p>What’s wrong with this code, and how would you fix it?</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="references.html#cb317-1" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="cn">NA</span>, <span class="dv">5</span>)</span>
<span id="cb317-2"><a href="references.html#cb317-2" tabindex="-1"></a><span class="fu">sd</span>(data)</span></code></pre></div></li>
<li><p>How would you calculate the coefficient of variation (sd/mean) for a variable in R?</p></li>
<li><p>Write R code to determine what percentage of observations in a dataset fall within 2 standard deviations of the mean.</p></li>
</ol>
</div>
<div id="critical-thinking-1" class="section level3 hasAnchor" number="10.63.5">
<h3><span class="header-section-number">10.63.5</span> Critical Thinking<a href="references.html#critical-thinking-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="16" style="list-style-type: decimal">
<li><p>A company reports that the average salary is $75,000 with a standard deviation of $50,000. What does this large standard deviation suggest about the salary distribution?</p></li>
<li><p>How would outliers affect the range, IQR, and standard deviation differently? Which is most robust to outliers?</p></li>
</ol>

<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="references.html#cb318-1" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
</div>
<div id="learning-objectives-7" class="section level2 hasAnchor" number="10.64">
<h2><span class="header-section-number">10.64</span> Learning Objectives<a href="references.html#learning-objectives-7" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Learn how to use <code>summarise()</code> to calculate descriptive statistics</li>
<li>Master calculating means, medians, standard deviations, and variances</li>
<li>Learn how to calculate multiple statistics at once</li>
<li>Understand how to use <code>group_by()</code> to calculate statistics by groups</li>
<li>Practice combining <code>group_by()</code> and <code>summarise()</code> for comparative analysis</li>
</ol>
</div>
<div id="getting-started-with-the-data" class="section level2 hasAnchor" number="10.65">
<h2><span class="header-section-number">10.65</span> Getting Started with the Data<a href="references.html#getting-started-with-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Today we’ll work with the <code>Anscombe</code> dataset, which provides information about education expenditure for each US state in 1970. It contains four variables:</p>
<ul>
<li><code>education</code>: per capita education expenditure (in dollars)</li>
<li><code>income</code>: per capita income (in dollars)</li>
<li><code>young</code>: proportion under 18 years old (per 1000 residents)</li>
<li><code>urban</code>: proportion living in urban areas (per 1000 residents)</li>
</ul>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="references.html#cb319-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb319-2"><a href="references.html#cb319-2" tabindex="-1"></a><span class="fu">library</span>(car) <span class="co"># for the Anscombe dataset</span></span>
<span id="cb319-3"><a href="references.html#cb319-3" tabindex="-1"></a></span>
<span id="cb319-4"><a href="references.html#cb319-4" tabindex="-1"></a>school_spend <span class="ot">&lt;-</span> Anscombe</span></code></pre></div>
</div>
<div id="basic-statistics-with-summarise" class="section level2 hasAnchor" number="10.66">
<h2><span class="header-section-number">10.66</span> Basic Statistics with summarise()<a href="references.html#basic-statistics-with-summarise" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>summarise()</code> function (also spelled <code>summarize()</code>) is a powerful tool for calculating statistics. It creates a new data frame containing the summary statistics you request.</p>
<div id="calculating-a-single-statistic" class="section level3 hasAnchor" number="10.66.1">
<h3><span class="header-section-number">10.66.1</span> Calculating a Single Statistic<a href="references.html#calculating-a-single-statistic" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s start by calculating the mean income across all states:</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="references.html#cb320-1" tabindex="-1"></a>school_spend <span class="sc">%&gt;%</span> </span>
<span id="cb320-2"><a href="references.html#cb320-2" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_income =</span> <span class="fu">mean</span>(income))</span></code></pre></div>
<pre><code>##   mean_income
## 1    3225.294</code></pre>
<p>Notice that:</p>
<ul>
<li>We use the pipe operator <code>%&gt;%</code> to pass the data to <code>summarise()</code></li>
<li>Inside <code>summarise()</code>, we create a new variable name (<code>mean_income</code>)</li>
<li>We specify what to calculate using <code>mean(income)</code></li>
</ul>
</div>
<div id="multiple-statistics-for-one-variable" class="section level3 hasAnchor" number="10.66.2">
<h3><span class="header-section-number">10.66.2</span> Multiple Statistics for One Variable<a href="references.html#multiple-statistics-for-one-variable" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can calculate several statistics for the same variable:</p>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="references.html#cb322-1" tabindex="-1"></a>school_spend <span class="sc">%&gt;%</span> </span>
<span id="cb322-2"><a href="references.html#cb322-2" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb322-3"><a href="references.html#cb322-3" tabindex="-1"></a>    <span class="at">mean_education =</span> <span class="fu">mean</span>(education),</span>
<span id="cb322-4"><a href="references.html#cb322-4" tabindex="-1"></a>    <span class="at">median_education =</span> <span class="fu">median</span>(education),</span>
<span id="cb322-5"><a href="references.html#cb322-5" tabindex="-1"></a>    <span class="at">sd_education =</span> <span class="fu">sd</span>(education),</span>
<span id="cb322-6"><a href="references.html#cb322-6" tabindex="-1"></a>    <span class="at">var_education =</span> <span class="fu">var</span>(education)</span>
<span id="cb322-7"><a href="references.html#cb322-7" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>##   mean_education median_education sd_education var_education
## 1       196.3137              192     46.45449       2158.02</code></pre>
</div>
<div id="multiple-variables-multiple-statistics" class="section level3 hasAnchor" number="10.66.3">
<h3><span class="header-section-number">10.66.3</span> Multiple Variables, Multiple Statistics<a href="references.html#multiple-variables-multiple-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can also calculate statistics for different variables in one command:</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="references.html#cb324-1" tabindex="-1"></a>school_spend <span class="sc">%&gt;%</span> </span>
<span id="cb324-2"><a href="references.html#cb324-2" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb324-3"><a href="references.html#cb324-3" tabindex="-1"></a>    <span class="at">mean_income =</span> <span class="fu">mean</span>(income),</span>
<span id="cb324-4"><a href="references.html#cb324-4" tabindex="-1"></a>    <span class="at">mean_education =</span> <span class="fu">mean</span>(education),</span>
<span id="cb324-5"><a href="references.html#cb324-5" tabindex="-1"></a>    <span class="at">median_urban =</span> <span class="fu">median</span>(urban),</span>
<span id="cb324-6"><a href="references.html#cb324-6" tabindex="-1"></a>    <span class="at">sd_young =</span> <span class="fu">sd</span>(young)</span>
<span id="cb324-7"><a href="references.html#cb324-7" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>##   mean_income mean_education median_urban sd_young
## 1    3225.294       196.3137          664 23.95998</code></pre>
</div>
</div>
<div id="common-statistical-functions" class="section level2 hasAnchor" number="10.67">
<h2><span class="header-section-number">10.67</span> Common Statistical Functions<a href="references.html#common-statistical-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here are the most common functions you’ll use with <code>summarise()</code>:</p>
<ul>
<li><code>mean()</code>: average value</li>
<li><code>median()</code>: middle value</li>
<li><code>sd()</code>: standard deviation</li>
<li><code>var()</code>: variance</li>
<li><code>min()</code>: minimum value</li>
<li><code>max()</code>: maximum value</li>
<li><code>n()</code>: count of observations</li>
</ul>
<div id="example-complete-summary" class="section level3 hasAnchor" number="10.67.1">
<h3><span class="header-section-number">10.67.1</span> Example: Complete Summary<a href="references.html#example-complete-summary" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb326-1"><a href="references.html#cb326-1" tabindex="-1"></a>school_spend <span class="sc">%&gt;%</span> </span>
<span id="cb326-2"><a href="references.html#cb326-2" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb326-3"><a href="references.html#cb326-3" tabindex="-1"></a>    <span class="at">n_states =</span> <span class="fu">n</span>(),</span>
<span id="cb326-4"><a href="references.html#cb326-4" tabindex="-1"></a>    <span class="at">min_education =</span> <span class="fu">min</span>(education),</span>
<span id="cb326-5"><a href="references.html#cb326-5" tabindex="-1"></a>    <span class="at">max_education =</span> <span class="fu">max</span>(education),</span>
<span id="cb326-6"><a href="references.html#cb326-6" tabindex="-1"></a>    <span class="at">mean_education =</span> <span class="fu">mean</span>(education),</span>
<span id="cb326-7"><a href="references.html#cb326-7" tabindex="-1"></a>    <span class="at">median_education =</span> <span class="fu">median</span>(education),</span>
<span id="cb326-8"><a href="references.html#cb326-8" tabindex="-1"></a>    <span class="at">sd_education =</span> <span class="fu">sd</span>(education)</span>
<span id="cb326-9"><a href="references.html#cb326-9" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>##   n_states min_education max_education mean_education median_education sd_education
## 1       51           112           372       196.3137              192     46.45449</code></pre>
</div>
</div>
<div id="group-wise-statistics-with-group_by" class="section level2 hasAnchor" number="10.68">
<h2><span class="header-section-number">10.68</span> Group-wise Statistics with group_by()<a href="references.html#group-wise-statistics-with-group_by" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The real power comes when we combine <code>summarise()</code> with <code>group_by()</code>. This allows us to calculate statistics separately for different groups in our data.</p>
<div id="creating-groups-for-analysis" class="section level3 hasAnchor" number="10.68.1">
<h3><span class="header-section-number">10.68.1</span> Creating Groups for Analysis<a href="references.html#creating-groups-for-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, let’s create a categorical variable that groups states by their education spending level:</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="references.html#cb328-1" tabindex="-1"></a>school_spend <span class="ot">&lt;-</span> school_spend <span class="sc">%&gt;%</span> </span>
<span id="cb328-2"><a href="references.html#cb328-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb328-3"><a href="references.html#cb328-3" tabindex="-1"></a>    <span class="at">education_level =</span> <span class="fu">case_when</span>(</span>
<span id="cb328-4"><a href="references.html#cb328-4" tabindex="-1"></a>      education <span class="sc">&lt;</span> <span class="dv">150</span> <span class="sc">~</span> <span class="st">&quot;Low&quot;</span>,</span>
<span id="cb328-5"><a href="references.html#cb328-5" tabindex="-1"></a>      education <span class="sc">&gt;=</span> <span class="dv">150</span> <span class="sc">&amp;</span> education <span class="sc">&lt;</span> <span class="dv">200</span> <span class="sc">~</span> <span class="st">&quot;Medium&quot;</span>,</span>
<span id="cb328-6"><a href="references.html#cb328-6" tabindex="-1"></a>      education <span class="sc">&gt;=</span> <span class="dv">200</span> <span class="sc">~</span> <span class="st">&quot;High&quot;</span></span>
<span id="cb328-7"><a href="references.html#cb328-7" tabindex="-1"></a>    )</span>
<span id="cb328-8"><a href="references.html#cb328-8" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="calculating-statistics-by-group" class="section level3 hasAnchor" number="10.68.2">
<h3><span class="header-section-number">10.68.2</span> Calculating Statistics by Group<a href="references.html#calculating-statistics-by-group" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now we can calculate statistics for each spending level:</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="references.html#cb329-1" tabindex="-1"></a>school_spend <span class="sc">%&gt;%</span> </span>
<span id="cb329-2"><a href="references.html#cb329-2" tabindex="-1"></a>  <span class="fu">group_by</span>(education_level) <span class="sc">%&gt;%</span> <span class="co"># This is where we specify the group -- note the %&gt;% </span></span>
<span id="cb329-3"><a href="references.html#cb329-3" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb329-4"><a href="references.html#cb329-4" tabindex="-1"></a>    <span class="at">n_states =</span> <span class="fu">n</span>(),</span>
<span id="cb329-5"><a href="references.html#cb329-5" tabindex="-1"></a>    <span class="at">mean_income =</span> <span class="fu">mean</span>(income),</span>
<span id="cb329-6"><a href="references.html#cb329-6" tabindex="-1"></a>    <span class="at">median_income =</span> <span class="fu">median</span>(income)</span>
<span id="cb329-7"><a href="references.html#cb329-7" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 3 × 4
##   education_level n_states mean_income median_income
##   &lt;chr&gt;              &lt;int&gt;       &lt;dbl&gt;         &lt;dbl&gt;
## 1 High                  22       3518.          3466
## 2 Low                    9       2548.          2470
## 3 Medium                20       3208.          3224</code></pre>
<p>Notice how:</p>
<ul>
<li><code>group_by()</code> comes before <code>summarise()</code></li>
<li>The output has one row for each group</li>
<li><code>n()</code> tells us how many states are in each group</li>
</ul>
</div>
<div id="multiple-grouping-variables" class="section level3 hasAnchor" number="10.68.3">
<h3><span class="header-section-number">10.68.3</span> Multiple Grouping Variables<a href="references.html#multiple-grouping-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can also create groups based on multiple variables. Let’s categorize states by both education spending and urbanization:</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="references.html#cb331-1" tabindex="-1"></a>school_spend <span class="ot">&lt;-</span> school_spend <span class="sc">%&gt;%</span> </span>
<span id="cb331-2"><a href="references.html#cb331-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb331-3"><a href="references.html#cb331-3" tabindex="-1"></a>    <span class="at">urban_level =</span> <span class="fu">case_when</span>(</span>
<span id="cb331-4"><a href="references.html#cb331-4" tabindex="-1"></a>      urban <span class="sc">&lt;</span> <span class="dv">500</span> <span class="sc">~</span> <span class="st">&quot;Rural&quot;</span>,</span>
<span id="cb331-5"><a href="references.html#cb331-5" tabindex="-1"></a>      urban <span class="sc">&gt;=</span> <span class="dv">500</span> <span class="sc">&amp;</span> urban <span class="sc">&lt;</span> <span class="dv">700</span> <span class="sc">~</span> <span class="st">&quot;Mixed&quot;</span>,</span>
<span id="cb331-6"><a href="references.html#cb331-6" tabindex="-1"></a>      urban <span class="sc">&gt;=</span> <span class="dv">700</span> <span class="sc">~</span> <span class="st">&quot;Urban&quot;</span></span>
<span id="cb331-7"><a href="references.html#cb331-7" tabindex="-1"></a>    )</span>
<span id="cb331-8"><a href="references.html#cb331-8" tabindex="-1"></a>  )</span>
<span id="cb331-9"><a href="references.html#cb331-9" tabindex="-1"></a></span>
<span id="cb331-10"><a href="references.html#cb331-10" tabindex="-1"></a>school_spend <span class="sc">%&gt;%</span> </span>
<span id="cb331-11"><a href="references.html#cb331-11" tabindex="-1"></a>  <span class="fu">group_by</span>(education_level, urban_level) <span class="sc">%&gt;%</span> </span>
<span id="cb331-12"><a href="references.html#cb331-12" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb331-13"><a href="references.html#cb331-13" tabindex="-1"></a>    <span class="at">n_states =</span> <span class="fu">n</span>(),</span>
<span id="cb331-14"><a href="references.html#cb331-14" tabindex="-1"></a>    <span class="at">mean_income =</span> <span class="fu">mean</span>(income),</span>
<span id="cb331-15"><a href="references.html#cb331-15" tabindex="-1"></a>    <span class="at">sd_income =</span> <span class="fu">sd</span>(income)</span>
<span id="cb331-16"><a href="references.html#cb331-16" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;education_level&#39;. You can override using the `.groups`
## argument.</code></pre>
<pre><code>## # A tibble: 8 × 5
## # Groups:   education_level [3]
##   education_level urban_level n_states mean_income sd_income
##   &lt;chr&gt;           &lt;chr&gt;          &lt;int&gt;       &lt;dbl&gt;     &lt;dbl&gt;
## 1 High            Mixed              7       3153.      264.
## 2 High            Rural              2       3609       759.
## 3 High            Urban             13       3700.      441.
## 4 Low             Mixed              6       2667       349.
## 5 Low             Rural              3       2310.      204.
## 6 Medium          Mixed              8       2994.      306.
## 7 Medium          Rural              3       2757.      108.
## 8 Medium          Urban              9       3550.      403.</code></pre>
</div>
</div>
<div id="practical-examples" class="section level2 hasAnchor" number="10.69">
<h2><span class="header-section-number">10.69</span> Practical Examples<a href="references.html#practical-examples" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="example-1-comparing-young-population-by-education-spending" class="section level3 hasAnchor" number="10.69.1">
<h3><span class="header-section-number">10.69.1</span> Example 1: Comparing Young Population by Education Spending<a href="references.html#example-1-comparing-young-population-by-education-spending" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Do states that spend more on education have different age demographics?</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="references.html#cb334-1" tabindex="-1"></a>school_spend <span class="sc">%&gt;%</span> </span>
<span id="cb334-2"><a href="references.html#cb334-2" tabindex="-1"></a>  <span class="fu">group_by</span>(education_level) <span class="sc">%&gt;%</span> </span>
<span id="cb334-3"><a href="references.html#cb334-3" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb334-4"><a href="references.html#cb334-4" tabindex="-1"></a>    <span class="at">n_states =</span> <span class="fu">n</span>(),</span>
<span id="cb334-5"><a href="references.html#cb334-5" tabindex="-1"></a>    <span class="at">mean_young =</span> <span class="fu">mean</span>(young),</span>
<span id="cb334-6"><a href="references.html#cb334-6" tabindex="-1"></a>    <span class="at">sd_young =</span> <span class="fu">sd</span>(young)</span>
<span id="cb334-7"><a href="references.html#cb334-7" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 3 × 4
##   education_level n_states mean_young sd_young
##   &lt;chr&gt;              &lt;int&gt;      &lt;dbl&gt;    &lt;dbl&gt;
## 1 High                  22       366.     30.2
## 2 Low                    9       353.     19.2
## 3 Medium                20       354.     15.6</code></pre>
</div>
<div id="example-2-income-statistics-by-urbanization" class="section level3 hasAnchor" number="10.69.2">
<h3><span class="header-section-number">10.69.2</span> Example 2: Income Statistics by Urbanization<a href="references.html#example-2-income-statistics-by-urbanization" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>How does income vary with urbanization level?</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="references.html#cb336-1" tabindex="-1"></a>school_spend <span class="sc">%&gt;%</span> </span>
<span id="cb336-2"><a href="references.html#cb336-2" tabindex="-1"></a>  <span class="fu">group_by</span>(urban_level) <span class="sc">%&gt;%</span> </span>
<span id="cb336-3"><a href="references.html#cb336-3" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb336-4"><a href="references.html#cb336-4" tabindex="-1"></a>    <span class="at">n_states =</span> <span class="fu">n</span>(),</span>
<span id="cb336-5"><a href="references.html#cb336-5" tabindex="-1"></a>    <span class="at">mean_income =</span> <span class="fu">mean</span>(income),</span>
<span id="cb336-6"><a href="references.html#cb336-6" tabindex="-1"></a>    <span class="at">median_income =</span> <span class="fu">median</span>(income),</span>
<span id="cb336-7"><a href="references.html#cb336-7" tabindex="-1"></a>    <span class="at">sd_income =</span> <span class="fu">sd</span>(income)</span>
<span id="cb336-8"><a href="references.html#cb336-8" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 3 × 5
##   urban_level n_states mean_income median_income sd_income
##   &lt;chr&gt;          &lt;int&gt;       &lt;dbl&gt;         &lt;dbl&gt;     &lt;dbl&gt;
## 1 Mixed             21       2953.         2942       351.
## 2 Rural              8       2802.         2697       623.
## 3 Urban             22       3639.         3682.      423.</code></pre>
<p>Look at the output? Do high spending states or low spending states have more young people?</p>
</div>
<div id="example-3-complete-summary-table" class="section level3 hasAnchor" number="10.69.3">
<h3><span class="header-section-number">10.69.3</span> Example 3: Complete Summary Table<a href="references.html#example-3-complete-summary-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s create a comprehensive summary combining multiple groupings:</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="references.html#cb338-1" tabindex="-1"></a>school_spend <span class="sc">%&gt;%</span> </span>
<span id="cb338-2"><a href="references.html#cb338-2" tabindex="-1"></a>  <span class="fu">group_by</span>(education_level, urban_level) <span class="sc">%&gt;%</span> </span>
<span id="cb338-3"><a href="references.html#cb338-3" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb338-4"><a href="references.html#cb338-4" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb338-5"><a href="references.html#cb338-5" tabindex="-1"></a>    <span class="at">avg_income =</span> <span class="fu">mean</span>(income),</span>
<span id="cb338-6"><a href="references.html#cb338-6" tabindex="-1"></a>    <span class="at">avg_urban =</span> <span class="fu">mean</span>(urban),</span>
<span id="cb338-7"><a href="references.html#cb338-7" tabindex="-1"></a>    <span class="at">avg_young =</span> <span class="fu">mean</span>(young),</span>
<span id="cb338-8"><a href="references.html#cb338-8" tabindex="-1"></a>    <span class="at">income_variation =</span> <span class="fu">sd</span>(income)</span>
<span id="cb338-9"><a href="references.html#cb338-9" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb338-10"><a href="references.html#cb338-10" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(avg_income))</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;education_level&#39;. You can override using the `.groups`
## argument.</code></pre>
<pre><code>## # A tibble: 8 × 7
## # Groups:   education_level [3]
##   education_level urban_level     n avg_income avg_urban avg_young income_variation
##   &lt;chr&gt;           &lt;chr&gt;       &lt;int&gt;      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;            &lt;dbl&gt;
## 1 High            Urban          13      3700.      812.      362.             441.
## 2 High            Rural           2      3609       403       394.             759.
## 3 Medium          Urban           9      3550.      796.      345.             403.
## 4 High            Mixed           7      3153.      629       366.             264.
## 5 Medium          Mixed           8      2994.      602.      360.             306.
## 6 Medium          Rural           3      2757.      446.      364.             108.
## 7 Low             Mixed           6      2667       582.      348.             349.
## 8 Low             Rural           3      2310.      437       364.             204.</code></pre>
<p>Look at the output? urban or rural areas have higher incomes?</p>
</div>
</div>
<div id="important-notes" class="section level2 hasAnchor" number="10.70">
<h2><span class="header-section-number">10.70</span> Important Notes<a href="references.html#important-notes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="saving-your-results" class="section level3 hasAnchor" number="10.70.1">
<h3><span class="header-section-number">10.70.1</span> Saving Your Results<a href="references.html#saving-your-results" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Remember that <code>summarise()</code> creates a new data frame. If you want to use these results later, you need to save them:</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="references.html#cb341-1" tabindex="-1"></a>income_by_education <span class="ot">&lt;-</span> school_spend <span class="sc">%&gt;%</span> </span>
<span id="cb341-2"><a href="references.html#cb341-2" tabindex="-1"></a>  <span class="fu">group_by</span>(education_level) <span class="sc">%&gt;%</span> </span>
<span id="cb341-3"><a href="references.html#cb341-3" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb341-4"><a href="references.html#cb341-4" tabindex="-1"></a>    <span class="at">mean_income =</span> <span class="fu">mean</span>(income),</span>
<span id="cb341-5"><a href="references.html#cb341-5" tabindex="-1"></a>    <span class="at">sd_income =</span> <span class="fu">sd</span>(income)</span>
<span id="cb341-6"><a href="references.html#cb341-6" tabindex="-1"></a>  )</span>
<span id="cb341-7"><a href="references.html#cb341-7" tabindex="-1"></a></span>
<span id="cb341-8"><a href="references.html#cb341-8" tabindex="-1"></a><span class="co"># Now we can use income_by_education later</span></span>
<span id="cb341-9"><a href="references.html#cb341-9" tabindex="-1"></a><span class="fu">print</span>(income_by_education)</span></code></pre></div>
<pre><code>## # A tibble: 3 × 3
##   education_level mean_income sd_income
##   &lt;chr&gt;                 &lt;dbl&gt;     &lt;dbl&gt;
## 1 High                  3518.      474.
## 2 Low                   2548.      344.
## 3 Medium                3208.      459.</code></pre>
</div>
<div id="handling-missing-values-2" class="section level3 hasAnchor" number="10.70.2">
<h3><span class="header-section-number">10.70.2</span> Handling Missing Values<a href="references.html#handling-missing-values-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If your data has missing values (NA), you’ll need to add <code>na.rm = TRUE</code> to your statistical functions:</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="references.html#cb343-1" tabindex="-1"></a><span class="co"># Example with simulated missing data</span></span>
<span id="cb343-2"><a href="references.html#cb343-2" tabindex="-1"></a>school_spend_with_na <span class="ot">&lt;-</span> school_spend</span>
<span id="cb343-3"><a href="references.html#cb343-3" tabindex="-1"></a>school_spend_with_na<span class="sc">$</span>income[<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb343-4"><a href="references.html#cb343-4" tabindex="-1"></a></span>
<span id="cb343-5"><a href="references.html#cb343-5" tabindex="-1"></a>school_spend_with_na <span class="sc">%&gt;%</span> </span>
<span id="cb343-6"><a href="references.html#cb343-6" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb343-7"><a href="references.html#cb343-7" tabindex="-1"></a>    <span class="at">mean_income_wrong =</span> <span class="fu">mean</span>(income),  <span class="co"># This returns NA</span></span>
<span id="cb343-8"><a href="references.html#cb343-8" tabindex="-1"></a>    <span class="at">mean_income_correct =</span> <span class="fu">mean</span>(income, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)  <span class="co"># This calculates correctly</span></span>
<span id="cb343-9"><a href="references.html#cb343-9" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>##   mean_income_wrong mean_income_correct
## 1                NA             3218.82</code></pre>
</div>
</div>
<div id="study-questions-for-using-summarise-and-group_by" class="section level2 hasAnchor" number="10.71">
<h2><span class="header-section-number">10.71</span> Study Questions for Using summarise() and group_by()<a href="references.html#study-questions-for-using-summarise-and-group_by" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="understanding-summarise" class="section level3 hasAnchor" number="10.71.1">
<h3><span class="header-section-number">10.71.1</span> Understanding summarise()<a href="references.html#understanding-summarise" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>What does the <code>summarise()</code> function do to a data frame? Specifically, how does it transform your data from many rows to fewer rows?</p></li>
<li><p>If you have a data frame with 51 rows (one for each state) and you use <code>summarise()</code> without <code>group_by()</code>, how many rows will the output have? Why?</p></li>
<li><p>Inside <code>summarise()</code>, you write something like <code>mean_income = mean(income)</code>. What does the part before the <code>=</code> do? What does the part after the <code>=</code> do?</p></li>
<li><p>What will happen if you run this code: <code>school_spend %&gt;% summarise(mean(income))</code>? How could you modify it to give the output a meaningful column name?</p></li>
</ol>
</div>
<div id="statistical-functions-in-summarise" class="section level3 hasAnchor" number="10.71.2">
<h3><span class="header-section-number">10.71.2</span> Statistical Functions in summarise()<a href="references.html#statistical-functions-in-summarise" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="5" style="list-style-type: decimal">
<li><p>List at least 5 statistical functions you can use inside <code>summarise()</code> and what each calculates.</p></li>
<li><p>What does the <code>n()</code> function do inside <code>summarise()</code>? Why is it useful?</p></li>
<li><p>Write a single <code>summarise()</code> statement that calculates: (a) the minimum education spending, (b) the maximum education spending, and (c) the difference between max and min (the range).</p></li>
</ol>
</div>
<div id="multiple-statistics-and-variables" class="section level3 hasAnchor" number="10.71.3">
<h3><span class="header-section-number">10.71.3</span> Multiple Statistics and Variables<a href="references.html#multiple-statistics-and-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="8" style="list-style-type: decimal">
<li><p>Can you calculate statistics for multiple variables in one <code>summarise()</code> call? Give an example.</p></li>
<li><p>Can you calculate multiple statistics for the same variable in one <code>summarise()</code> call? Give an example.</p></li>
</ol>
</div>
<div id="understanding-group_by" class="section level3 hasAnchor" number="10.71.4">
<h3><span class="header-section-number">10.71.4</span> Understanding group_by()<a href="references.html#understanding-group_by" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="10" style="list-style-type: decimal">
<li><p>When you use <code>group_by()</code> before <code>summarise()</code>, what does it tell R to do? Does it change the original data or just change how <code>summarise()</code> behaves?</p></li>
<li><p>In the pipeline <code>data %&gt;% group_by(variable) %&gt;% summarise(...)</code>, which function comes first and why does the order matter?</p></li>
<li><p>You have 51 states in your data. If you use <code>group_by(education_level)</code> where education_level has categories “Low” (15 states), “Medium” (25 states), and “High” (11 states), then use <code>summarise()</code>, how many rows will your final output have?</p></li>
</ol>
</div>
<div id="practical-applications-2" class="section level3 hasAnchor" number="10.71.5">
<h3><span class="header-section-number">10.71.5</span> Practical Applications<a href="references.html#practical-applications-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="15" style="list-style-type: decimal">
<li>What’s wrong with this code and how would you fix it?
<code>school_spend %&gt;%        summarise(mean_income = mean(income)) %&gt;%       group_by(education_level)</code></li>
</ol>
</div>
<div id="multiple-grouping-variables-1" class="section level3 hasAnchor" number="10.71.6">
<h3><span class="header-section-number">10.71.6</span> Multiple Grouping Variables<a href="references.html#multiple-grouping-variables-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="16" style="list-style-type: decimal">
<li><p>Can you use more than one variable in <code>group_by()</code>? What happens to your output when you do?</p></li>
<li><p>If you group by <code>education_level</code> (3 categories) and <code>urban_level</code> (3 categories), what’s the maximum number of rows your summary could have? Will it always have that many?</p></li>
</ol>
</div>
<div id="saving-and-using-results" class="section level3 hasAnchor" number="10.71.7">
<h3><span class="header-section-number">10.71.7</span> Saving and Using Results<a href="references.html#saving-and-using-results" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="22" style="list-style-type: decimal">
<li>What type of object does <code>summarise()</code> return - a vector, a data frame, or something else?</li>
</ol>
</div>
<div id="conceptual-understanding-1" class="section level3 hasAnchor" number="10.71.8">
<h3><span class="header-section-number">10.71.8</span> Conceptual Understanding<a href="references.html#conceptual-understanding-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="23" style="list-style-type: decimal">
<li><p>Explain in your own words what this code does:</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="references.html#cb345-1" tabindex="-1"></a>school_spend <span class="sc">%&gt;%</span></span>
<span id="cb345-2"><a href="references.html#cb345-2" tabindex="-1"></a>  <span class="fu">group_by</span>(urban_level) <span class="sc">%&gt;%</span></span>
<span id="cb345-3"><a href="references.html#cb345-3" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb345-4"><a href="references.html#cb345-4" tabindex="-1"></a>    <span class="at">states =</span> <span class="fu">n</span>(),</span>
<span id="cb345-5"><a href="references.html#cb345-5" tabindex="-1"></a>    <span class="at">avg_education =</span> <span class="fu">mean</span>(education),</span>
<span id="cb345-6"><a href="references.html#cb345-6" tabindex="-1"></a>    <span class="at">education_spread =</span> <span class="fu">sd</span>(education)</span>
<span id="cb345-7"><a href="references.html#cb345-7" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 3 × 4
##   urban_level states avg_education education_spread
##   &lt;chr&gt;        &lt;int&gt;         &lt;dbl&gt;            &lt;dbl&gt;
## 1 Mixed           21          184.             42.9
## 2 Rural            8          194.             78.4
## 3 Urban           22          209.             31.8</code></pre></li>
<li><p>What’s the difference between using <code>summary(school_spend$income)</code> and using <code>school_spend %&gt;% summarise(mean_income = mean(income))</code>? When would you use each?</p></li>
</ol>

</div>
</div>
<div id="learning-objectives-8" class="section level2 hasAnchor" number="10.72">
<h2><span class="header-section-number">10.72</span> Learning Objectives<a href="references.html#learning-objectives-8" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Understand and apply fundamental principles of effective data visualization</li>
<li>Create and customize bar plots for categorical data using <code>ggplot2</code></li>
<li>Construct histograms and density plots for continuous variables</li>
<li>Use visual elements (color, shape, text) strategically to highlight key patterns</li>
<li>Build visualizations layer by layer using the grammar of graphics</li>
</ol>
</div>
<div id="what-is-this-for-6" class="section level2 hasAnchor" number="10.73">
<h2><span class="header-section-number">10.73</span> What Is This For?<a href="references.html#what-is-this-for-6" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Data visualization transforms numbers into pictures that tell stories. A well-crafted visualization can reveal patterns invisible in tables of numbers, communicate complex findings to diverse audiences, and help us make better decisions. Poor visualizations, however, can mislead, confuse, or simply waste everyone’s time.</p>
<p>In this session, we’ll focus on visualizing single variables - the foundation of exploratory data analysis. Whether you’re examining voter demographics, survey responses, or policy outcomes, you need to understand your variables individually before exploring relationships between them. Think of it as getting to know each character in your data’s story before watching them interact.</p>
<p>We’ll use <code>ggplot2</code>, R’s premier visualization package, which implements the “grammar of graphics” - a systematic approach to building visualizations layer by layer. This approach might feel different from clicking buttons in Excel, but it gives you precise control and reproducibility. Once you understand the grammar, you can create any visualization you can imagine.</p>
</div>
<div id="principles-of-effective-data-visualization" class="section level2 hasAnchor" number="10.74">
<h2><span class="header-section-number">10.74</span> Principles of Effective Data Visualization<a href="references.html#principles-of-effective-data-visualization" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Before we dive into making graphs, let’s understand how people actually look at and process visual information. This knowledge will guide every design decision we make.</p>
<div id="how-people-read-graphics" class="section level3 hasAnchor" number="10.74.1">
<h3><span class="header-section-number">10.74.1</span> How People Read Graphics<a href="references.html#how-people-read-graphics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Research on eye tracking shows that when viewers look at a figure, their eyes follow a predictable pattern. The following image illustrates typical eye movements:</p>
<div class="float">
<img src="Images/order_eyes.jpg" alt="Order of eye movement when viewing a figure" />
<div class="figcaption">Order of eye movement when viewing a figure</div>
</div>
<p>Understanding this helps us design more effective visualizations:</p>
<ol style="list-style-type: decimal">
<li><strong>Color</strong> - Bright or contrasting colors draw attention first. This is why we should use color strategically, not decoratively.</li>
<li><strong>Shape</strong> - Unusual or prominent shapes catch the eye second. Large bars, outliers, or unique patterns stand out.</li>
<li><strong>Pattern</strong> - Repeated elements or breaks in pattern come next. Our brains are wired to notice when something doesn’t fit.</li>
<li><strong>Text</strong> - Titles, labels, and annotations are read last, but they’re crucial for understanding.</li>
</ol>
<p>Use these elements strategically. If you want viewers to compare two groups, use contrasting colors. If one category is most important, make it visually prominent while others fade to gray.</p>
<p>Here’s an example of using color effectively to highlight a comparison:</p>
<div class="float">
<img src="Images/color_good.jpg" alt="Good use of colors to highlight key comparison" />
<div class="figcaption">Good use of colors to highlight key comparison</div>
</div>
<p>Notice how the strategic use of color draws your eye to the specific comparison the author wants you to make. The other elements fade into the background.</p>
<p>Compare this to a less effective use of color:</p>
<div class="float">
<img src="Images/bad_color.jpg" alt="Poor use of colors that creates confusion" />
<div class="figcaption">Poor use of colors that creates confusion</div>
</div>
<p>In this figure, the color for “B team” is also used for the axes and labels, creating visual confusion. The fix is simple - keep non-data elements (axes, labels) in neutral colors like black or gray.</p>
</div>
<div id="three-core-principles" class="section level3 hasAnchor" number="10.74.2">
<h3><span class="header-section-number">10.74.2</span> Three Core Principles<a href="references.html#three-core-principles" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>1. Declutter</strong></p>
<p>Remove unnecessary elements that don’t contribute to understanding. Every line, label, and pixel should have a purpose. Common clutter includes:</p>
<ul>
<li>Grid lines that are too prominent</li>
<li>Redundant labels (if your title says “2020 Presidential Election Results”, you don’t need “2020” on every bar)</li>
<li>Decorative elements that don’t encode information</li>
<li>Default software outputs that you haven’t consciously chosen</li>
</ul>
<p><strong>2. Emphasize</strong></p>
<p>Guide viewers to your main point through visual hierarchy:</p>
<ul>
<li>Use color intensity to highlight key categories (bright red for the important group, light gray for context)</li>
<li>Make important comparisons visually obvious (place them next to each other)</li>
<li>Use size to show importance (bigger = more important)</li>
<li>Position crucial information prominently (top left for Western readers)</li>
</ul>
<p><strong>3. Clarify</strong></p>
<p>Ensure your message is unmistakable:</p>
<ul>
<li>Write descriptive titles that state the main finding, not just describe the data
<ul>
<li>Bad: “Revenue by Quarter”</li>
<li>Good: “Revenue Increased 45% in Q4 After Marketing Campaign”</li>
</ul></li>
<li>Label axes clearly with units</li>
<li>Add annotations for important features</li>
<li>Choose the right chart type for your data</li>
</ul>
</div>
<div id="a-transformation-example" class="section level3 hasAnchor" number="10.74.3">
<h3><span class="header-section-number">10.74.3</span> A Transformation Example<a href="references.html#a-transformation-example" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s see these principles in action. Here’s a before and after of a real visualization:</p>
<div class="float">
<img src="Images/tickets_bad.jpg" alt="Ineffective visualization of ticket data" />
<div class="figcaption">Ineffective visualization of ticket data</div>
</div>
<p>This figure has data but no clear message. The viewer has to work hard to extract meaning. Now look at the improved version:</p>
<div class="float">
<img src="Images/tickets_good.jpg" alt="Effective visualization with clear message" />
<div class="figcaption">Effective visualization with clear message</div>
</div>
<p>The transformation includes:</p>
<ul>
<li>A clear title that states the finding</li>
<li>Strategic use of color to highlight the key comparison</li>
<li>Removed unnecessary elements</li>
<li>Added context through annotations</li>
</ul>
<p>The second figure tells a story; the first just displays numbers.</p>
</div>
<div id="common-pitfalls-to-avoid-1" class="section level3 hasAnchor" number="10.74.4">
<h3><span class="header-section-number">10.74.4</span> Common Pitfalls to Avoid<a href="references.html#common-pitfalls-to-avoid-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s learn from others’ mistakes. Here are real examples of what not to do:</p>
<p><strong>Don’t use decorative shapes that distort data:</strong></p>
<div class="float">
<img src="Images/bad_figure.jpg" alt="Bad visualization forcing data into foot shape" />
<div class="figcaption">Bad visualization forcing data into foot shape</div>
</div>
<p>Forcing data into the shape of a foot might seem creative, but it makes comparisons nearly impossible. Viewers spend more time figuring out the shape than understanding the data.</p>
<p><strong>Don’t create meaningless bar heights:</strong></p>
<div class="float">
<img src="Images/bad_bar3.jpg" alt="Bars with inconsistent scaling" />
<div class="figcaption">Bars with inconsistent scaling</div>
</div>
<p>In this figure, bars representing 29.4% and 2.4% are the same height! The visualization completely fails at its basic job of showing relative quantities.</p>
<p><strong>Don’t use 3D effects or pie charts for complex data:</strong></p>
<div class="float">
<img src="Images/bad_pie.jpg" alt="Pie chart with too many categories" />
<div class="figcaption">Pie chart with too many categories</div>
</div>
<p>Pie charts fail when you have many categories because:</p>
<ul>
<li>Humans are bad at comparing angles</li>
<li>Small slices become invisible</li>
<li>Labels overlap and become unreadable</li>
<li>The legend becomes a decoding puzzle</li>
</ul>
<p>Remember: If viewers need to work hard to understand your visualization, you’ve failed - not them.</p>
</div>
</div>
<div id="getting-started-with-ggplot2" class="section level2 hasAnchor" number="10.75">
<h2><span class="header-section-number">10.75</span> Getting Started with ggplot2<a href="references.html#getting-started-with-ggplot2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now that we understand the principles, let’s put them into practice using <code>ggplot2</code>. This package revolutionized R graphics by implementing a consistent “grammar” for building visualizations.</p>
<div id="understanding-the-grammar-of-graphics" class="section level3 hasAnchor" number="10.75.1">
<h3><span class="header-section-number">10.75.1</span> Understanding the Grammar of Graphics<a href="references.html#understanding-the-grammar-of-graphics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The key insight of the grammar of graphics is that any statistical graphic can be built from the same basic components:</p>
<ol style="list-style-type: decimal">
<li><strong>Data</strong>: The information you want to visualize</li>
<li><strong>Aesthetic mappings</strong>: How data variables connect to visual properties (position, color, size, etc.)</li>
<li><strong>Geometric objects</strong>: The shapes that represent data (bars, points, lines, etc.)</li>
<li><strong>Scales</strong>: How data values translate to visual values</li>
<li><strong>Facets</strong>: How to split data into subplots</li>
<li><strong>Coordinate system</strong>: How x and y aesthetics combine to position elements</li>
<li><strong>Theme</strong>: Overall visual defaults</li>
</ol>
<p>In <code>ggplot2</code>, we build graphics by adding these components as layers. This is fundamentally different from software like Excel where you pick a chart type and fill in options. Here, you construct your visualization piece by piece, giving you complete control.</p>
</div>
<div id="the-layering-system" class="section level3 hasAnchor" number="10.75.2">
<h3><span class="header-section-number">10.75.2</span> The Layering System<a href="references.html#the-layering-system" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Think of creating a ggplot like painting: you start with a blank canvas, then add layers of paint. Each layer adds new information or modifies what’s already there. This approach has several advantages:</p>
<ol style="list-style-type: decimal">
<li><strong>Flexibility</strong>: You can create any visualization by combining simple pieces</li>
<li><strong>Iterative</strong>: You can build incrementally, testing as you go</li>
<li><strong>Reusable</strong>: You can save a basic plot and add different layers for different purposes</li>
<li><strong>Readable</strong>: The code describes what you’re doing step by step</li>
</ol>
<p>Let’s load the necessary packages:</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="references.html#cb347-1" tabindex="-1"></a><span class="co"># Load the ggplot2 package for visualization</span></span>
<span id="cb347-2"><a href="references.html#cb347-2" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb347-3"><a href="references.html#cb347-3" tabindex="-1"></a></span>
<span id="cb347-4"><a href="references.html#cb347-4" tabindex="-1"></a><span class="co"># Load tidyverse for data manipulation</span></span>
<span id="cb347-5"><a href="references.html#cb347-5" tabindex="-1"></a><span class="co"># This includes dplyr for data wrangling and other useful tools</span></span>
<span id="cb347-6"><a href="references.html#cb347-6" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
</div>
</div>
<div id="bar-plots-for-categorical-data" class="section level2 hasAnchor" number="10.76">
<h2><span class="header-section-number">10.76</span> Bar Plots for Categorical Data<a href="references.html#bar-plots-for-categorical-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Bar plots excel at showing frequencies or counts for categorical variables. They’re ideal when you have distinct groups and want to compare their sizes. Unlike continuous data, categorical data has natural divisions that bars represent perfectly.</p>
<div id="understanding-the-roommate-study-data" class="section level3 hasAnchor" number="10.76.1">
<h3><span class="header-section-number">10.76.1</span> Understanding the Roommate Study Data<a href="references.html#understanding-the-roommate-study-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For our bar plot examples, we’ll use data from a natural experiment. Strother et al. (2021) studied whether college students’ political views are influenced by their randomly assigned roommates. This is a great research design - since roommates are randomly assigned, we can study peer influence without worrying that similar people chose to live together.</p>
<p>The researchers surveyed students at two times:</p>
<ol style="list-style-type: decimal">
<li><strong>Baseline survey</strong>: Before students met their roommates</li>
<li><strong>Follow-up survey</strong>: After living together for a year</li>
</ol>
<p>Let’s load and explore this data:</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="references.html#cb348-1" tabindex="-1"></a><span class="co"># Load the haven package to read Stata files</span></span>
<span id="cb348-2"><a href="references.html#cb348-2" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb348-3"><a href="references.html#cb348-3" tabindex="-1"></a></span>
<span id="cb348-4"><a href="references.html#cb348-4" tabindex="-1"></a><span class="co"># Read the data file</span></span>
<span id="cb348-5"><a href="references.html#cb348-5" tabindex="-1"></a><span class="co"># This data comes in Stata format (.dta), common in social science</span></span>
<span id="cb348-6"><a href="references.html#cb348-6" tabindex="-1"></a>roommate <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">&quot;RoommateIdeologyAbridged.dta&quot;</span>)</span>
<span id="cb348-7"><a href="references.html#cb348-7" tabindex="-1"></a></span>
<span id="cb348-8"><a href="references.html#cb348-8" tabindex="-1"></a><span class="co"># Let&#39;s see what variables we have</span></span>
<span id="cb348-9"><a href="references.html#cb348-9" tabindex="-1"></a><span class="fu">glimpse</span>(roommate)</span></code></pre></div>
<pre><code>## Rows: 7,040
## Columns: 14
## $ respid                &lt;chr&gt; &quot;1000371&quot;, &quot;1000528&quot;, &quot;1000685&quot;, &quot;1000842&quot;, &quot;1000999&quot;, &quot;1001156&quot;, …
## $ female                &lt;dbl&gt; 1, 1, 1, 0, 0, 1, NA, NA, 0, 0, 1, 0, 1, NA, NA, 1, NA, NA, 1, NA,…
## $ race_white            &lt;dbl&gt; 1, 0, 1, 0, 1, 1, NA, NA, 1, 1, 1, 1, 1, NA, NA, 1, NA, NA, 1, NA,…
## $ race_black            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, NA, NA, 0, 0, 0, 0, 0, NA, NA, 0, NA, NA, 0, NA,…
## $ race_hispanic         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, NA, NA, 0, 0, 0, 0, 0, NA, NA, 0, NA, NA, 0, NA,…
## $ race_other            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, NA, NA, 0, 0, 0, 0, 0, NA, NA, 0, NA, NA, 0, NA,…
## $ race_asian            &lt;dbl&gt; 0, 1, 0, 1, 0, 0, NA, NA, 0, 0, 0, 0, 0, NA, NA, 0, NA, NA, 0, NA,…
## $ educ_parents          &lt;dbl+lbl&gt;  7,  7,  6,  6,  4,  6, NA, NA,  4,  6,  7,  4,  7, NA, NA,  7…
## $ b_religiosity         &lt;dbl+lbl&gt;  3,  3,  4,  3,  2, NA,  4,  1,  3,  2,  2, NA,  4, NA,  2,  4…
## $ b_polit_views         &lt;dbl+lbl&gt;  1,  3,  2,  2,  3, NA,  2,  3,  2,  2,  3, NA,  2, NA,  2,  2…
## $ f_religiosity         &lt;dbl+lbl&gt;  4,  4,  4,  3,  2,  2, NA, NA,  3,  2,  3,  1,  3, NA, NA,  4…
## $ f_polit_views         &lt;dbl+lbl&gt;  2,  2,  2,  3,  3,  3, NA, NA,  3,  2,  2,  4,  2, NA, NA,  2…
## $ rm_b_polit_views_mean &lt;dbl&gt; 3.000000, 2.000000, 2.500000, 2.000000, NA, NA, 2.000000, NA, 4.00…
## $ rm_f_polit_views_mean &lt;dbl&gt; NA, 2.0, 3.0, NA, NA, NA, NA, NA, 4.0, 3.0, 2.0, 3.0, 2.0, NA, NA,…</code></pre>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="references.html#cb350-1" tabindex="-1"></a><span class="co"># Check the structure</span></span></code></pre></div>
<p>Key variables for our visualizations:</p>
<ul>
<li><code>b_polit_views</code>: Baseline political ideology (1 = extremely left, 5 = extremely right)</li>
<li><code>b_religiosity</code>: Baseline religiosity (1 = very religious, 4 = not religious)</li>
<li><code>female</code>: Gender indicator (1 = female, 0 = male)</li>
</ul>
</div>
<div id="preparing-data-for-visualization" class="section level3 hasAnchor" number="10.76.2">
<h3><span class="header-section-number">10.76.2</span> Preparing Data for Visualization<a href="references.html#preparing-data-for-visualization" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One crucial step before visualization is ensuring our categorical variables are properly formatted. R needs to know these are categories, not just numbers. We’ll also add meaningful labels:</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="references.html#cb351-1" tabindex="-1"></a><span class="co"># First, convert political views to a factor</span></span>
<span id="cb351-2"><a href="references.html#cb351-2" tabindex="-1"></a><span class="co"># as.factor() tells R these are categories, not continuous numbers</span></span>
<span id="cb351-3"><a href="references.html#cb351-3" tabindex="-1"></a>roommate<span class="sc">$</span>b_polit_views <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(roommate<span class="sc">$</span>b_polit_views)</span>
<span id="cb351-4"><a href="references.html#cb351-4" tabindex="-1"></a></span>
<span id="cb351-5"><a href="references.html#cb351-5" tabindex="-1"></a><span class="co"># Check what we have</span></span>
<span id="cb351-6"><a href="references.html#cb351-6" tabindex="-1"></a><span class="fu">table</span>(roommate<span class="sc">$</span>b_polit_views)</span></code></pre></div>
<pre><code>## 
##    1    2    3    4    5 
##  167 1954 1749  865   47</code></pre>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="references.html#cb353-1" tabindex="-1"></a><span class="co"># Now add meaningful labels using dplyr&#39;s recode function</span></span>
<span id="cb353-2"><a href="references.html#cb353-2" tabindex="-1"></a>roommate <span class="ot">&lt;-</span> roommate <span class="sc">%&gt;%</span></span>
<span id="cb353-3"><a href="references.html#cb353-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb353-4"><a href="references.html#cb353-4" tabindex="-1"></a>    <span class="co"># Create a new variable with descriptive labels</span></span>
<span id="cb353-5"><a href="references.html#cb353-5" tabindex="-1"></a>    <span class="at">b_polit_views_named =</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(b_polit_views,</span>
<span id="cb353-6"><a href="references.html#cb353-6" tabindex="-1"></a>      <span class="st">&quot;1&quot;</span> <span class="ot">=</span> <span class="st">&quot;1. Extremely left&quot;</span>,</span>
<span id="cb353-7"><a href="references.html#cb353-7" tabindex="-1"></a>      <span class="st">&quot;2&quot;</span> <span class="ot">=</span> <span class="st">&quot;2. Left&quot;</span>,</span>
<span id="cb353-8"><a href="references.html#cb353-8" tabindex="-1"></a>      <span class="st">&quot;3&quot;</span> <span class="ot">=</span> <span class="st">&quot;3. Moderate&quot;</span>,</span>
<span id="cb353-9"><a href="references.html#cb353-9" tabindex="-1"></a>      <span class="st">&quot;4&quot;</span> <span class="ot">=</span> <span class="st">&quot;4. Right&quot;</span>,</span>
<span id="cb353-10"><a href="references.html#cb353-10" tabindex="-1"></a>      <span class="st">&quot;5&quot;</span> <span class="ot">=</span> <span class="st">&quot;5. Extremely right&quot;</span></span>
<span id="cb353-11"><a href="references.html#cb353-11" tabindex="-1"></a>    )</span>
<span id="cb353-12"><a href="references.html#cb353-12" tabindex="-1"></a>  )</span>
<span id="cb353-13"><a href="references.html#cb353-13" tabindex="-1"></a></span>
<span id="cb353-14"><a href="references.html#cb353-14" tabindex="-1"></a><span class="co"># Verify our recoding worked</span></span>
<span id="cb353-15"><a href="references.html#cb353-15" tabindex="-1"></a><span class="fu">table</span>(roommate<span class="sc">$</span>b_polit_views_named)</span></code></pre></div>
<pre><code>## 
##  1. Extremely left            2. Left        3. Moderate           4. Right 5. Extremely right 
##                167               1954               1749                865                 47</code></pre>
<p>Let’s do the same for religiosity:</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="references.html#cb355-1" tabindex="-1"></a><span class="co"># Convert to factor</span></span>
<span id="cb355-2"><a href="references.html#cb355-2" tabindex="-1"></a>roommate<span class="sc">$</span>b_religiosity <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(roommate<span class="sc">$</span>b_religiosity)</span>
<span id="cb355-3"><a href="references.html#cb355-3" tabindex="-1"></a></span>
<span id="cb355-4"><a href="references.html#cb355-4" tabindex="-1"></a><span class="co"># Add labels (just endpoints for cleaner plots)</span></span>
<span id="cb355-5"><a href="references.html#cb355-5" tabindex="-1"></a>roommate <span class="ot">&lt;-</span> roommate <span class="sc">%&gt;%</span></span>
<span id="cb355-6"><a href="references.html#cb355-6" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb355-7"><a href="references.html#cb355-7" tabindex="-1"></a>    <span class="at">b_religiosity =</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(b_religiosity,</span>
<span id="cb355-8"><a href="references.html#cb355-8" tabindex="-1"></a>      <span class="st">&quot;1&quot;</span> <span class="ot">=</span> <span class="st">&quot;1. Very religious&quot;</span>,</span>
<span id="cb355-9"><a href="references.html#cb355-9" tabindex="-1"></a>      <span class="st">&quot;2&quot;</span> <span class="ot">=</span> <span class="st">&quot;2&quot;</span>,</span>
<span id="cb355-10"><a href="references.html#cb355-10" tabindex="-1"></a>      <span class="st">&quot;3&quot;</span> <span class="ot">=</span> <span class="st">&quot;3&quot;</span>,</span>
<span id="cb355-11"><a href="references.html#cb355-11" tabindex="-1"></a>      <span class="st">&quot;4&quot;</span> <span class="ot">=</span> <span class="st">&quot;4. Not religious&quot;</span></span>
<span id="cb355-12"><a href="references.html#cb355-12" tabindex="-1"></a>    )</span>
<span id="cb355-13"><a href="references.html#cb355-13" tabindex="-1"></a>  )</span>
<span id="cb355-14"><a href="references.html#cb355-14" tabindex="-1"></a></span>
<span id="cb355-15"><a href="references.html#cb355-15" tabindex="-1"></a><span class="co"># Remove any rows with missing data on our key variables</span></span>
<span id="cb355-16"><a href="references.html#cb355-16" tabindex="-1"></a><span class="co"># This ensures our visualizations aren&#39;t affected by NAs</span></span>
<span id="cb355-17"><a href="references.html#cb355-17" tabindex="-1"></a>roommate <span class="ot">&lt;-</span> roommate <span class="sc">%&gt;%</span></span>
<span id="cb355-18"><a href="references.html#cb355-18" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(b_polit_views_named) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(b_religiosity))</span>
<span id="cb355-19"><a href="references.html#cb355-19" tabindex="-1"></a></span>
<span id="cb355-20"><a href="references.html#cb355-20" tabindex="-1"></a><span class="co"># How many students do we have?</span></span>
<span id="cb355-21"><a href="references.html#cb355-21" tabindex="-1"></a><span class="fu">nrow</span>(roommate)</span></code></pre></div>
<pre><code>## [1] 4781</code></pre>
</div>
<div id="building-your-first-ggplot" class="section level3 hasAnchor" number="10.76.3">
<h3><span class="header-section-number">10.76.3</span> Building Your First ggplot<a href="references.html#building-your-first-ggplot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now for the exciting part - creating our first visualization! We’ll build it step by step to understand how ggplot works.</p>
<p>First, let’s create just the canvas:</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="references.html#cb357-1" tabindex="-1"></a><span class="co"># This creates a blank plotting area</span></span>
<span id="cb357-2"><a href="references.html#cb357-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> roommate)</span></code></pre></div>
<p>When you run this, you’ll see an empty gray rectangle. This is your canvas, waiting for you to add data representations.</p>
<p>Now let’s add a geometric layer - in this case, bars:</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="references.html#cb358-1" tabindex="-1"></a><span class="co"># Start with the canvas and add bars</span></span>
<span id="cb358-2"><a href="references.html#cb358-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> roommate) <span class="sc">+</span>  <span class="co"># Note the + sign to add layers!</span></span>
<span id="cb358-3"><a href="references.html#cb358-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> b_polit_views_named))</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-139-1.png" width="672" /></p>
<p>Let’s break down what just happened:</p>
<ol style="list-style-type: decimal">
<li><code>ggplot(data = roommate)</code> - Creates the base plot using our roommate data</li>
<li><code>+</code> - This plus sign is crucial! It’s how we add layers in ggplot</li>
<li><code>geom_bar()</code> - Adds a bar geometry (there’s also geom_point, geom_line, etc.)</li>
<li><code>aes(x = b_polit_views_named)</code> - The aesthetic mapping that says “map the political views variable to the x-axis position”</li>
</ol>
<p>The <code>aes()</code> function is particularly important. It creates the connection between your data and the visual properties of the plot. Think of it as saying “this variable controls this visual aspect.”</p>
</div>
<div id="customizing-colors-and-appearance" class="section level3 hasAnchor" number="10.76.4">
<h3><span class="header-section-number">10.76.4</span> Customizing Colors and Appearance<a href="references.html#customizing-colors-and-appearance" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Our plot works but looks pretty bland. Let’s add some color:</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="references.html#cb359-1" tabindex="-1"></a><span class="co"># Add a fixed color to all bars</span></span>
<span id="cb359-2"><a href="references.html#cb359-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> roommate) <span class="sc">+</span></span>
<span id="cb359-3"><a href="references.html#cb359-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> b_polit_views_named), <span class="at">fill =</span> <span class="st">&quot;steelblue&quot;</span>)</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-140-1.png" width="672" /></p>
<p>Notice that <code>fill = "steelblue"</code> is <strong>outside</strong> the <code>aes()</code> function. This means we’re setting a fixed color for all bars, not mapping color to data.</p>
<p>What if we want each political group to have its own color?</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="references.html#cb360-1" tabindex="-1"></a><span class="co"># Map color to the political views variable</span></span>
<span id="cb360-2"><a href="references.html#cb360-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> roommate) <span class="sc">+</span></span>
<span id="cb360-3"><a href="references.html#cb360-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> b_polit_views_named, <span class="at">fill =</span> b_polit_views_named))</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-141-1.png" width="672" /></p>
<p>Now <code>fill = b_polit_views_named</code> is <strong>inside</strong> the <code>aes()</code> function, creating a mapping between data and color. <code>ggplot</code> automatically:</p>
<ul>
<li>Assigns a different color to each category</li>
<li>Creates a legend</li>
<li>Uses a reasonable default color scheme</li>
</ul>
<p>This inside/outside distinction is crucial in ggplot:</p>
<ul>
<li><strong>Inside <code>aes()</code></strong>: Create mappings between data and visuals</li>
<li><strong>Outside <code>aes()</code></strong>: Set fixed visual properties</li>
</ul>
</div>
<div id="adding-labels-and-titles" class="section level3 hasAnchor" number="10.76.5">
<h3><span class="header-section-number">10.76.5</span> Adding Labels and Titles<a href="references.html#adding-labels-and-titles" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A graph without proper labels is like a story with no proper nounds - technically complete but hard to understand. Let’s add informative text:</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="references.html#cb361-1" tabindex="-1"></a><span class="co"># Build a properly labeled plot</span></span>
<span id="cb361-2"><a href="references.html#cb361-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> roommate) <span class="sc">+</span></span>
<span id="cb361-3"><a href="references.html#cb361-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> b_polit_views_named), <span class="at">fill =</span> <span class="st">&quot;steelblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb361-4"><a href="references.html#cb361-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb361-5"><a href="references.html#cb361-5" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Political Ideology&quot;</span>,  <span class="co"># X-axis label</span></span>
<span id="cb361-6"><a href="references.html#cb361-6" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Number of Students&quot;</span>,  <span class="co"># Y-axis label</span></span>
<span id="cb361-7"><a href="references.html#cb361-7" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Distribution of Political Views Among College Students&quot;</span>,</span>
<span id="cb361-8"><a href="references.html#cb361-8" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Survey conducted before random roommate assignment&quot;</span>,</span>
<span id="cb361-9"><a href="references.html#cb361-9" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Source: Strother et al. (2021)&quot;</span></span>
<span id="cb361-10"><a href="references.html#cb361-10" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-142-1.png" width="672" /></p>
<p>The <code>labs()</code> function is your text toolkit. You can specify:</p>
<ul>
<li><code>x</code> and <code>y</code>: Axis labels</li>
<li><code>title</code>: Main title (state your finding!)</li>
<li><code>subtitle</code>: Additional context</li>
<li><code>caption</code>: Data source or notes</li>
</ul>
</div>
<div id="understanding-themes-and-further-customization" class="section level3 hasAnchor" number="10.76.6">
<h3><span class="header-section-number">10.76.6</span> Understanding Themes and Further Customization<a href="references.html#understanding-themes-and-further-customization" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>ggplot2</code> comes with several built-in themes that change the overall look:</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="references.html#cb362-1" tabindex="-1"></a><span class="co"># Save base plot to reuse</span></span>
<span id="cb362-2"><a href="references.html#cb362-2" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> roommate) <span class="sc">+</span></span>
<span id="cb362-3"><a href="references.html#cb362-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> b_polit_views_named), <span class="at">fill =</span> <span class="st">&quot;steelblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb362-4"><a href="references.html#cb362-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Political Ideology&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Number of Students&quot;</span>,</span>
<span id="cb362-5"><a href="references.html#cb362-5" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Distribution of Political Views&quot;</span>)</span>
<span id="cb362-6"><a href="references.html#cb362-6" tabindex="-1"></a></span>
<span id="cb362-7"><a href="references.html#cb362-7" tabindex="-1"></a><span class="co"># Default theme (gray background)</span></span>
<span id="cb362-8"><a href="references.html#cb362-8" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-143-1.png" width="672" /></p>
<p>Now let’s see how different themes change the appearance:</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="references.html#cb363-1" tabindex="-1"></a><span class="co"># Classic theme - removes gray background, adds axis lines</span></span>
<span id="cb363-2"><a href="references.html#cb363-2" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme_classic</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-144-1.png" width="672" /></p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="references.html#cb364-1" tabindex="-1"></a><span class="co"># Minimal theme - clean and modern, subtle grid lines</span></span>
<span id="cb364-2"><a href="references.html#cb364-2" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-145-1.png" width="672" /></p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="references.html#cb365-1" tabindex="-1"></a><span class="co"># Black and white theme - good for publications, with border</span></span>
<span id="cb365-2"><a href="references.html#cb365-2" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-146-1.png" width="672" /></p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="references.html#cb366-1" tabindex="-1"></a><span class="co"># Void theme - removes all non-data elements</span></span>
<span id="cb366-2"><a href="references.html#cb366-2" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb366-3"><a href="references.html#cb366-3" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Distribution of Political Views (void theme)&quot;</span>)</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-147-1.png" width="672" /></p>
<p>Notice how each theme changes:</p>
<ul>
<li><strong>Background</strong>: gray (default) vs. white (most others) vs. none (void)</li>
<li><strong>Grid lines</strong>: major and minor (default) vs. subtle (minimal) vs. none (classic)</li>
<li><strong>Borders</strong>: full box (bw) vs. just axes (classic) vs. none (minimal)</li>
<li><strong>Overall feel</strong>: Excel-like (default) vs. publication-ready (bw) vs. modern (minimal)</li>
</ul>
<p>Beyond preset themes, you can customize every element:</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="references.html#cb367-1" tabindex="-1"></a><span class="co"># Detailed customization</span></span>
<span id="cb367-2"><a href="references.html#cb367-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> roommate) <span class="sc">+</span></span>
<span id="cb367-3"><a href="references.html#cb367-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> b_polit_views_named), <span class="at">fill =</span> <span class="st">&quot;steelblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb367-4"><a href="references.html#cb367-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb367-5"><a href="references.html#cb367-5" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Political Ideology&quot;</span>,</span>
<span id="cb367-6"><a href="references.html#cb367-6" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Number of Students&quot;</span>,</span>
<span id="cb367-7"><a href="references.html#cb367-7" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Most College Students Identify as Moderate or Left-Leaning&quot;</span></span>
<span id="cb367-8"><a href="references.html#cb367-8" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb367-9"><a href="references.html#cb367-9" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span>  <span class="co"># Start with a clean theme</span></span>
<span id="cb367-10"><a href="references.html#cb367-10" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb367-11"><a href="references.html#cb367-11" tabindex="-1"></a>    <span class="co"># Make axis text larger and bold</span></span>
<span id="cb367-12"><a href="references.html#cb367-12" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb367-13"><a href="references.html#cb367-13" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb367-14"><a href="references.html#cb367-14" tabindex="-1"></a>    <span class="co"># Make title larger and blue</span></span>
<span id="cb367-15"><a href="references.html#cb367-15" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">color =</span> <span class="st">&quot;darkblue&quot;</span>),</span>
<span id="cb367-16"><a href="references.html#cb367-16" tabindex="-1"></a>    <span class="co"># Rotate x-axis labels if they overlap</span></span>
<span id="cb367-17"><a href="references.html#cb367-17" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb367-18"><a href="references.html#cb367-18" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-148-1.png" width="672" /></p>
<p>Here we used the <code>theme</code> function to set things like font size, font type, colors and more. It would take far more than one class to go through all of these options, but suffice it to say, that there is a way to control nearly every visual element you see on a plot.</p>
</div>
<div id="using-color-to-show-relationships" class="section level3 hasAnchor" number="10.76.7">
<h3><span class="header-section-number">10.76.7</span> Using Color to Show Relationships<a href="references.html#using-color-to-show-relationships" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>So far we’ve created single-variable visualizations. But color can reveal relationships between variables. Let’s explore how political views relate to religiosity:</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="references.html#cb368-1" tabindex="-1"></a><span class="co"># Color bars by religiosity</span></span>
<span id="cb368-2"><a href="references.html#cb368-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> roommate) <span class="sc">+</span></span>
<span id="cb368-3"><a href="references.html#cb368-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> b_polit_views_named, <span class="at">fill =</span> b_religiosity)) <span class="sc">+</span></span>
<span id="cb368-4"><a href="references.html#cb368-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb368-5"><a href="references.html#cb368-5" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Political Ideology&quot;</span>,</span>
<span id="cb368-6"><a href="references.html#cb368-6" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Number of Students&quot;</span>,</span>
<span id="cb368-7"><a href="references.html#cb368-7" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Religious Students Tend to Be More Conservative&quot;</span>,</span>
<span id="cb368-8"><a href="references.html#cb368-8" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Distribution of political views colored by religiosity&quot;</span>,</span>
<span id="cb368-9"><a href="references.html#cb368-9" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;Religiosity&quot;</span>  <span class="co"># Legend title</span></span>
<span id="cb368-10"><a href="references.html#cb368-10" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb368-11"><a href="references.html#cb368-11" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-149-1.png" width="672" /></p>
<p>This creates a “stacked” bar chart. Each bar is divided into segments showing the religious composition of that political group. We can see that very religious students (dark red) make up a larger proportion of conservative students.</p>
<p>Sometimes stacked bars make comparisons difficult. We can place bars side-by-side instead:</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="references.html#cb369-1" tabindex="-1"></a><span class="co"># Grouped bar chart</span></span>
<span id="cb369-2"><a href="references.html#cb369-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> roommate) <span class="sc">+</span></span>
<span id="cb369-3"><a href="references.html#cb369-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> b_polit_views_named, <span class="at">fill =</span> b_religiosity), </span>
<span id="cb369-4"><a href="references.html#cb369-4" tabindex="-1"></a>           <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span>  <span class="co"># This creates groups instead of stacks</span></span>
<span id="cb369-5"><a href="references.html#cb369-5" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb369-6"><a href="references.html#cb369-6" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Political Ideology&quot;</span>,</span>
<span id="cb369-7"><a href="references.html#cb369-7" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Number of Students&quot;</span>,</span>
<span id="cb369-8"><a href="references.html#cb369-8" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Religious Students Tend to Be More Conservative&quot;</span>,</span>
<span id="cb369-9"><a href="references.html#cb369-9" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Grouped bars make religiosity patterns clearer&quot;</span>,</span>
<span id="cb369-10"><a href="references.html#cb369-10" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;Religiosity&quot;</span></span>
<span id="cb369-11"><a href="references.html#cb369-11" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb369-12"><a href="references.html#cb369-12" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb369-13"><a href="references.html#cb369-13" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-150-1.png" width="672" /></p>
<p>The <code>position = "dodge"</code> argument tells ggplot to place bars side-by-side rather than stacking them. This makes it easier to compare the height of specific religious groups across political ideologies.</p>
</div>
<div id="fun-with-color-palettes" class="section level3 hasAnchor" number="10.76.8">
<h3><span class="header-section-number">10.76.8</span> Fun with Color Palettes<a href="references.html#fun-with-color-palettes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>While ggplot’s default colors work well, sometimes you want something different. There are many color palette packages available:</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="references.html#cb370-1" tabindex="-1"></a><span class="co"># Load the Taylor Swift color palette package (yes, this exists!)</span></span>
<span id="cb370-2"><a href="references.html#cb370-2" tabindex="-1"></a><span class="fu">library</span>(tayloRswift)</span>
<span id="cb370-3"><a href="references.html#cb370-3" tabindex="-1"></a></span>
<span id="cb370-4"><a href="references.html#cb370-4" tabindex="-1"></a><span class="co"># Apply Taylor Swift&#39;s 1989 album colors to our plot</span></span>
<span id="cb370-5"><a href="references.html#cb370-5" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> roommate) <span class="sc">+</span></span>
<span id="cb370-6"><a href="references.html#cb370-6" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> b_polit_views_named, <span class="at">fill =</span> b_polit_views_named)) <span class="sc">+</span></span>
<span id="cb370-7"><a href="references.html#cb370-7" tabindex="-1"></a>  <span class="fu">scale_fill_taylor</span>(<span class="at">palette =</span> <span class="st">&quot;taylor1989&quot;</span>) <span class="sc">+</span>  <span class="co"># Custom color palette</span></span>
<span id="cb370-8"><a href="references.html#cb370-8" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb370-9"><a href="references.html#cb370-9" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Political Ideology&quot;</span>,</span>
<span id="cb370-10"><a href="references.html#cb370-10" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Number of Students&quot;</span>,</span>
<span id="cb370-11"><a href="references.html#cb370-11" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Political Views of College Students&quot;</span>,</span>
<span id="cb370-12"><a href="references.html#cb370-12" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;Ideology&quot;</span></span>
<span id="cb370-13"><a href="references.html#cb370-13" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb370-14"><a href="references.html#cb370-14" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb370-15"><a href="references.html#cb370-15" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)  <span class="co"># Hide legend since colors match x-axis</span></span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-151-1.png" width="672" /></p>
<p>There are also more serious color palettes designed for clarity and accessibility:</p>
<ul>
<li><code>scale_fill_brewer()</code>: ColorBrewer palettes (great for publications)</li>
<li><code>scale_fill_viridis_d()</code>: Colorblind-friendly palettes</li>
<li><code>scale_fill_grey()</code>: Grayscale for black-and-white printing</li>
</ul>
</div>
</div>
<div id="histograms-for-continuous-data" class="section level2 hasAnchor" number="10.77">
<h2><span class="header-section-number">10.77</span> Histograms for Continuous Data<a href="references.html#histograms-for-continuous-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When your variable has many possible values - like test scores, income, or approval ratings - bar plots become impractical. You’d need hundreds of tiny bars! Histograms solve this by grouping continuous data into bins.</p>
<div id="understanding-the-anes-data" class="section level3 hasAnchor" number="10.77.1">
<h3><span class="header-section-number">10.77.1</span> Understanding the ANES Data<a href="references.html#understanding-the-anes-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s switch to a different dataset to explore continuous variables. The American National Election Study (ANES) is one of the most important data sources in political science. Running since 1948, it surveys Americans about their political attitudes, behaviors, and demographics.</p>
<p>We’ll use 2020 data, collected during a pivotal election year marked by the COVID-19 pandemic, racial justice protests, and deep political polarization.</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="references.html#cb371-1" tabindex="-1"></a><span class="co"># Load the 2020 ANES data</span></span>
<span id="cb371-2"><a href="references.html#cb371-2" tabindex="-1"></a>anes2020 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;anes2020.csv&quot;</span>)</span>
<span id="cb371-3"><a href="references.html#cb371-3" tabindex="-1"></a></span>
<span id="cb371-4"><a href="references.html#cb371-4" tabindex="-1"></a><span class="co"># Explore the structure</span></span>
<span id="cb371-5"><a href="references.html#cb371-5" tabindex="-1"></a><span class="fu">dim</span>(anes2020)  <span class="co"># How many respondents and variables?</span></span></code></pre></div>
<pre><code>## [1] 8280   12</code></pre>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="references.html#cb373-1" tabindex="-1"></a><span class="co"># Look at the data a bit</span></span>
<span id="cb373-2"><a href="references.html#cb373-2" tabindex="-1"></a><span class="fu">glimpse</span>(anes2020)</span></code></pre></div>
<pre><code>## Rows: 8,280
## Columns: 12
## $ rid      &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, …
## $ age      &lt;int&gt; 46, 37, 40, 41, 72, 71, 37, 45, 70, 43, 37, 55, 30, 38, 41, 66, 54, 55, 62, 80,…
## $ race     &lt;int&gt; 3, 4, 1, 4, 5, 1, 1, 1, 1, 3, 3, 1, 1, 4, 2, 3, 1, 1, 1, 1, 3, 3, 1, 1, 3, 1, 1…
## $ latino   &lt;int&gt; 1, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 1, 1, 2, 2, 1, 2, 2…
## $ vote12   &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 2, 1, 2, 1, 1, 2, 1, 1, 1, 1, 2, 1, 2, 1, 2, 1, 1…
## $ vote16   &lt;int&gt; 1, 1, 1, 1, 1, 2, 1, 2, NA, NA, NA, 1, 2, NA, 2, NA, 1, NA, NA, 1, NA, NA, 1, N…
## $ media    &lt;int&gt; 2, 3, 1, 3, 2, 2, 3, 4, 3, 2, 4, 3, 1, 1, 3, 2, 2, 2, 2, 2, 2, 3, 2, 3, 3, 3, 2…
## $ partyid  &lt;int&gt; 2, 5, 3, 2, 3, 3, 2, 2, 3, 1, 1, 1, 2, 1, 3, 3, 3, 1, 1, 1, 2, 1, 3, 2, 1, 1, 3…
## $ income   &lt;int&gt; 21, 13, 17, 7, 22, 3, 4, 3, 10, 11, 9, 18, 1, 21, 3, 7, 22, 20, NA, 5, 12, 6, 2…
## $ obama.th &lt;int&gt; 0, 50, 90, 85, 10, 60, 15, 50, 60, 100, 100, 85, 0, 100, 85, 0, 85, 100, 100, 1…
## $ trump.th &lt;int&gt; 100, 0, 0, 15, 85, 0, 75, 100, 0, 0, 0, 0, 100, 0, 40, 100, 0, 0, 15, 15, 95, 0…
## $ biden.th &lt;int&gt; 0, 0, 65, 70, 15, 85, 50, 50, 85, 85, 100, 60, 0, 85, 60, 0, 60, 85, 85, 70, 0,…</code></pre>
<p>For our examples, we’ll focus on:</p>
<ul>
<li><code>biden.th</code>: “Feeling thermometer” for Joe Biden (0-100 scale)
<ul>
<li>0 = Very cold/negative feelings</li>
<li>50 = Neutral</li>
<li>100 = Very warm/positive feelings</li>
</ul></li>
<li><code>latino</code>: Whether respondent identifies as Hispanic/Latino</li>
</ul>
<p>Feeling thermometers are a clever survey tool. Instead of asking “Do you like Biden?” (which forces yes/no), they let respondents express degrees of warmth or coolness, capturing more nuance.</p>
<p>Let’s prepare the data:</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb375-1"><a href="references.html#cb375-1" tabindex="-1"></a><span class="co"># Convert latino to a factor with meaningful labels</span></span>
<span id="cb375-2"><a href="references.html#cb375-2" tabindex="-1"></a>anes2020<span class="sc">$</span>latino <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(anes2020<span class="sc">$</span>latino)</span>
<span id="cb375-3"><a href="references.html#cb375-3" tabindex="-1"></a></span>
<span id="cb375-4"><a href="references.html#cb375-4" tabindex="-1"></a>anes2020 <span class="ot">&lt;-</span> anes2020 <span class="sc">%&gt;%</span></span>
<span id="cb375-5"><a href="references.html#cb375-5" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb375-6"><a href="references.html#cb375-6" tabindex="-1"></a>    <span class="at">latino =</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(latino,</span>
<span id="cb375-7"><a href="references.html#cb375-7" tabindex="-1"></a>      <span class="st">&quot;1&quot;</span> <span class="ot">=</span> <span class="st">&quot;Hispanic&quot;</span>,</span>
<span id="cb375-8"><a href="references.html#cb375-8" tabindex="-1"></a>      <span class="st">&quot;2&quot;</span> <span class="ot">=</span> <span class="st">&quot;Non-Hispanic&quot;</span></span>
<span id="cb375-9"><a href="references.html#cb375-9" tabindex="-1"></a>    )</span>
<span id="cb375-10"><a href="references.html#cb375-10" tabindex="-1"></a>  )</span>
<span id="cb375-11"><a href="references.html#cb375-11" tabindex="-1"></a></span>
<span id="cb375-12"><a href="references.html#cb375-12" tabindex="-1"></a><span class="co"># Remove missing values</span></span>
<span id="cb375-13"><a href="references.html#cb375-13" tabindex="-1"></a>anes2020 <span class="ot">&lt;-</span> anes2020 <span class="sc">%&gt;%</span></span>
<span id="cb375-14"><a href="references.html#cb375-14" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(latino) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(biden.th))</span>
<span id="cb375-15"><a href="references.html#cb375-15" tabindex="-1"></a></span>
<span id="cb375-16"><a href="references.html#cb375-16" tabindex="-1"></a><span class="co"># Check the distribution of the Biden thermometer</span></span>
<span id="cb375-17"><a href="references.html#cb375-17" tabindex="-1"></a><span class="fu">summary</span>(anes2020<span class="sc">$</span>biden.th)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    0.00   15.00   55.00   49.26   85.00  100.00</code></pre>
</div>
<div id="creating-basic-histograms" class="section level3 hasAnchor" number="10.77.2">
<h3><span class="header-section-number">10.77.2</span> Creating Basic Histograms<a href="references.html#creating-basic-histograms" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s start with base R’s <code>hist()</code> function to understand what histograms do:</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="references.html#cb377-1" tabindex="-1"></a><span class="co"># Basic histogram</span></span>
<span id="cb377-2"><a href="references.html#cb377-2" tabindex="-1"></a><span class="fu">hist</span>(anes2020<span class="sc">$</span>biden.th)</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-154-1.png" width="672" /></p>
<p>This shows the distribution is polarized - many people rate Biden very low (near 0) or very high (near 100), with fewer in the middle. This U-shaped pattern reflects America’s political polarization.</p>
<p>We can improve this basic histogram:</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb378-1"><a href="references.html#cb378-1" tabindex="-1"></a><span class="co"># Customized histogram</span></span>
<span id="cb378-2"><a href="references.html#cb378-2" tabindex="-1"></a><span class="fu">hist</span>(anes2020<span class="sc">$</span>biden.th,</span>
<span id="cb378-3"><a href="references.html#cb378-3" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="dv">20</span>,  <span class="co"># More bins for finer detail</span></span>
<span id="cb378-4"><a href="references.html#cb378-4" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;lightblue&quot;</span>,  <span class="co"># Add color</span></span>
<span id="cb378-5"><a href="references.html#cb378-5" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Biden Feeling Thermometer (0-100)&quot;</span>,</span>
<span id="cb378-6"><a href="references.html#cb378-6" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Number of Respondents&quot;</span>,</span>
<span id="cb378-7"><a href="references.html#cb378-7" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Americans Are Polarized About Joe Biden&quot;</span>,</span>
<span id="cb378-8"><a href="references.html#cb378-8" tabindex="-1"></a>     <span class="at">sub =</span> <span class="st">&quot;Note clustering at 0 and 100&quot;</span>)</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-155-1.png" width="672" /></p>
</div>
<div id="building-histograms-with-ggplot2" class="section level3 hasAnchor" number="10.77.3">
<h3><span class="header-section-number">10.77.3</span> Building Histograms with ggplot2<a href="references.html#building-histograms-with-ggplot2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now let’s use ggplot2 for more control and better aesthetics:</p>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="references.html#cb379-1" tabindex="-1"></a><span class="co"># Basic ggplot histogram</span></span>
<span id="cb379-2"><a href="references.html#cb379-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> anes2020) <span class="sc">+</span></span>
<span id="cb379-3"><a href="references.html#cb379-3" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> biden.th))</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-156-1.png" width="672" /></p>
<p>That’s quite ugly! The default of 30 bins creates a spiky appearance because respondents tend to choose round numbers (50, 60, 70) rather than precise values (57, 63, 71). Let’s fix this:</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb380-1"><a href="references.html#cb380-1" tabindex="-1"></a><span class="co"># Better histogram with fewer bins</span></span>
<span id="cb380-2"><a href="references.html#cb380-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> anes2020) <span class="sc">+</span></span>
<span id="cb380-3"><a href="references.html#cb380-3" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> biden.th), </span>
<span id="cb380-4"><a href="references.html#cb380-4" tabindex="-1"></a>                 <span class="at">bins =</span> <span class="dv">10</span>,  <span class="co"># Fewer bins smooth out spikes</span></span>
<span id="cb380-5"><a href="references.html#cb380-5" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">&quot;darkblue&quot;</span>,</span>
<span id="cb380-6"><a href="references.html#cb380-6" tabindex="-1"></a>                 <span class="at">color =</span> <span class="st">&quot;white&quot;</span>,  <span class="co"># White borders between bins</span></span>
<span id="cb380-7"><a href="references.html#cb380-7" tabindex="-1"></a>                 <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span>  <span class="co"># Some transparency</span></span>
<span id="cb380-8"><a href="references.html#cb380-8" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb380-9"><a href="references.html#cb380-9" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Feeling Thermometer (0 = Very Cold, 100 = Very Warm)&quot;</span>,</span>
<span id="cb380-10"><a href="references.html#cb380-10" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Number of Respondents&quot;</span>,</span>
<span id="cb380-11"><a href="references.html#cb380-11" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Americans Are Deeply Polarized About President Biden&quot;</span>,</span>
<span id="cb380-12"><a href="references.html#cb380-12" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Many rate him 0 or 100, with fewer neutral ratings&quot;</span>,</span>
<span id="cb380-13"><a href="references.html#cb380-13" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Source: 2020 American National Election Study&quot;</span></span>
<span id="cb380-14"><a href="references.html#cb380-14" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb380-15"><a href="references.html#cb380-15" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-157-1.png" width="672" /></p>
<p>The key parameters for histograms:</p>
<ul>
<li><code>bins</code>: Number of bins (default 30)</li>
<li><code>binwidth</code>: Width of each bin (alternative to bins)</li>
<li><code>color</code>: Border color of bins</li>
<li><code>fill</code>: Interior color of bins</li>
<li><code>alpha</code>: Transparency (0 = invisible, 1 = solid)</li>
</ul>
</div>
<div id="comparing-groups-with-histograms" class="section level3 hasAnchor" number="10.77.4">
<h3><span class="header-section-number">10.77.4</span> Comparing Groups with Histograms<a href="references.html#comparing-groups-with-histograms" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>How do Hispanic and non-Hispanic Americans differ in their views of Biden? Let’s find out:</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="references.html#cb381-1" tabindex="-1"></a><span class="co"># Stacked histogram</span></span>
<span id="cb381-2"><a href="references.html#cb381-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> anes2020) <span class="sc">+</span></span>
<span id="cb381-3"><a href="references.html#cb381-3" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> biden.th, <span class="at">fill =</span> latino), </span>
<span id="cb381-4"><a href="references.html#cb381-4" tabindex="-1"></a>                 <span class="at">bins =</span> <span class="dv">10</span>,</span>
<span id="cb381-5"><a href="references.html#cb381-5" tabindex="-1"></a>                 <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb381-6"><a href="references.html#cb381-6" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb381-7"><a href="references.html#cb381-7" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Biden Feeling Thermometer&quot;</span>,</span>
<span id="cb381-8"><a href="references.html#cb381-8" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Count&quot;</span>,</span>
<span id="cb381-9"><a href="references.html#cb381-9" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Hispanic Americans View Biden More Favorably&quot;</span>,</span>
<span id="cb381-10"><a href="references.html#cb381-10" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Distribution of Biden thermometer ratings by ethnicity&quot;</span>,</span>
<span id="cb381-11"><a href="references.html#cb381-11" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;Ethnicity&quot;</span></span>
<span id="cb381-12"><a href="references.html#cb381-12" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb381-13"><a href="references.html#cb381-13" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-158-1.png" width="672" /></p>
<p>The stacking makes it hard to compare distributions. We can see there are more non-Hispanic respondents (the bars are taller), but the shape comparison is difficult. Let’s try overlapping histograms instead:</p>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb382-1"><a href="references.html#cb382-1" tabindex="-1"></a><span class="co"># Overlapping histograms</span></span>
<span id="cb382-2"><a href="references.html#cb382-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> anes2020) <span class="sc">+</span></span>
<span id="cb382-3"><a href="references.html#cb382-3" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> biden.th, <span class="at">fill =</span> latino), </span>
<span id="cb382-4"><a href="references.html#cb382-4" tabindex="-1"></a>                 <span class="at">bins =</span> <span class="dv">10</span>,</span>
<span id="cb382-5"><a href="references.html#cb382-5" tabindex="-1"></a>                 <span class="at">alpha =</span> <span class="fl">0.5</span>,  <span class="co"># Transparency to see overlap</span></span>
<span id="cb382-6"><a href="references.html#cb382-6" tabindex="-1"></a>                 <span class="at">position =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span>  <span class="co"># Overlap instead of stack</span></span>
<span id="cb382-7"><a href="references.html#cb382-7" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb382-8"><a href="references.html#cb382-8" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Biden Feeling Thermometer&quot;</span>,</span>
<span id="cb382-9"><a href="references.html#cb382-9" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Count&quot;</span>,</span>
<span id="cb382-10"><a href="references.html#cb382-10" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Hispanic Americans View Biden More Favorably&quot;</span>,</span>
<span id="cb382-11"><a href="references.html#cb382-11" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Hispanic distribution shifted right (more positive)&quot;</span>,</span>
<span id="cb382-12"><a href="references.html#cb382-12" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;Ethnicity&quot;</span></span>
<span id="cb382-13"><a href="references.html#cb382-13" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb382-14"><a href="references.html#cb382-14" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb382-15"><a href="references.html#cb382-15" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;Hispanic&quot;</span> <span class="ot">=</span> <span class="st">&quot;darkred&quot;</span>, </span>
<span id="cb382-16"><a href="references.html#cb382-16" tabindex="-1"></a>                               <span class="st">&quot;Non-Hispanic&quot;</span> <span class="ot">=</span> <span class="st">&quot;darkblue&quot;</span>))</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-159-1.png" width="672" /></p>
<p>The transparency (<code>alpha = 0.5</code>) lets us see where the distributions overlap. The Hispanic distribution (red) is shifted right compared to non-Hispanic (blue), indicating more positive views.</p>
</div>
</div>
<div id="density-plots-for-smooth-distributions" class="section level2 hasAnchor" number="10.78">
<h2><span class="header-section-number">10.78</span> Density Plots for Smooth Distributions<a href="references.html#density-plots-for-smooth-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Histograms have a fundamental limitation: the appearance depends heavily on bin choices. Density plots solve this by creating smooth curves that estimate the underlying distribution.</p>
<div id="understanding-density-plots" class="section level3 hasAnchor" number="10.78.1">
<h3><span class="header-section-number">10.78.1</span> Understanding Density Plots<a href="references.html#understanding-density-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Think of a density plot as a smoothed histogram. Instead of counting observations in bins, it estimates the probability density at each point. The total area under the curve always equals 1.</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="references.html#cb383-1" tabindex="-1"></a><span class="co"># Basic density plot</span></span>
<span id="cb383-2"><a href="references.html#cb383-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> anes2020) <span class="sc">+</span></span>
<span id="cb383-3"><a href="references.html#cb383-3" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">x =</span> biden.th)) <span class="sc">+</span></span>
<span id="cb383-4"><a href="references.html#cb383-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb383-5"><a href="references.html#cb383-5" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Biden Feeling Thermometer&quot;</span>,</span>
<span id="cb383-6"><a href="references.html#cb383-6" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Density&quot;</span>,</span>
<span id="cb383-7"><a href="references.html#cb383-7" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Density Plot Shows Polarization More Clearly Than Histogram&quot;</span></span>
<span id="cb383-8"><a href="references.html#cb383-8" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb383-9"><a href="references.html#cb383-9" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-160-1.png" width="672" /></p>
<p>The peaks are even more obvious here - Americans cluster at the extremes with fewer moderate opinions.</p>
</div>
<div id="comparing-distributions-with-density-plots" class="section level3 hasAnchor" number="10.78.2">
<h3><span class="header-section-number">10.78.2</span> Comparing Distributions with Density Plots<a href="references.html#comparing-distributions-with-density-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Density plots excel at comparing groups because overlapping curves are easier to read than overlapping bars:</p>
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb384-1"><a href="references.html#cb384-1" tabindex="-1"></a><span class="co"># Comparing ethnicities with density plots</span></span>
<span id="cb384-2"><a href="references.html#cb384-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> anes2020) <span class="sc">+</span></span>
<span id="cb384-3"><a href="references.html#cb384-3" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">x =</span> biden.th, <span class="at">fill =</span> latino), </span>
<span id="cb384-4"><a href="references.html#cb384-4" tabindex="-1"></a>               <span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span>  <span class="co"># Transparency for overlap</span></span>
<span id="cb384-5"><a href="references.html#cb384-5" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb384-6"><a href="references.html#cb384-6" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Biden Feeling Thermometer&quot;</span>,</span>
<span id="cb384-7"><a href="references.html#cb384-7" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Density&quot;</span>,</span>
<span id="cb384-8"><a href="references.html#cb384-8" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Hispanic Americans Show More Positive Views of Biden&quot;</span>,</span>
<span id="cb384-9"><a href="references.html#cb384-9" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Notice the Hispanic peak around 80-90 vs non-Hispanic peak at 0&quot;</span>,</span>
<span id="cb384-10"><a href="references.html#cb384-10" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;Ethnicity&quot;</span>,</span>
<span id="cb384-11"><a href="references.html#cb384-11" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Area under each curve = 1&quot;</span></span>
<span id="cb384-12"><a href="references.html#cb384-12" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb384-13"><a href="references.html#cb384-13" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb384-14"><a href="references.html#cb384-14" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;Hispanic&quot;</span> <span class="ot">=</span> <span class="st">&quot;#e41a1c&quot;</span>, </span>
<span id="cb384-15"><a href="references.html#cb384-15" tabindex="-1"></a>                               <span class="st">&quot;Non-Hispanic&quot;</span> <span class="ot">=</span> <span class="st">&quot;#377eb8&quot;</span>))</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-161-1.png" width="672" /></p>
<p>This clearly shows:</p>
<ul>
<li>Non-Hispanic respondents have a huge peak at 0 (very negative views)</li>
<li>Hispanic respondents peak around 80-90 (very positive views)</li>
<li>Both groups show polarization, but in opposite directions</li>
</ul>
</div>
<div id="box-plots-for-quick-comparisons" class="section level3 hasAnchor" number="10.78.3">
<h3><span class="header-section-number">10.78.3</span> Box Plots for Quick Comparisons<a href="references.html#box-plots-for-quick-comparisons" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When comparing many groups, even density plots become cluttered. Box plots summarize distributions using five key numbers:</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="references.html#cb385-1" tabindex="-1"></a><span class="co"># Box plot comparison</span></span>
<span id="cb385-2"><a href="references.html#cb385-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> anes2020) <span class="sc">+</span></span>
<span id="cb385-3"><a href="references.html#cb385-3" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> latino, <span class="at">y =</span> biden.th, <span class="at">fill =</span> latino)) <span class="sc">+</span></span>
<span id="cb385-4"><a href="references.html#cb385-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb385-5"><a href="references.html#cb385-5" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Ethnicity&quot;</span>,</span>
<span id="cb385-6"><a href="references.html#cb385-6" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Biden Feeling Thermometer&quot;</span>,</span>
<span id="cb385-7"><a href="references.html#cb385-7" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Box Plots Summarize Key Distribution Features&quot;</span>,</span>
<span id="cb385-8"><a href="references.html#cb385-8" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Hispanic median ~60, Non-Hispanic median ~30&quot;</span></span>
<span id="cb385-9"><a href="references.html#cb385-9" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb385-10"><a href="references.html#cb385-10" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb385-11"><a href="references.html#cb385-11" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)  <span class="co"># Hide redundant legend</span></span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-162-1.png" width="672" /></p>
<p>Box plots show:</p>
<ul>
<li><strong>Thick line</strong>: Median (50th percentile)</li>
<li><strong>Box edges</strong>: 25th and 75th percentiles</li>
<li><strong>Whiskers</strong>: Extend to most extreme non-outlier points</li>
<li><strong>Dots</strong>: Individual outliers</li>
</ul>
<p>While less detailed than histograms or density plots, box plots excel when comparing many groups simultaneously.</p>
</div>
</div>
<div id="putting-it-all-together-best-practices" class="section level2 hasAnchor" number="10.79">
<h2><span class="header-section-number">10.79</span> Putting It All Together: Best Practices<a href="references.html#putting-it-all-together-best-practices" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="choosing-the-right-visualization" class="section level3 hasAnchor" number="10.79.1">
<h3><span class="header-section-number">10.79.1</span> Choosing the Right Visualization<a href="references.html#choosing-the-right-visualization" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The choice depends on your data and message:</p>
<p><strong>Bar plots</strong> are best when:</p>
<ul>
<li>You have categorical data with relatively few levels</li>
<li>You want to show counts or proportions</li>
<li>The exact values matter</li>
<li>Example: Votes by political party</li>
</ul>
<p><strong>Histograms</strong> work well when:</p>
<ul>
<li>You have continuous data</li>
<li>You want to see the shape of the distribution</li>
<li>You’re exploring data for the first time</li>
<li>Example: Distribution of campaign donations</li>
</ul>
<p><strong>Density plots</strong> excel when:</p>
<ul>
<li>You need to compare multiple continuous distributions</li>
<li>Smooth shapes matter more than exact counts</li>
<li>You have enough data for reliable smoothing</li>
<li>Example: Comparing income distributions across states</li>
</ul>
<p><strong>Box plots</strong> are ideal when:</p>
<ul>
<li>You need to compare many groups</li>
<li>You want a quick summary of key statistics</li>
<li>You’re checking for outliers</li>
<li>Example: Test scores across 50 schools</li>
</ul>
</div>
</div>
<div id="summary-4" class="section level2 hasAnchor" number="10.80">
<h2><span class="header-section-number">10.80</span> Summary<a href="references.html#summary-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Effective data visualization combines technical skills with design thinking. We’ve covered:</p>
<p><strong>Technical skills:</strong></p>
<ul>
<li>Creating bar plots with <code>geom_bar()</code></li>
<li>Making histograms with <code>geom_histogram()</code></li>
<li>Drawing density plots with <code>geom_density()</code></li>
<li>Making boxplots with <code>geom_boxplot()</code></li>
<li>Customizing with themes, colors, and labels</li>
<li>Using aesthetic mappings to encode information</li>
</ul>
<p><strong>Design principles:</strong></p>
<ul>
<li>Declutter, emphasize, and clarify</li>
<li>Choose appropriate chart types</li>
<li>Use color strategically</li>
<li>Write informative titles and labels</li>
</ul>
<p><strong>The ggplot2 advantage:</strong></p>
<ul>
<li>Layer-by-layer construction</li>
<li>Consistent grammar across all plot types</li>
<li>Infinite customization possibilities</li>
<li>Reproducible and shareable code</li>
</ul>
<p>Remember: The best visualization is one that communicates your message clearly to your specific audience. Always test your visualizations on others - if they’re confused, iterate and improve.</p>
</div>
<div id="study-questions-3" class="section level2 hasAnchor" number="10.81">
<h2><span class="header-section-number">10.81</span> Study Questions<a href="references.html#study-questions-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="understanding-visualization-principles" class="section level3 hasAnchor" number="10.81.1">
<h3><span class="header-section-number">10.81.1</span> Understanding Visualization Principles<a href="references.html#understanding-visualization-principles" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>What visual elements do viewers notice first when looking at a graph? List them in order and explain why this matters for design.</p></li>
<li><p>Explain the three core principles of effective data visualization (declutter, emphasize, clarify) and give a specific example of each.</p></li>
<li><p>Why are pie charts problematic for displaying data with many categories? What would you use instead? (Hint: It’s a barplot)</p></li>
</ol>
</div>
<div id="understanding-ggplot2-structure" class="section level3 hasAnchor" number="10.81.2">
<h3><span class="header-section-number">10.81.2</span> Understanding ggplot2 Structure<a href="references.html#understanding-ggplot2-structure" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="4" style="list-style-type: decimal">
<li><p>In ggplot2, what is a “layer”? Give three examples of different layers you might add to a plot.</p></li>
<li><p>Explain the difference between these two code snippets:</p>
<ul>
<li><code>geom_bar(aes(x = category), fill = "blue")</code></li>
<li><code>geom_bar(aes(x = category, fill = "blue"))</code></li>
</ul></li>
<li><p>What does the <code>+</code> symbol do in ggplot2? Why is this approach useful?</p></li>
</ol>
</div>
<div id="creating-bar-plots" class="section level3 hasAnchor" number="10.81.3">
<h3><span class="header-section-number">10.81.3</span> Creating Bar Plots<a href="references.html#creating-bar-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="7" style="list-style-type: decimal">
<li><p>When should you use a bar plot instead of a histogram?</p></li>
<li><p>In the roommate example, why did we convert <code>b_polit_views</code> to a factor before plotting?</p></li>
<li><p>What does <code>position = "dodge"</code> do in a bar plot? When would you use it instead of the default stacking?</p></li>
</ol>
</div>
<div id="working-with-histograms" class="section level3 hasAnchor" number="10.81.4">
<h3><span class="header-section-number">10.81.4</span> Working with Histograms<a href="references.html#working-with-histograms" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="10" style="list-style-type: decimal">
<li><p>What does the <code>bins</code> parameter control in a histogram? What happens if you set it too high or too low?</p></li>
<li><p>The reading mentions that survey respondents tend to pick round numbers (like 70 or 80). How does this affect histograms and how can you address it?</p></li>
</ol>
</div>
<div id="understanding-density-plots-1" class="section level3 hasAnchor" number="10.81.5">
<h3><span class="header-section-number">10.81.5</span> Understanding Density Plots<a href="references.html#understanding-density-plots-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="12" style="list-style-type: decimal">
<li><p>What’s the main advantage of density plots over histograms?</p></li>
<li><p>When comparing two groups, why might overlapping density curves be easier to read than overlapping histograms?</p></li>
</ol>
</div>
<div id="data-preparation" class="section level3 hasAnchor" number="10.81.6">
<h3><span class="header-section-number">10.81.6</span> Data Preparation<a href="references.html#data-preparation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="14" style="list-style-type: decimal">
<li><p>Why is it important to remove missing values before creating visualizations?</p></li>
<li><p>What’s the purpose of adding labels when converting numeric codes to factors?</p></li>
</ol>
</div>
<div id="practical-application" class="section level3 hasAnchor" number="10.81.7">
<h3><span class="header-section-number">10.81.7</span> Practical Application<a href="references.html#practical-application" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="16" style="list-style-type: decimal">
<li><p>You have data on student exam scores (0-100). Would you use a bar plot, histogram, or density plot? Explain your reasoning.</p></li>
<li><p>You want to show how many students are in each major (15 different majors). Which visualization would you choose and why?</p></li>
<li><p>You’re comparing income distributions across 5 different countries. What type of plot would work best and why?</p></li>
</ol>
</div>
<div id="code-writing" class="section level3 hasAnchor" number="10.81.8">
<h3><span class="header-section-number">10.81.8</span> Code Writing<a href="references.html#code-writing" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="19" style="list-style-type: decimal">
<li><p>Write the complete ggplot2 code to create a blue histogram of a variable called <code>income</code> from a dataset called <code>survey</code>, with 30 bins and appropriate labels.</p></li>
<li><p>Write code to create a bar plot with different colors for each bar (not using default colors).</p></li>
</ol>
</div>
<div id="interpretation-2" class="section level3 hasAnchor" number="10.81.9">
<h3><span class="header-section-number">10.81.9</span> Interpretation<a href="references.html#interpretation-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="21" style="list-style-type: decimal">
<li><p>Looking at the political views bar chart, what does the height of each bar represent?</p></li>
<li><p>In a box plot, what percentage of the data falls within the box itself?</p></li>
</ol>

</div>
</div>
<div id="learning-objectives-9" class="section level2 hasAnchor" number="10.82">
<h2><span class="header-section-number">10.82</span> Learning Objectives<a href="references.html#learning-objectives-9" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Create and interpret boxplots to compare distributions across groups</li>
<li>Master scatterplots for examining relationships between continuous variables</li>
<li>Use <code>facet_wrap()</code> to create small multiples for comparative analysis</li>
<li>Combine multiple visual elements (color, shape, faceting) to display 3-4 variables simultaneously</li>
<li>Choose the appropriate visualization for different types of variable relationships</li>
</ol>
</div>
<div id="what-is-this-for-7" class="section level2 hasAnchor" number="10.83">
<h2><span class="header-section-number">10.83</span> What Is This For?<a href="references.html#what-is-this-for-7" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In the previous session, we learned how to visualize single variables - the distribution of ages, the frequency of categories, the spread of continuous data. But in real research, we rarely care about variables in isolation. We want to know: Do wealthy countries have higher life expectancies? Does education affect political participation? Are movie critics harsher than general audiences?</p>
<p>These questions require us to visualize <em>relationships</em> between variables. Today, we’ll learn three powerful techniques:</p>
<ol style="list-style-type: decimal">
<li><strong>Boxplots for group comparisons</strong> - When you have a continuous variable and want to compare it across categories</li>
<li><strong>Scatterplots for continuous relationships</strong> - When both variables are continuous and you want to see patterns</li>
<li><strong>Faceting for deeper insights</strong> - When you need to examine relationships separately for different subgroups</li>
</ol>
<p>By the end of this session, you’ll be able to create visualizations that reveal complex patterns in your data - the kind of insights that tables of numbers simply can’t provide.</p>
</div>
<div id="comparing-groups-with-boxplots" class="section level2 hasAnchor" number="10.84">
<h2><span class="header-section-number">10.84</span> Comparing Groups with Boxplots<a href="references.html#comparing-groups-with-boxplots" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="when-to-use-boxplots" class="section level3 hasAnchor" number="10.84.1">
<h3><span class="header-section-number">10.84.1</span> When to Use Boxplots<a href="references.html#when-to-use-boxplots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Boxplots excel when you want to compare a continuous variable across different categories. They’re particularly useful because they show:</p>
<ul>
<li>The median (center line)</li>
<li>The interquartile range (the box)</li>
<li>The full spread (whiskers)</li>
<li>Outliers (individual points)</li>
</ul>
<p>All in a compact, easy-to-compare format.</p>
</div>
<div id="congressional-age-example" class="section level3 hasAnchor" number="10.84.2">
<h3><span class="header-section-number">10.84.2</span> Congressional Age Example<a href="references.html#congressional-age-example" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s examine age patterns in the U.S. Congress using the FiveThirtyEight dataset. This data contains information about every member of Congress from 1947 to 2013.</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb386-1"><a href="references.html#cb386-1" tabindex="-1"></a><span class="co"># Load required packages</span></span>
<span id="cb386-2"><a href="references.html#cb386-2" tabindex="-1"></a><span class="fu">library</span>(fivethirtyeight)</span>
<span id="cb386-3"><a href="references.html#cb386-3" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb386-4"><a href="references.html#cb386-4" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb386-5"><a href="references.html#cb386-5" tabindex="-1"></a></span>
<span id="cb386-6"><a href="references.html#cb386-6" tabindex="-1"></a><span class="co"># Load the congressional age data</span></span>
<span id="cb386-7"><a href="references.html#cb386-7" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;congress_age&quot;</span>)</span>
<span id="cb386-8"><a href="references.html#cb386-8" tabindex="-1"></a></span>
<span id="cb386-9"><a href="references.html#cb386-9" tabindex="-1"></a><span class="co"># Examine the structure</span></span>
<span id="cb386-10"><a href="references.html#cb386-10" tabindex="-1"></a><span class="fu">glimpse</span>(congress_age)</span></code></pre></div>
<pre><code>## Rows: 18,635
## Columns: 13
## $ congress   &lt;int&gt; 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 8…
## $ chamber    &lt;chr&gt; &quot;house&quot;, &quot;house&quot;, &quot;house&quot;, &quot;house&quot;, &quot;house&quot;, &quot;house&quot;, &quot;house&quot;, &quot;house&quot;, &quot;hous…
## $ bioguide   &lt;chr&gt; &quot;M000112&quot;, &quot;D000448&quot;, &quot;S000001&quot;, &quot;E000023&quot;, &quot;L000296&quot;, &quot;G000017&quot;, &quot;W000265&quot;, …
## $ firstname  &lt;chr&gt; &quot;Joseph&quot;, &quot;Robert&quot;, &quot;Adolph&quot;, &quot;Charles&quot;, &quot;William&quot;, &quot;James&quot;, &quot;Richard&quot;, &quot;Sol&quot;…
## $ middlename &lt;chr&gt; &quot;Jefferson&quot;, &quot;Lee&quot;, &quot;Joachim&quot;, &quot;Aubrey&quot;, NA, &quot;A.&quot;, &quot;Joseph&quot;, NA, NA, &quot;Laceill…
## $ lastname   &lt;chr&gt; &quot;Mansfield&quot;, &quot;Doughton&quot;, &quot;Sabath&quot;, &quot;Eaton&quot;, &quot;Lewis&quot;, &quot;Gallagher&quot;, &quot;Welch&quot;, &quot;B…
## $ suffix     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ birthday   &lt;date&gt; 1861-02-09, 1863-11-07, 1866-04-04, 1868-03-29, 1868-09-22, 1869-01-16, 1869…
## $ state      &lt;chr&gt; &quot;TX&quot;, &quot;NC&quot;, &quot;IL&quot;, &quot;NJ&quot;, &quot;KY&quot;, &quot;PA&quot;, &quot;CA&quot;, &quot;NY&quot;, &quot;WI&quot;, &quot;MA&quot;, &quot;VA&quot;, &quot;KY&quot;, &quot;IN&quot;,…
## $ party      &lt;chr&gt; &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;R&quot;, &quot;R&quot;, &quot;R&quot;, &quot;R&quot;, &quot;D&quot;, &quot;R&quot;, &quot;R&quot;, &quot;D&quot;, &quot;R&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D&quot;, &quot;D…
## $ incumbent  &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRU…
## $ termstart  &lt;date&gt; 1947-01-03, 1947-01-03, 1947-01-03, 1947-01-03, 1947-01-03, 1947-01-03, 1947…
## $ age        &lt;dbl&gt; 85.9, 83.2, 80.7, 78.8, 78.3, 78.0, 77.9, 76.8, 76.0, 75.8, 74.7, 74.0, 73.5,…</code></pre>
<p>First, let’s clean up the chamber variable to have proper capitalization:</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb388-1"><a href="references.html#cb388-1" tabindex="-1"></a><span class="co"># Recode chamber names for better display</span></span>
<span id="cb388-2"><a href="references.html#cb388-2" tabindex="-1"></a>congress_age <span class="ot">&lt;-</span> congress_age <span class="sc">%&gt;%</span></span>
<span id="cb388-3"><a href="references.html#cb388-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">chamber =</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(chamber,</span>
<span id="cb388-4"><a href="references.html#cb388-4" tabindex="-1"></a>    <span class="st">&quot;house&quot;</span> <span class="ot">=</span> <span class="st">&quot;House&quot;</span>,</span>
<span id="cb388-5"><a href="references.html#cb388-5" tabindex="-1"></a>    <span class="st">&quot;senate&quot;</span> <span class="ot">=</span> <span class="st">&quot;Senate&quot;</span></span>
<span id="cb388-6"><a href="references.html#cb388-6" tabindex="-1"></a>  ))</span>
<span id="cb388-7"><a href="references.html#cb388-7" tabindex="-1"></a></span>
<span id="cb388-8"><a href="references.html#cb388-8" tabindex="-1"></a><span class="co"># Check our recoding</span></span>
<span id="cb388-9"><a href="references.html#cb388-9" tabindex="-1"></a><span class="fu">table</span>(congress_age<span class="sc">$</span>chamber)</span></code></pre></div>
<pre><code>## 
##  House Senate 
##  15083   3552</code></pre>
</div>
<div id="creating-a-basic-boxplot" class="section level3 hasAnchor" number="10.84.3">
<h3><span class="header-section-number">10.84.3</span> Creating a Basic Boxplot<a href="references.html#creating-a-basic-boxplot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s compare ages between the House and Senate:</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb390-1"><a href="references.html#cb390-1" tabindex="-1"></a><span class="co"># Basic boxplot</span></span>
<span id="cb390-2"><a href="references.html#cb390-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> congress_age) <span class="sc">+</span></span>
<span id="cb390-3"><a href="references.html#cb390-3" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> chamber, <span class="at">y =</span> age)) <span class="sc">+</span></span>
<span id="cb390-4"><a href="references.html#cb390-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb390-5"><a href="references.html#cb390-5" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Chamber&quot;</span>,</span>
<span id="cb390-6"><a href="references.html#cb390-6" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Age&quot;</span>,</span>
<span id="cb390-7"><a href="references.html#cb390-7" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Senators Tend to Be Older Than Representatives&quot;</span>,</span>
<span id="cb390-8"><a href="references.html#cb390-8" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Distribution of ages in the 80th-113th Congresses&quot;</span></span>
<span id="cb390-9"><a href="references.html#cb390-9" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb390-10"><a href="references.html#cb390-10" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-165-1.png" width="672" /></p>
<p>Let’s break down this code:</p>
<ul>
<li><code>geom_boxplot()</code> creates the boxplot geometry</li>
<li>Inside <code>aes()</code> (aesthetic mapping), we specify:
<ul>
<li><code>x = chamber</code>: The categorical variable for groups (House vs Senate)</li>
<li><code>y = age</code>: The continuous variable we’re comparing</li>
</ul></li>
<li>The <code>aes()</code> function is crucial - it tells ggplot which variables in your data should control which visual properties</li>
</ul>
<p>Notice how the boxplot immediately reveals several insights:</p>
<ol style="list-style-type: decimal">
<li>The Senate median age is consistently higher (center line in each box)</li>
<li>Both chambers have similar spreads (box heights are comparable)</li>
<li>The House has more young outliers (individual points below the whisker)</li>
<li>Very old members (80+) appear in both chambers as outliers</li>
</ol>
</div>
<div id="adding-a-third-variable-with-color" class="section level3 hasAnchor" number="10.84.4">
<h3><span class="header-section-number">10.84.4</span> Adding a Third Variable with Color<a href="references.html#adding-a-third-variable-with-color" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now let’s add incumbency status to see if the age difference is driven by new members or veterans:</p>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="references.html#cb391-1" tabindex="-1"></a><span class="co"># Boxplot with color for incumbency</span></span>
<span id="cb391-2"><a href="references.html#cb391-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> congress_age) <span class="sc">+</span></span>
<span id="cb391-3"><a href="references.html#cb391-3" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> chamber, <span class="at">y =</span> age, <span class="at">fill =</span> incumbent)) <span class="sc">+</span></span>
<span id="cb391-4"><a href="references.html#cb391-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb391-5"><a href="references.html#cb391-5" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Chamber&quot;</span>,</span>
<span id="cb391-6"><a href="references.html#cb391-6" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Age&quot;</span>,</span>
<span id="cb391-7"><a href="references.html#cb391-7" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Incumbents Are Older in Both Chambers&quot;</span>,</span>
<span id="cb391-8"><a href="references.html#cb391-8" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Age distribution by chamber and incumbency status&quot;</span>,</span>
<span id="cb391-9"><a href="references.html#cb391-9" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;Incumbent?&quot;</span></span>
<span id="cb391-10"><a href="references.html#cb391-10" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb391-11"><a href="references.html#cb391-11" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb391-12"><a href="references.html#cb391-12" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;TRUE&quot;</span> <span class="ot">=</span> <span class="st">&quot;#2E86AB&quot;</span>, <span class="st">&quot;FALSE&quot;</span> <span class="ot">=</span> <span class="st">&quot;#A23B72&quot;</span>))</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-166-1.png" width="672" /></p>
<p>Here’s what changed:</p>
<ul>
<li>We added <code>fill = incumbent</code> inside <code>aes()</code>
<ul>
<li>This creates a <strong>mapping</strong> between the incumbent variable and the fill color</li>
<li>ggplot automatically assigns different colors to TRUE/FALSE</li>
<li>Because it’s inside <code>aes()</code>, ggplot knows to create separate boxes for each value</li>
</ul></li>
<li><code>scale_fill_manual()</code> lets us customize the colors:
<ul>
<li>We specify exact colors for TRUE (blue) and FALSE (pink)</li>
<li>Without this, ggplot would use default colors</li>
</ul></li>
</ul>
<p><strong>Key concept</strong>: When you put an argument inside <code>aes()</code>, you’re creating a mapping between data and visual properties. When it’s outside <code>aes()</code>, you’re setting a fixed property for all data points.</p>
<p>The side-by-side boxes reveal that:</p>
<ul>
<li>Incumbents are older than non-incumbents in both chambers</li>
<li>The age gap between chambers exists for both groups</li>
<li>Non-incumbent senators are still older than non-incumbent representatives</li>
</ul>
</div>
<div id="using-facets-instead-of-colors" class="section level3 hasAnchor" number="10.84.5">
<h3><span class="header-section-number">10.84.5</span> Using Facets Instead of Colors<a href="references.html#using-facets-instead-of-colors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sometimes, faceting provides clearer comparisons than colors:</p>
<div class="sourceCode" id="cb392"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb392-1"><a href="references.html#cb392-1" tabindex="-1"></a><span class="co"># Using facets for chamber comparison</span></span>
<span id="cb392-2"><a href="references.html#cb392-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> congress_age) <span class="sc">+</span></span>
<span id="cb392-3"><a href="references.html#cb392-3" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> incumbent, <span class="at">y =</span> age)) <span class="sc">+</span></span>
<span id="cb392-4"><a href="references.html#cb392-4" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>chamber) <span class="sc">+</span></span>
<span id="cb392-5"><a href="references.html#cb392-5" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb392-6"><a href="references.html#cb392-6" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Incumbent?&quot;</span>,</span>
<span id="cb392-7"><a href="references.html#cb392-7" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Age&quot;</span>,</span>
<span id="cb392-8"><a href="references.html#cb392-8" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Age Patterns Are Similar Across Chambers&quot;</span>,</span>
<span id="cb392-9"><a href="references.html#cb392-9" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Incumbency creates a larger age gap than chamber membership&quot;</span></span>
<span id="cb392-10"><a href="references.html#cb392-10" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb392-11"><a href="references.html#cb392-11" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-167-1.png" width="672" /></p>
<p>Notice the changes:</p>
<ul>
<li>We switched what’s on the x-axis: now <code>x = incumbent</code></li>
<li>We removed the <code>fill</code> aesthetic - back to single-colored boxes</li>
<li><code>facet_wrap(~chamber)</code> creates separate panels:
<ul>
<li>The <code>~</code> (tilde) is R’s formula notation</li>
<li>It means “create facets by the chamber variable”</li>
<li>Each unique value of chamber gets its own panel</li>
</ul></li>
</ul>
<p>Faceting makes it easier to focus on the incumbency comparison within each chamber. You can directly compare the TRUE vs FALSE boxes without the visual interference of different colors.</p>
</div>
<div id="visualizing-change-over-time" class="section level3 hasAnchor" number="10.84.6">
<h3><span class="header-section-number">10.84.6</span> Visualizing Change Over Time<a href="references.html#visualizing-change-over-time" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s push our visualization further by examining how these patterns have changed over the decades:</p>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="references.html#cb393-1" tabindex="-1"></a><span class="co"># Convert congress number to factor for discrete colors</span></span>
<span id="cb393-2"><a href="references.html#cb393-2" tabindex="-1"></a>congress_age<span class="sc">$</span>congress <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(congress_age<span class="sc">$</span>congress)</span>
<span id="cb393-3"><a href="references.html#cb393-3" tabindex="-1"></a></span>
<span id="cb393-4"><a href="references.html#cb393-4" tabindex="-1"></a><span class="co"># Create a complex visualization</span></span>
<span id="cb393-5"><a href="references.html#cb393-5" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> congress_age) <span class="sc">+</span></span>
<span id="cb393-6"><a href="references.html#cb393-6" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> incumbent, <span class="at">y =</span> age, <span class="at">fill =</span> congress)) <span class="sc">+</span></span>
<span id="cb393-7"><a href="references.html#cb393-7" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>chamber, <span class="at">ncol =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb393-8"><a href="references.html#cb393-8" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb393-9"><a href="references.html#cb393-9" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Incumbent?&quot;</span>,</span>
<span id="cb393-10"><a href="references.html#cb393-10" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Age&quot;</span>,</span>
<span id="cb393-11"><a href="references.html#cb393-11" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;Congress&quot;</span>,</span>
<span id="cb393-12"><a href="references.html#cb393-12" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Congress Has Grown Older Over Time&quot;</span>,</span>
<span id="cb393-13"><a href="references.html#cb393-13" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Especially among House incumbents (80th Congress = 1947-49, 113th = 2013-15)&quot;</span></span>
<span id="cb393-14"><a href="references.html#cb393-14" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb393-15"><a href="references.html#cb393-15" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb393-16"><a href="references.html#cb393-16" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>) <span class="sc">+</span></span>
<span id="cb393-17"><a href="references.html#cb393-17" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">2</span>))</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-168-1.png" width="672" /></p>
<p>This code combines everything we’ve learned:</p>
<ul>
<li><code>fill = congress</code> inside <code>aes()</code> assigns a different color to each Congress</li>
<li><code>facet_wrap(~chamber, ncol = 1)</code> creates one column of facets:
<ul>
<li><code>ncol = 1</code> stacks the panels vertically</li>
<li>Without this, ggplot would arrange them side-by-side</li>
</ul></li>
<li><code>theme(legend.position = "bottom")</code> moves the legend below the plot</li>
<li><code>guides(fill = guide_legend(nrow = 2))</code> arranges the legend in 2 rows
<ul>
<li>This prevents the legend from being too wide</li>
</ul></li>
</ul>
<p><strong>Important</strong>: We converted <code>congress</code> to a factor first. This tells ggplot to treat each Congress as a discrete category rather than a continuous number, giving us distinct colors instead of a gradient.</p>
<p>This complex visualization reveals:</p>
<ul>
<li>A clear trend toward older members over time</li>
<li>The aging is most pronounced among House incumbents</li>
<li>The Senate has maintained relatively stable age patterns</li>
</ul>
</div>
</div>
<div id="scatterplots-for-continuous-relationships" class="section level2 hasAnchor" number="10.85">
<h2><span class="header-section-number">10.85</span> Scatterplots for Continuous Relationships<a href="references.html#scatterplots-for-continuous-relationships" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="when-two-variables-are-both-continuous" class="section level3 hasAnchor" number="10.85.1">
<h3><span class="header-section-number">10.85.1</span> When Two Variables Are Both Continuous<a href="references.html#when-two-variables-are-both-continuous" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Boxplots work great when one variable is categorical. But what if both variables are continuous? Enter the scatterplot - the workhorse of data exploration.</p>
</div>
<div id="movie-ratings-example" class="section level3 hasAnchor" number="10.85.2">
<h3><span class="header-section-number">10.85.2</span> Movie Ratings Example<a href="references.html#movie-ratings-example" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s explore how professional critics and general audiences rate movies differently. We’ll use a dataset of 651 randomly sampled movies:</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb394-1"><a href="references.html#cb394-1" tabindex="-1"></a><span class="co"># Load the movies data</span></span>
<span id="cb394-2"><a href="references.html#cb394-2" tabindex="-1"></a>MovieData <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://www.dropbox.com/scl/fi/v2ldpanyvhy2nb18vy20r/movies.csv?rlkey=g0tfkjuv3y4tbgsgvfx9c95sk&amp;dl=1&quot;</span>)</span>
<span id="cb394-3"><a href="references.html#cb394-3" tabindex="-1"></a></span>
<span id="cb394-4"><a href="references.html#cb394-4" tabindex="-1"></a><span class="co"># Examine the structure</span></span>
<span id="cb394-5"><a href="references.html#cb394-5" tabindex="-1"></a><span class="fu">str</span>(MovieData)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    651 obs. of  32 variables:
##  $ title           : chr  &quot;Filly Brown&quot; &quot;The Dish&quot; &quot;Waiting for Guffman&quot; &quot;The Age of Innocence&quot; ...
##  $ title_type      : chr  &quot;Feature Film&quot; &quot;Feature Film&quot; &quot;Feature Film&quot; &quot;Feature Film&quot; ...
##  $ genre           : chr  &quot;Drama&quot; &quot;Drama&quot; &quot;Comedy&quot; &quot;Drama&quot; ...
##  $ runtime         : int  80 101 84 139 90 78 142 93 88 119 ...
##  $ mpaa_rating     : chr  &quot;R&quot; &quot;PG-13&quot; &quot;R&quot; &quot;PG&quot; ...
##  $ studio          : chr  &quot;Indomina Media Inc.&quot; &quot;Warner Bros. Pictures&quot; &quot;Sony Pictures Classics&quot; &quot;Columbia Pictures&quot; ...
##  $ thtr_rel_year   : int  2013 2001 1996 1993 2004 2009 1986 1996 2012 2012 ...
##  $ thtr_rel_month  : int  4 3 8 10 9 1 1 11 9 3 ...
##  $ thtr_rel_day    : int  19 14 21 1 10 15 1 8 7 2 ...
##  $ dvd_rel_year    : int  2013 2001 2001 2001 2005 2010 2003 2004 2013 2012 ...
##  $ dvd_rel_month   : int  7 8 8 11 4 4 2 3 1 8 ...
##  $ dvd_rel_day     : int  30 28 21 6 19 20 18 2 21 14 ...
##  $ imdb_rating     : num  5.5 7.3 7.6 7.2 5.1 7.8 7.2 5.5 7.5 6.6 ...
##  $ imdb_num_votes  : int  899 12285 22381 35096 2386 333 5016 2272 880 12496 ...
##  $ critics_rating  : chr  &quot;Rotten&quot; &quot;Certified Fresh&quot; &quot;Certified Fresh&quot; &quot;Certified Fresh&quot; ...
##  $ critics_score   : int  45 96 91 80 33 91 57 17 90 83 ...
##  $ audience_rating : chr  &quot;Upright&quot; &quot;Upright&quot; &quot;Upright&quot; &quot;Upright&quot; ...
##  $ audience_score  : int  73 81 91 76 27 86 76 47 89 66 ...
##  $ best_pic_nom    : chr  &quot;no&quot; &quot;no&quot; &quot;no&quot; &quot;no&quot; ...
##  $ best_pic_win    : chr  &quot;no&quot; &quot;no&quot; &quot;no&quot; &quot;no&quot; ...
##  $ best_actor_win  : chr  &quot;no&quot; &quot;no&quot; &quot;no&quot; &quot;yes&quot; ...
##  $ best_actress_win: chr  &quot;no&quot; &quot;no&quot; &quot;no&quot; &quot;no&quot; ...
##  $ best_dir_win    : chr  &quot;no&quot; &quot;no&quot; &quot;no&quot; &quot;yes&quot; ...
##  $ top200_box      : chr  &quot;no&quot; &quot;no&quot; &quot;no&quot; &quot;no&quot; ...
##  $ director        : chr  &quot;Michael D. Olmos&quot; &quot;Rob Sitch&quot; &quot;Christopher Guest&quot; &quot;Martin Scorsese&quot; ...
##  $ actor1          : chr  &quot;Gina Rodriguez&quot; &quot;Sam Neill&quot; &quot;Christopher Guest&quot; &quot;Daniel Day-Lewis&quot; ...
##  $ actor2          : chr  &quot;Jenni Rivera&quot; &quot;Kevin Harrington&quot; &quot;Catherine O&#39;Hara&quot; &quot;Michelle Pfeiffer&quot; ...
##  $ actor3          : chr  &quot;Lou Diamond Phillips&quot; &quot;Patrick Warburton&quot; &quot;Parker Posey&quot; &quot;Winona Ryder&quot; ...
##  $ actor4          : chr  &quot;Emilio Rivera&quot; &quot;Tom Long&quot; &quot;Eugene Levy&quot; &quot;Richard E. Grant&quot; ...
##  $ actor5          : chr  &quot;Joseph Julian Soria&quot; &quot;Genevieve Mooy&quot; &quot;Bob Balaban&quot; &quot;Alec McCowen&quot; ...
##  $ imdb_url        : chr  &quot;http://www.imdb.com/title/tt1869425/&quot; &quot;http://www.imdb.com/title/tt0205873/&quot; &quot;http://www.imdb.com/title/tt0118111/&quot; &quot;http://www.imdb.com/title/tt0106226/&quot; ...
##  $ rt_url          : chr  &quot;//www.rottentomatoes.com/m/filly_brown_2012/&quot; &quot;//www.rottentomatoes.com/m/dish/&quot; &quot;//www.rottentomatoes.com/m/waiting_for_guffman/&quot; &quot;//www.rottentomatoes.com/m/age_of_innocence/&quot; ...</code></pre>
<div class="sourceCode" id="cb396"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb396-1"><a href="references.html#cb396-1" tabindex="-1"></a><span class="co"># Focus on key variables</span></span>
<span id="cb396-2"><a href="references.html#cb396-2" tabindex="-1"></a>MovieData <span class="sc">%&gt;%</span></span>
<span id="cb396-3"><a href="references.html#cb396-3" tabindex="-1"></a>  <span class="fu">select</span>(title, critics_score, audience_score, genre, mpaa_rating) <span class="sc">%&gt;%</span></span>
<span id="cb396-4"><a href="references.html#cb396-4" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>##                  title critics_score audience_score       genre mpaa_rating
## 1          Filly Brown            45             73       Drama           R
## 2             The Dish            96             81       Drama       PG-13
## 3  Waiting for Guffman            91             91      Comedy           R
## 4 The Age of Innocence            80             76       Drama          PG
## 5          Malevolence            33             27      Horror           R
## 6          Old Partner            91             86 Documentary     Unrated</code></pre>
</div>
<div id="creating-a-basic-scatterplot" class="section level3 hasAnchor" number="10.85.3">
<h3><span class="header-section-number">10.85.3</span> Creating a Basic Scatterplot<a href="references.html#creating-a-basic-scatterplot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb398-1"><a href="references.html#cb398-1" tabindex="-1"></a><span class="co"># Basic scatterplot</span></span>
<span id="cb398-2"><a href="references.html#cb398-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> MovieData) <span class="sc">+</span></span>
<span id="cb398-3"><a href="references.html#cb398-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> critics_score, <span class="at">y =</span> audience_score)) <span class="sc">+</span></span>
<span id="cb398-4"><a href="references.html#cb398-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb398-5"><a href="references.html#cb398-5" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Critics Score&quot;</span>,</span>
<span id="cb398-6"><a href="references.html#cb398-6" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Audience Score&quot;</span>,</span>
<span id="cb398-7"><a href="references.html#cb398-7" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Critics and Audiences Sometimes Disagree&quot;</span>,</span>
<span id="cb398-8"><a href="references.html#cb398-8" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Each point represents one movie&quot;</span></span>
<span id="cb398-9"><a href="references.html#cb398-9" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb398-10"><a href="references.html#cb398-10" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-170-1.png" width="672" /></p>
<p>Here’s how scatterplots differ from boxplots:</p>
<ul>
<li><code>geom_point()</code> creates points instead of boxes</li>
<li>Both <code>x</code> and <code>y</code> in <code>aes()</code> are now continuous variables</li>
<li>Each observation gets its own point (unlike boxplots which summarize groups)</li>
</ul>
<p>The pattern shows:</p>
<ul>
<li>A general positive relationship (critics and audiences often agree)</li>
<li>Considerable scatter (they don’t always agree)</li>
<li>Some movies loved by audiences but not critics (upper left)</li>
<li>Some movies loved by critics but not audiences (lower right)</li>
</ul>
</div>
<div id="dealing-with-overplotting" class="section level3 hasAnchor" number="10.85.4">
<h3><span class="header-section-number">10.85.4</span> Dealing with Overplotting<a href="references.html#dealing-with-overplotting" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When many points overlap, we lose information. Two solutions:</p>
<p><strong>Solution 1: Jittering</strong></p>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="references.html#cb399-1" tabindex="-1"></a><span class="co"># Add small random noise to separate overlapping points</span></span>
<span id="cb399-2"><a href="references.html#cb399-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> MovieData) <span class="sc">+</span></span>
<span id="cb399-3"><a href="references.html#cb399-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> critics_score, <span class="at">y =</span> audience_score), </span>
<span id="cb399-4"><a href="references.html#cb399-4" tabindex="-1"></a>             <span class="at">position =</span> <span class="st">&quot;jitter&quot;</span>) <span class="sc">+</span></span>
<span id="cb399-5"><a href="references.html#cb399-5" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb399-6"><a href="references.html#cb399-6" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Critics Score&quot;</span>,</span>
<span id="cb399-7"><a href="references.html#cb399-7" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Audience Score&quot;</span>,</span>
<span id="cb399-8"><a href="references.html#cb399-8" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Jittering Reveals Hidden Points&quot;</span></span>
<span id="cb399-9"><a href="references.html#cb399-9" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb399-10"><a href="references.html#cb399-10" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-171-1.png" width="672" /></p>
<p>Note that <code>position = "jitter"</code> is <strong>outside</strong> the <code>aes()</code> function:</p>
<ul>
<li>This is a fixed setting that applies to all points</li>
<li>It adds small random noise to x and y coordinates</li>
<li>The amount of jitter is automatically determined by ggplot</li>
</ul>
<p><strong>Solution 2: Transparency</strong></p>
<div class="sourceCode" id="cb400"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb400-1"><a href="references.html#cb400-1" tabindex="-1"></a><span class="co"># Make points semi-transparent</span></span>
<span id="cb400-2"><a href="references.html#cb400-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> MovieData) <span class="sc">+</span></span>
<span id="cb400-3"><a href="references.html#cb400-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> critics_score, <span class="at">y =</span> audience_score), </span>
<span id="cb400-4"><a href="references.html#cb400-4" tabindex="-1"></a>             <span class="at">position =</span> <span class="st">&quot;jitter&quot;</span>,</span>
<span id="cb400-5"><a href="references.html#cb400-5" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span>  <span class="co"># 50% transparency</span></span>
<span id="cb400-6"><a href="references.html#cb400-6" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb400-7"><a href="references.html#cb400-7" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Critics Score&quot;</span>,</span>
<span id="cb400-8"><a href="references.html#cb400-8" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Audience Score&quot;</span>,</span>
<span id="cb400-9"><a href="references.html#cb400-9" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Transparency Shows Point Density&quot;</span></span>
<span id="cb400-10"><a href="references.html#cb400-10" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb400-11"><a href="references.html#cb400-11" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-172-1.png" width="672" /></p>
<p>Here we added <code>alpha = 0.5</code>:</p>
<ul>
<li>Also outside <code>aes()</code> because we want all points to have the same transparency</li>
<li>Values range from 0 (invisible) to 1 (solid)</li>
<li>Where points overlap, the color appears darker</li>
<li>This helps reveal density patterns</li>
</ul>
</div>
<div id="adding-a-reference-line" class="section level3 hasAnchor" number="10.85.5">
<h3><span class="header-section-number">10.85.5</span> Adding a Reference Line<a href="references.html#adding-a-reference-line" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sometimes it helps to add a reference line. Here’s a diagonal line representing perfect agreement:</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="references.html#cb401-1" tabindex="-1"></a><span class="co"># Add diagonal line where critics = audience</span></span>
<span id="cb401-2"><a href="references.html#cb401-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> MovieData) <span class="sc">+</span></span>
<span id="cb401-3"><a href="references.html#cb401-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> critics_score, <span class="at">y =</span> audience_score), </span>
<span id="cb401-4"><a href="references.html#cb401-4" tabindex="-1"></a>             <span class="at">position =</span> <span class="st">&quot;jitter&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb401-5"><a href="references.html#cb401-5" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>, </span>
<span id="cb401-6"><a href="references.html#cb401-6" tabindex="-1"></a>              <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="sc">+</span></span>
<span id="cb401-7"><a href="references.html#cb401-7" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb401-8"><a href="references.html#cb401-8" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Critics Score&quot;</span>,</span>
<span id="cb401-9"><a href="references.html#cb401-9" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Audience Score&quot;</span>,</span>
<span id="cb401-10"><a href="references.html#cb401-10" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Most Movies Fall Below the Line of Perfect Agreement&quot;</span>,</span>
<span id="cb401-11"><a href="references.html#cb401-11" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Audiences tend to rate movies higher than critics&quot;</span></span>
<span id="cb401-12"><a href="references.html#cb401-12" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb401-13"><a href="references.html#cb401-13" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-173-1.png" width="672" /></p>
<p>New elements here:</p>
<ul>
<li><code>geom_abline()</code> adds a straight line defined by intercept and slope
<ul>
<li><code>intercept = 0, slope = 1</code> creates the line y = x</li>
<li>This represents perfect agreement (critics score = audience score)</li>
</ul></li>
<li>Notice that <code>color</code> and <code>linetype</code> are outside any <code>aes()</code>:
<ul>
<li>We want one red, dashed line</li>
<li>Not a line that varies by data values</li>
</ul></li>
</ul>
<p>Points above the line: audiences liked more than critics<br />
Points below the line: critics liked more than audiences</p>
<p>Here’s the markdown code to add to the original worksheet where the reference line section is. You would replace the “Adding a Reference Line” section with this expanded version:</p>
<p>Now let’s add a trend line to see the actual relationship in our data:</p>
<div class="sourceCode" id="cb402"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb402-1"><a href="references.html#cb402-1" tabindex="-1"></a><span class="co"># Add both reference line and smoothed trend line</span></span>
<span id="cb402-2"><a href="references.html#cb402-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> MovieData) <span class="sc">+</span></span>
<span id="cb402-3"><a href="references.html#cb402-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> critics_score, <span class="at">y =</span> audience_score), </span>
<span id="cb402-4"><a href="references.html#cb402-4" tabindex="-1"></a>             <span class="at">position =</span> <span class="st">&quot;jitter&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb402-5"><a href="references.html#cb402-5" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>, </span>
<span id="cb402-6"><a href="references.html#cb402-6" tabindex="-1"></a>              <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="sc">+</span></span>
<span id="cb402-7"><a href="references.html#cb402-7" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">x =</span> critics_score, <span class="at">y =</span> audience_score), </span>
<span id="cb402-8"><a href="references.html#cb402-8" tabindex="-1"></a>              <span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span></span>
<span id="cb402-9"><a href="references.html#cb402-9" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb402-10"><a href="references.html#cb402-10" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Critics Score&quot;</span>,</span>
<span id="cb402-11"><a href="references.html#cb402-11" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Audience Score&quot;</span>,</span>
<span id="cb402-12"><a href="references.html#cb402-12" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Audiences Are Generally More Generous Than Critics&quot;</span>,</span>
<span id="cb402-13"><a href="references.html#cb402-13" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Blue trend line shows actual relationship; red dashed line shows perfect agreement&quot;</span></span>
<span id="cb402-14"><a href="references.html#cb402-14" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb402-15"><a href="references.html#cb402-15" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-174-1.png" width="672" /></p>
<p>The <code>geom_smooth()</code> function adds a smoothed line through the data:</p>
<ul>
<li><code>method = "lm"</code> fits a straight line (linear model)</li>
<li><code>se = FALSE</code> removes the confidence interval shading</li>
<li>The blue line shows the actual average relationship</li>
<li>Notice it has a gentler slope than the red line, confirming audiences compress their ratings less than critics</li>
</ul>
</div>
</div>
<div id="using-facets-to-reveal-patterns" class="section level2 hasAnchor" number="10.86">
<h2><span class="header-section-number">10.86</span> Using Facets to Reveal Patterns<a href="references.html#using-facets-to-reveal-patterns" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="examining-patterns-by-genre" class="section level3 hasAnchor" number="10.86.1">
<h3><span class="header-section-number">10.86.1</span> Examining Patterns by Genre<a href="references.html#examining-patterns-by-genre" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Do critics and audiences disagree more for certain types of movies? Let’s use faceting to find out:</p>
<div class="sourceCode" id="cb404"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb404-1"><a href="references.html#cb404-1" tabindex="-1"></a><span class="co"># Convert genre to factor</span></span>
<span id="cb404-2"><a href="references.html#cb404-2" tabindex="-1"></a>MovieData<span class="sc">$</span>genre <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(MovieData<span class="sc">$</span>genre)</span>
<span id="cb404-3"><a href="references.html#cb404-3" tabindex="-1"></a></span>
<span id="cb404-4"><a href="references.html#cb404-4" tabindex="-1"></a><span class="co"># Create faceted scatterplot</span></span>
<span id="cb404-5"><a href="references.html#cb404-5" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> MovieData) <span class="sc">+</span></span>
<span id="cb404-6"><a href="references.html#cb404-6" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> critics_score, <span class="at">y =</span> audience_score), </span>
<span id="cb404-7"><a href="references.html#cb404-7" tabindex="-1"></a>             <span class="at">position =</span> <span class="st">&quot;jitter&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb404-8"><a href="references.html#cb404-8" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>genre, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb404-9"><a href="references.html#cb404-9" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb404-10"><a href="references.html#cb404-10" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Critics Score&quot;</span>,</span>
<span id="cb404-11"><a href="references.html#cb404-11" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Audience Score&quot;</span>,</span>
<span id="cb404-12"><a href="references.html#cb404-12" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Critics and Audiences Disagree Most on Art House &amp; Musical Films&quot;</span>,</span>
<span id="cb404-13"><a href="references.html#cb404-13" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Each panel shows one movie genre&quot;</span></span>
<span id="cb404-14"><a href="references.html#cb404-14" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb404-15"><a href="references.html#cb404-15" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-175-1.png" width="672" /></p>
<p>The facets reveal genre-specific patterns:</p>
<ul>
<li><strong>Drama &amp; Documentary</strong>: Strong agreement (tight clusters along diagonal)</li>
<li><strong>Art House &amp; International</strong>: Critics often like more than audiences</li>
<li><strong>Action &amp; Adventure</strong>: Audiences more forgiving than critics</li>
<li><strong>Horror</strong>: Generally low scores from both groups</li>
</ul>
</div>
<div id="adding-color-for-a-fourth-variable" class="section level3 hasAnchor" number="10.86.2">
<h3><span class="header-section-number">10.86.2</span> Adding Color for a Fourth Variable<a href="references.html#adding-color-for-a-fourth-variable" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s add MPAA rating as color to see if movie ratings affect the critic-audience relationship:</p>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="references.html#cb405-1" tabindex="-1"></a><span class="co"># Convert MPAA rating to factor</span></span>
<span id="cb405-2"><a href="references.html#cb405-2" tabindex="-1"></a>MovieData<span class="sc">$</span>mpaa_rating <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(MovieData<span class="sc">$</span>mpaa_rating)</span>
<span id="cb405-3"><a href="references.html#cb405-3" tabindex="-1"></a></span>
<span id="cb405-4"><a href="references.html#cb405-4" tabindex="-1"></a><span class="co"># Faceted plot with color</span></span>
<span id="cb405-5"><a href="references.html#cb405-5" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> MovieData) <span class="sc">+</span></span>
<span id="cb405-6"><a href="references.html#cb405-6" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> critics_score, <span class="at">y =</span> audience_score, </span>
<span id="cb405-7"><a href="references.html#cb405-7" tabindex="-1"></a>                 <span class="at">color =</span> mpaa_rating), </span>
<span id="cb405-8"><a href="references.html#cb405-8" tabindex="-1"></a>             <span class="at">position =</span> <span class="st">&quot;jitter&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb405-9"><a href="references.html#cb405-9" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>genre, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb405-10"><a href="references.html#cb405-10" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb405-11"><a href="references.html#cb405-11" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Critics Score&quot;</span>,</span>
<span id="cb405-12"><a href="references.html#cb405-12" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Audience Score&quot;</span>,</span>
<span id="cb405-13"><a href="references.html#cb405-13" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;MPAA Rating&quot;</span>,</span>
<span id="cb405-14"><a href="references.html#cb405-14" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;R-Rated Movies Show More Disagreement&quot;</span>,</span>
<span id="cb405-15"><a href="references.html#cb405-15" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Comparing critic and audience scores by genre and rating&quot;</span></span>
<span id="cb405-16"><a href="references.html#cb405-16" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb405-17"><a href="references.html#cb405-17" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb405-18"><a href="references.html#cb405-18" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set1&quot;</span>)</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-176-1.png" width="672" /></p>
<p>We’re now encoding four variables:</p>
<ol style="list-style-type: decimal">
<li><strong>x position</strong>: Critics score</li>
<li><strong>y position</strong>: Audience score<br />
</li>
<li><strong>color</strong>: MPAA rating (inside <code>aes()</code> to map data to colors)</li>
<li><strong>facets</strong>: Genre</li>
</ol>
<p>New elements:</p>
<ul>
<li><code>color = mpaa_rating</code> inside <code>aes()</code> maps each rating to a different color</li>
<li><code>scale_color_brewer(palette = "Set1")</code> uses a ColorBrewer palette
<ul>
<li>These palettes are designed for clarity and colorblind-friendliness</li>
</ul></li>
<li>Notice how the legend title matches our <code>color = "MPAA Rating"</code> label</li>
</ul>
</div>
</div>
<div id="choosing-the-right-visualization-1" class="section level2 hasAnchor" number="10.87">
<h2><span class="header-section-number">10.87</span> Choosing the Right Visualization<a href="references.html#choosing-the-right-visualization-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="decision-framework" class="section level3 hasAnchor" number="10.87.1">
<h3><span class="header-section-number">10.87.1</span> Decision Framework<a href="references.html#decision-framework" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When visualizing relationships between variables, consider:</p>
<p><strong>Use boxplots when:</strong></p>
<ul>
<li>One variable is categorical, one is continuous</li>
<li>You want to compare distributions</li>
<li>You need to show outliers</li>
<li>Groups have unequal sizes</li>
</ul>
<p><strong>Use scatterplots when:</strong></p>
<ul>
<li>Both variables are continuous</li>
<li>You want to see the form of the relationship</li>
<li>Individual observations matter</li>
<li>You’re looking for patterns or clusters</li>
</ul>
<p><strong>Use faceting when:</strong></p>
<ul>
<li>You need to compare patterns across groups</li>
<li>The relationship might differ by subgroup</li>
<li>You have a moderating third variable</li>
<li>One plot would be too cluttered</li>
</ul>
</div>
<div id="best-practices-for-multi-variable-plots" class="section level3 hasAnchor" number="10.87.2">
<h3><span class="header-section-number">10.87.2</span> Best Practices for Multi-Variable Plots<a href="references.html#best-practices-for-multi-variable-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p><strong>Start simple, add complexity gradually</strong></p>
<ul>
<li>First create the basic relationship</li>
<li>Add color only if it reveals something new</li>
<li>Use facets when groups obscure each other</li>
</ul></li>
<li><p><strong>Maintain visual hierarchy</strong></p>
<ul>
<li>Your main comparison should be most prominent</li>
<li>Secondary variables should enhance, not distract</li>
<li>Use muted colors for less important distinctions</li>
</ul></li>
<li><p><strong>Consider your audience</strong></p>
<ul>
<li>More variables = more cognitive load</li>
<li>Include clear titles that state the finding</li>
<li>Make legends and labels crystal clear</li>
</ul></li>
<li><p><strong>Test different approaches</strong></p>
<ul>
<li>Try both color and faceting</li>
<li>Experiment with transparency and jittering</li>
<li>Ask: “What story is clearest?”</li>
</ul></li>
</ol>
</div>
</div>
<div id="summary-5" class="section level2 hasAnchor" number="10.88">
<h2><span class="header-section-number">10.88</span> Summary<a href="references.html#summary-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Visualizing relationships requires choosing the right tool for your data:</p>
<ul>
<li><strong>Boxplots</strong> excel at comparing continuous distributions across categories</li>
<li><strong>Scatterplots</strong> reveal relationships between continuous variables</li>
<li><strong>Faceting</strong> allows detailed comparisons across subgroups</li>
<li><strong>Color and shape</strong> can encode additional variables, but use judiciously</li>
</ul>
<p>The key is to build visualizations layer by layer:</p>
<ol style="list-style-type: decimal">
<li>Start with the core relationship</li>
<li>Add visual elements that enhance understanding</li>
<li>Use facets when single plots become cluttered</li>
<li>Always prioritize clarity over complexity</li>
</ol>
<p>Remember: The goal isn’t to impress with complicated graphics, but to reveal patterns that lead to understanding.</p>
</div>
<div id="study-questions-4" class="section level2 hasAnchor" number="10.89">
<h2><span class="header-section-number">10.89</span> Study Questions<a href="references.html#study-questions-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="understanding-plot-types" class="section level3 hasAnchor" number="10.89.1">
<h3><span class="header-section-number">10.89.1</span> Understanding Plot Types<a href="references.html#understanding-plot-types" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>What are the five key pieces of information shown in a boxplot? How do you interpret each one?</p></li>
<li><p>Why might overlapping points be a problem in a scatterplot? What are two ways to address this issue?</p></li>
<li><p>You have data on voter turnout (continuous, 0-100%) and education level (categorical: “High School”, “College”, “Graduate”). Which type of plot would you use and why?</p></li>
<li><p>Write the ggplot2 code to create a boxplot showing income (y-axis) by political party (x-axis), with different colors for gender.</p></li>
</ol>
</div>
<div id="using-facets" class="section level3 hasAnchor" number="10.89.2">
<h3><span class="header-section-number">10.89.2</span> Using Facets<a href="references.html#using-facets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="5" style="list-style-type: decimal">
<li><p>What does <code>facet_wrap(~variable)</code> do? What does the tilde (~) symbol mean in this context?</p></li>
<li><p>When would you use <code>facet_wrap()</code> instead of just using color to distinguish groups?</p></li>
</ol>
</div>
<div id="interpreting-visualizations" class="section level3 hasAnchor" number="10.89.3">
<h3><span class="header-section-number">10.89.3</span> Interpreting Visualizations<a href="references.html#interpreting-visualizations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="7" style="list-style-type: decimal">
<li><p>In the Congress age boxplot showing both chambers and incumbency, what are three key insights you can draw?</p></li>
<li><p>Looking at the movie scatterplot, what does it mean when a point falls far above the diagonal line? Far below?</p></li>
</ol>
</div>
<div id="practical-applications-3" class="section level3 hasAnchor" number="10.89.4">
<h3><span class="header-section-number">10.89.4</span> Practical Applications<a href="references.html#practical-applications-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="9" style="list-style-type: decimal">
<li>You want to explore whether the relationship between campaign spending and vote share differs by type of election (primary vs. general). Describe the visualization you would create.</li>
</ol>
</div>
<div id="code-challenges" class="section level3 hasAnchor" number="10.89.5">
<h3><span class="header-section-number">10.89.5</span> Code Challenges<a href="references.html#code-challenges" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="10" style="list-style-type: decimal">
<li><p>Modify this scatterplot code to add 30% transparency and use faceting by <code>mpaa_rating</code>:</p>
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb406-1"><a href="references.html#cb406-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> MovieData) <span class="sc">+</span></span>
<span id="cb406-2"><a href="references.html#cb406-2" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> critics_score, <span class="at">y =</span> audience_score))</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-177-1.png" width="672" /></p></li>
</ol>

</div>
</div>
<div id="learning-objectives-10" class="section level2 hasAnchor" number="10.90">
<h2><span class="header-section-number">10.90</span> Learning Objectives<a href="references.html#learning-objectives-10" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Understand what estimates and estimators are and how they differ from population parameters</li>
<li>Learn the three key properties of good estimators: unbiasedness, consistency, and efficiency</li>
<li>Understand what a sampling distribution is and how it differs from sample and population distributions</li>
<li>Grasp the Central Limit Theorem and its implications for statistical inference</li>
<li>Master the notation and terminology for parameters, estimators, and estimates</li>
</ol>
</div>
<div id="what-is-this-for-8" class="section level2 hasAnchor" number="10.91">
<h2><span class="header-section-number">10.91</span> What Is This For?<a href="references.html#what-is-this-for-8" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In political science, we rarely have data on entire populations. We can’t survey every American voter, interview every member of Congress throughout history, or measure democracy levels in every country at every point in time. Instead, we work with samples - subsets of the population we’re interested in.</p>
<p>But how do we move from what we observe in our sample to claims about the broader population? How confident can we be that the average Biden approval rating in our survey reflects the true sentiment of all Americans? This session introduces the theoretical foundation that makes this leap possible.</p>
<p>We’ll start with a fundamental question: When we calculate a statistic from our sample (like a mean), how close is it likely to be to the true population value? The answer involves understanding estimators, their properties, and the remarkable patterns that emerge when we think about all possible samples we could have drawn. By the end, you’ll understand why statistical inference works and be ready to quantify uncertainty in your estimates.</p>
</div>
<div id="learning-note" class="section level2 hasAnchor" number="10.92">
<h2><span class="header-section-number">10.92</span> Learning note<a href="references.html#learning-note" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Below, we include R code that we are using to illustrate our points. Some of this is fairly advanced - too advanced for this class. This is there to show you that the plots we are showing you can be generated using the simple tools of random sampling. But don’t worry too much about the code for now. Focus on the concepts we are trying to teach in the text. We’ll return to (some of) the R issues later in the class in more details.</p>
</div>
<div id="the-fundamental-problem-parameters-we-cant-see" class="section level2 hasAnchor" number="10.93">
<h2><span class="header-section-number">10.93</span> The Fundamental Problem: Parameters We Can’t See<a href="references.html#the-fundamental-problem-parameters-we-cant-see" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s start with a concrete question that matters for understanding American politics: What percentage of Americans approve of the the democratic nominee for President? Since we will be working from data from 2020, the specific question is: What percentage of Americans approve of Joe Biden?</p>
<p>This seems like a simple question, but it highlights a fundamental challenge in statistics. The true population parameter - let’s call it μ (the Greek letter “mu”) - represents the actual average Biden feeling thermometer rating among all American adults. This is a fixed number that exists in reality. But we can’t observe it directly because we can’t survey all 300+ million American adults.</p>
<p>Instead, we have a sample. Let’s load the 2020 American National Election Study (ANES) data and explore:</p>
<div class="sourceCode" id="cb407"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb407-1"><a href="references.html#cb407-1" tabindex="-1"></a><span class="co"># Load necessary packages</span></span>
<span id="cb407-2"><a href="references.html#cb407-2" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb407-3"><a href="references.html#cb407-3" tabindex="-1"></a></span>
<span id="cb407-4"><a href="references.html#cb407-4" tabindex="-1"></a><span class="co"># Load the ANES 2020 data</span></span>
<span id="cb407-5"><a href="references.html#cb407-5" tabindex="-1"></a>anes2020 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;anes2020.csv&quot;</span>)</span>
<span id="cb407-6"><a href="references.html#cb407-6" tabindex="-1"></a></span>
<span id="cb407-7"><a href="references.html#cb407-7" tabindex="-1"></a><span class="co"># Look at the Biden feeling thermometer</span></span>
<span id="cb407-8"><a href="references.html#cb407-8" tabindex="-1"></a><span class="fu">summary</span>(anes2020<span class="sc">$</span>biden.th)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s 
##    0.00   15.00   55.00   49.24   85.00  100.00     220</code></pre>
<div class="sourceCode" id="cb409"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb409-1"><a href="references.html#cb409-1" tabindex="-1"></a><span class="co"># How many respondents do we have?</span></span>
<span id="cb409-2"><a href="references.html#cb409-2" tabindex="-1"></a>n_respondents <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(anes2020<span class="sc">$</span>biden.th))</span>
<span id="cb409-3"><a href="references.html#cb409-3" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;We have Biden ratings from&quot;</span>, n_respondents, <span class="st">&quot;respondents</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## We have Biden ratings from 8060 respondents</code></pre>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb411-1"><a href="references.html#cb411-1" tabindex="-1"></a><span class="co"># Calculate our sample mean</span></span>
<span id="cb411-2"><a href="references.html#cb411-2" tabindex="-1"></a>sample_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(anes2020<span class="sc">$</span>biden.th, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb411-3"><a href="references.html#cb411-3" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Sample mean Biden rating:&quot;</span>, <span class="fu">round</span>(sample_mean, <span class="dv">2</span>))</span></code></pre></div>
<pre><code>## Sample mean Biden rating: 49.24</code></pre>
<p>Now here’s the key insight: Our sample mean of about 49.4 is not the same as the true population parameter μ. It’s our best guess, but it’s just one possible value we could have gotten. If we had surveyed a different 8,000 Americans, we would have gotten a different number.</p>
<p>This gap between what we can calculate (sample statistics) and what we want to know (population parameters) is the fundamental problem of statistical inference. Let’s introduce some notation to keep things clear:</p>
<ul>
<li><strong>μ</strong> (mu) = true population mean (unknown)</li>
<li><strong>x̄</strong> (x-bar) = sample mean (what we calculated)</li>
<li><strong>σ</strong> (sigma) = true population standard deviation (unknown)<br />
</li>
<li><strong>s</strong> = sample standard deviation (what we can calculate)</li>
</ul>
</div>
<div id="estimators-rules-for-making-guesses" class="section level2 hasAnchor" number="10.94">
<h2><span class="header-section-number">10.94</span> Estimators: Rules for Making Guesses<a href="references.html#estimators-rules-for-making-guesses" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>An <strong>estimator</strong> is simply a rule or formula for calculating an estimate from data. Think of it as a recipe: given some data, an estimator tells you how to combine those ingredients to produce an estimate.</p>
<p>The sample mean is one estimator, but it’s not the only one. Let’s explore different ways we could estimate the population’s average Biden rating:</p>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb413-1"><a href="references.html#cb413-1" tabindex="-1"></a><span class="co"># Different estimators for central tendency</span></span>
<span id="cb413-2"><a href="references.html#cb413-2" tabindex="-1"></a>biden_clean <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(anes2020<span class="sc">$</span>biden.th)</span>
<span id="cb413-3"><a href="references.html#cb413-3" tabindex="-1"></a></span>
<span id="cb413-4"><a href="references.html#cb413-4" tabindex="-1"></a><span class="co"># Estimator 1: Sample mean (uses all data)</span></span>
<span id="cb413-5"><a href="references.html#cb413-5" tabindex="-1"></a>est1_sample_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(biden_clean)</span>
<span id="cb413-6"><a href="references.html#cb413-6" tabindex="-1"></a></span>
<span id="cb413-7"><a href="references.html#cb413-7" tabindex="-1"></a><span class="co"># Estimator 2: Sample median (uses middle value)</span></span>
<span id="cb413-8"><a href="references.html#cb413-8" tabindex="-1"></a>est2_sample_median <span class="ot">&lt;-</span> <span class="fu">median</span>(biden_clean)</span>
<span id="cb413-9"><a href="references.html#cb413-9" tabindex="-1"></a></span>
<span id="cb413-10"><a href="references.html#cb413-10" tabindex="-1"></a><span class="co"># Estimator 3: First observation only</span></span>
<span id="cb413-11"><a href="references.html#cb413-11" tabindex="-1"></a>est3_first_obs <span class="ot">&lt;-</span> biden_clean[<span class="dv">1</span>]</span>
<span id="cb413-12"><a href="references.html#cb413-12" tabindex="-1"></a></span>
<span id="cb413-13"><a href="references.html#cb413-13" tabindex="-1"></a><span class="co"># Estimator 4: Largest value in sample</span></span>
<span id="cb413-14"><a href="references.html#cb413-14" tabindex="-1"></a>est4_maximum <span class="ot">&lt;-</span> <span class="fu">max</span>(biden_clean)</span>
<span id="cb413-15"><a href="references.html#cb413-15" tabindex="-1"></a></span>
<span id="cb413-16"><a href="references.html#cb413-16" tabindex="-1"></a><span class="co"># Estimator 5: Mean of first 10% of observations</span></span>
<span id="cb413-17"><a href="references.html#cb413-17" tabindex="-1"></a>n_10pct <span class="ot">&lt;-</span> <span class="fu">floor</span>(<span class="fu">length</span>(biden_clean) <span class="sc">*</span> <span class="fl">0.1</span>)</span>
<span id="cb413-18"><a href="references.html#cb413-18" tabindex="-1"></a>est5_partial_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(biden_clean[<span class="dv">1</span><span class="sc">:</span>n_10pct])</span>
<span id="cb413-19"><a href="references.html#cb413-19" tabindex="-1"></a></span>
<span id="cb413-20"><a href="references.html#cb413-20" tabindex="-1"></a><span class="co"># Compare our estimates</span></span>
<span id="cb413-21"><a href="references.html#cb413-21" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Estimator 1 (Sample mean):&quot;</span>, <span class="fu">round</span>(est1_sample_mean, <span class="dv">2</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Estimator 1 (Sample mean): 49.24</code></pre>
<div class="sourceCode" id="cb415"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb415-1"><a href="references.html#cb415-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Estimator 2 (Sample median):&quot;</span>, <span class="fu">round</span>(est2_sample_median, <span class="dv">2</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Estimator 2 (Sample median): 55</code></pre>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb417-1"><a href="references.html#cb417-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Estimator 3 (First observation):&quot;</span>, est3_first_obs, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Estimator 3 (First observation): 0</code></pre>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb419-1"><a href="references.html#cb419-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Estimator 4 (Maximum):&quot;</span>, est4_maximum, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Estimator 4 (Maximum): 100</code></pre>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb421-1"><a href="references.html#cb421-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Estimator 5 (10% mean):&quot;</span>, <span class="fu">round</span>(est5_partial_mean, <span class="dv">2</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Estimator 5 (10% mean): 49.17</code></pre>
<p>These estimators give us very different estimates! Some seem reasonable, others ridiculous. But they’re all valid estimators in the technical sense - they’re all rules for producing a number from data.</p>
<p>The crucial insight: <strong>An estimator is the rule; an estimate is the number you get when you apply that rule to your specific sample.</strong></p>
</div>
<div id="properties-of-good-estimators" class="section level2 hasAnchor" number="10.95">
<h2><span class="header-section-number">10.95</span> Properties of Good Estimators<a href="references.html#properties-of-good-estimators" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>What makes some estimators better than others? We evaluate estimators based on three key properties.</p>
<div id="unbiasedness-right-on-average" class="section level3 hasAnchor" number="10.95.1">
<h3><span class="header-section-number">10.95.1</span> Unbiasedness: Right on Average<a href="references.html#unbiasedness-right-on-average" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An estimator is <strong>unbiased</strong> if it produces the correct answer on average across all possible samples. This doesn’t mean it’s right in any particular sample, just that it’s not systematically too high or too low.</p>
<p>To illustrate this concept, let’s do something we normally can’t do in real research: pretend our ANES data is the entire population, then repeatedly sample from it. Then we can see how well each estimator does on average.</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb423-1"><a href="references.html#cb423-1" tabindex="-1"></a><span class="co"># Treat our ANES data as the &quot;population&quot;</span></span>
<span id="cb423-2"><a href="references.html#cb423-2" tabindex="-1"></a>population <span class="ot">&lt;-</span> biden_clean</span>
<span id="cb423-3"><a href="references.html#cb423-3" tabindex="-1"></a>true_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(population)</span>
<span id="cb423-4"><a href="references.html#cb423-4" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;&#39;True&#39; population mean:&quot;</span>, <span class="fu">round</span>(true_mean, <span class="dv">2</span>), <span class="st">&quot;</span><span class="sc">\n\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## &#39;True&#39; population mean: 49.24</code></pre>
<div class="sourceCode" id="cb425"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb425-1"><a href="references.html#cb425-1" tabindex="-1"></a><span class="co"># Take many samples and apply different estimators</span></span>
<span id="cb425-2"><a href="references.html#cb425-2" tabindex="-1"></a>n_simulations <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb425-3"><a href="references.html#cb425-3" tabindex="-1"></a>sample_size <span class="ot">&lt;-</span> <span class="dv">500</span></span>
<span id="cb425-4"><a href="references.html#cb425-4" tabindex="-1"></a></span>
<span id="cb425-5"><a href="references.html#cb425-5" tabindex="-1"></a><span class="co"># Storage for results</span></span>
<span id="cb425-6"><a href="references.html#cb425-6" tabindex="-1"></a>results_mean <span class="ot">&lt;-</span> <span class="fu">numeric</span>(n_simulations)</span>
<span id="cb425-7"><a href="references.html#cb425-7" tabindex="-1"></a>results_median <span class="ot">&lt;-</span> <span class="fu">numeric</span>(n_simulations)</span>
<span id="cb425-8"><a href="references.html#cb425-8" tabindex="-1"></a>results_max <span class="ot">&lt;-</span> <span class="fu">numeric</span>(n_simulations)</span>
<span id="cb425-9"><a href="references.html#cb425-9" tabindex="-1"></a>results_first <span class="ot">&lt;-</span> <span class="fu">numeric</span>(n_simulations)</span>
<span id="cb425-10"><a href="references.html#cb425-10" tabindex="-1"></a></span>
<span id="cb425-11"><a href="references.html#cb425-11" tabindex="-1"></a><span class="co"># Simulation loop</span></span>
<span id="cb425-12"><a href="references.html#cb425-12" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb425-13"><a href="references.html#cb425-13" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n_simulations) {</span>
<span id="cb425-14"><a href="references.html#cb425-14" tabindex="-1"></a>  <span class="co"># Draw a random sample</span></span>
<span id="cb425-15"><a href="references.html#cb425-15" tabindex="-1"></a>  sample_i <span class="ot">&lt;-</span> <span class="fu">sample</span>(population, <span class="at">size =</span> sample_size, <span class="at">replace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb425-16"><a href="references.html#cb425-16" tabindex="-1"></a>  </span>
<span id="cb425-17"><a href="references.html#cb425-17" tabindex="-1"></a>  <span class="co"># Apply different estimators</span></span>
<span id="cb425-18"><a href="references.html#cb425-18" tabindex="-1"></a>  results_mean[i] <span class="ot">&lt;-</span> <span class="fu">mean</span>(sample_i)</span>
<span id="cb425-19"><a href="references.html#cb425-19" tabindex="-1"></a>  results_median[i] <span class="ot">&lt;-</span> <span class="fu">median</span>(sample_i)</span>
<span id="cb425-20"><a href="references.html#cb425-20" tabindex="-1"></a>  results_max[i] <span class="ot">&lt;-</span> <span class="fu">max</span>(sample_i)</span>
<span id="cb425-21"><a href="references.html#cb425-21" tabindex="-1"></a>  results_first[i] <span class="ot">&lt;-</span> sample_i[<span class="dv">1</span>]</span>
<span id="cb425-22"><a href="references.html#cb425-22" tabindex="-1"></a>}</span></code></pre></div>
<p>What the code above does is sample 500 observations from the larger survey (where we have 8,000) observations and then repeats that process 1,000 times. So now we have 1,000 <em>estimates</em> to look at using four different “recipes:” the sample mean, the median, the maximum observation, and the first observation. In essence, we are imagining conducting 1,000 different surveys (each with a sample size of 500). We can then look at how each “recipe” performs.</p>
<p>For bias, we are particularly interesting at how accurate each estimate is on average. Specifically, we want to know how the mean estimate approximates the “true” parameter 49.24.</p>
<div class="sourceCode" id="cb426"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb426-1"><a href="references.html#cb426-1" tabindex="-1"></a><span class="co"># Compare average performance</span></span>
<span id="cb426-2"><a href="references.html#cb426-2" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Average across all samples:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Average across all samples:</code></pre>
<div class="sourceCode" id="cb428"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb428-1"><a href="references.html#cb428-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Sample mean estimator:&quot;</span>, <span class="fu">round</span>(<span class="fu">mean</span>(results_mean), <span class="dv">2</span>), </span>
<span id="cb428-2"><a href="references.html#cb428-2" tabindex="-1"></a>    <span class="st">&quot;(Bias:&quot;</span>, <span class="fu">round</span>(<span class="fu">mean</span>(results_mean) <span class="sc">-</span> true_mean, <span class="dv">2</span>), <span class="st">&quot;)</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Sample mean estimator: 49.24 (Bias: 0 )</code></pre>
<div class="sourceCode" id="cb430"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb430-1"><a href="references.html#cb430-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Sample median estimator:&quot;</span>, <span class="fu">round</span>(<span class="fu">mean</span>(results_median), <span class="dv">2</span>), </span>
<span id="cb430-2"><a href="references.html#cb430-2" tabindex="-1"></a>    <span class="st">&quot;(Bias:&quot;</span>, <span class="fu">round</span>(<span class="fu">mean</span>(results_median) <span class="sc">-</span> true_mean, <span class="dv">2</span>), <span class="st">&quot;)</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Sample median estimator: 54.85 (Bias: 5.61 )</code></pre>
<div class="sourceCode" id="cb432"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb432-1"><a href="references.html#cb432-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Maximum estimator:&quot;</span>, <span class="fu">round</span>(<span class="fu">mean</span>(results_max), <span class="dv">2</span>), </span>
<span id="cb432-2"><a href="references.html#cb432-2" tabindex="-1"></a>    <span class="st">&quot;(Bias:&quot;</span>, <span class="fu">round</span>(<span class="fu">mean</span>(results_max) <span class="sc">-</span> true_mean, <span class="dv">2</span>), <span class="st">&quot;)</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Maximum estimator: 100 (Bias: 50.76 )</code></pre>
<div class="sourceCode" id="cb434"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb434-1"><a href="references.html#cb434-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;First observation estimator:&quot;</span>, <span class="fu">round</span>(<span class="fu">mean</span>(results_first), <span class="dv">2</span>), </span>
<span id="cb434-2"><a href="references.html#cb434-2" tabindex="-1"></a>    <span class="st">&quot;(Bias:&quot;</span>, <span class="fu">round</span>(<span class="fu">mean</span>(results_first) <span class="sc">-</span> true_mean, <span class="dv">2</span>), <span class="st">&quot;)</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## First observation estimator: 49.06 (Bias: -0.18 )</code></pre>
<p>Here we see that the arithmetic mean (x-bar) and the strategy of just using the first person in our sample are both highly accurate on average – they are unbiased. The other choices, however, are biased. The median is a bit too high on average and the maximum is way off.</p>
<p>We can visualize this by plotting a histogram of the estiamtes from each of our 1,000 samples.</p>
<div class="sourceCode" id="cb436"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb436-1"><a href="references.html#cb436-1" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb436-2"><a href="references.html#cb436-2" tabindex="-1"></a></span>
<span id="cb436-3"><a href="references.html#cb436-3" tabindex="-1"></a><span class="fu">hist</span>(results_mean, <span class="at">breaks =</span> <span class="dv">30</span>, <span class="at">main =</span> <span class="st">&quot;Sample Mean (Unbiased)&quot;</span>, </span>
<span id="cb436-4"><a href="references.html#cb436-4" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Estimate&quot;</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>))</span>
<span id="cb436-5"><a href="references.html#cb436-5" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> true_mean, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb436-6"><a href="references.html#cb436-6" tabindex="-1"></a></span>
<span id="cb436-7"><a href="references.html#cb436-7" tabindex="-1"></a><span class="fu">hist</span>(results_first, <span class="at">breaks =</span> <span class="dv">30</span>, <span class="at">main =</span> <span class="st">&quot;First Observation (Unbiased but noisy)&quot;</span>, </span>
<span id="cb436-8"><a href="references.html#cb436-8" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Estimate&quot;</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>))</span>
<span id="cb436-9"><a href="references.html#cb436-9" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> true_mean, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb436-10"><a href="references.html#cb436-10" tabindex="-1"></a></span>
<span id="cb436-11"><a href="references.html#cb436-11" tabindex="-1"></a><span class="fu">hist</span>(results_median, <span class="at">breaks =</span> <span class="dv">30</span>, <span class="at">main =</span> <span class="st">&quot;Sample Median (Nearly Unbiased)&quot;</span>, </span>
<span id="cb436-12"><a href="references.html#cb436-12" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Estimate&quot;</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>))</span>
<span id="cb436-13"><a href="references.html#cb436-13" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> true_mean, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb436-14"><a href="references.html#cb436-14" tabindex="-1"></a></span>
<span id="cb436-15"><a href="references.html#cb436-15" tabindex="-1"></a><span class="fu">hist</span>(results_max, <span class="at">breaks =</span> <span class="dv">30</span>, <span class="at">main =</span> <span class="st">&quot;Maximum (Biased)&quot;</span>, </span>
<span id="cb436-16"><a href="references.html#cb436-16" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Estimate&quot;</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>))</span>
<span id="cb436-17"><a href="references.html#cb436-17" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> true_mean, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-182-1.png" width="672" /></p>
<p>Notice that the sample mean and first observation estimators are centered on the true value (unbiased), while the median and the maximum estimators are systematically too high (biased).</p>
</div>
<div id="efficiency-less-variable" class="section level3 hasAnchor" number="10.95.2">
<h3><span class="header-section-number">10.95.2</span> Efficiency: Less Variable<a href="references.html#efficiency-less-variable" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We also have a preference for estimators that are less noisy. In the language of statistics, we want estimators that ahave less variance. This is <strong>efficiency</strong>. Estimators with lower variance are called more efficient. Even though both the sample mean and the “first observation” estimator are unbiased, look at how differently they perform in terms of efficiency.</p>
<div class="sourceCode" id="cb437"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb437-1"><a href="references.html#cb437-1" tabindex="-1"></a><span class="co"># Compare variance of unbiased estimators</span></span>
<span id="cb437-2"><a href="references.html#cb437-2" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Standard deviation of estimates (n = 500):</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Standard deviation of estimates (n = 500):</code></pre>
<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb439-1"><a href="references.html#cb439-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Sample mean:&quot;</span>, <span class="fu">round</span>(<span class="fu">sd</span>(results_mean), <span class="dv">2</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Sample mean: 1.5</code></pre>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb441-1"><a href="references.html#cb441-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;First observation:&quot;</span>, <span class="fu">round</span>(<span class="fu">sd</span>(results_first), <span class="dv">2</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## First observation: 34.45</code></pre>
<div class="sourceCode" id="cb443"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb443-1"><a href="references.html#cb443-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">The sample mean is about&quot;</span>, </span>
<span id="cb443-2"><a href="references.html#cb443-2" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">sd</span>(results_first)<span class="sc">/</span><span class="fu">sd</span>(results_mean), <span class="dv">1</span>), </span>
<span id="cb443-3"><a href="references.html#cb443-3" tabindex="-1"></a>    <span class="st">&quot;times more efficient!</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## 
## The sample mean is about 22.9 times more efficient!</code></pre>
<p>Think about this intuitively: the sample mean uses all the information in your data, while the first observation throws away 99.8% of it. More information → less uncertainty → more efficiency.</p>
</div>
<div id="consistency-better-with-more-data" class="section level3 hasAnchor" number="10.95.3">
<h3><span class="header-section-number">10.95.3</span> Consistency: Better with More Data<a href="references.html#consistency-better-with-more-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An estimator is <strong>consistent</strong> if it gets closer to the true value as sample size increases. When the sample size approaches infinity, its accuracy is guaranteed. For unbiased estimators, if they become more efficient as the sample size increases they are also consistent. In our example, only the mean (x-bar) and median are consistent, although we tend to prefer the mean because it is also unbiased.</p>
</div>
</div>
<div id="the-magic-of-sampling-distributions" class="section level2 hasAnchor" number="10.96">
<h2><span class="header-section-number">10.96</span> The Magic of Sampling Distributions<a href="references.html#the-magic-of-sampling-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now we come to one of the most important concepts in statistics: the <strong>sampling distribution</strong>. Understanding this concept is crucial because it bridges the gap between the single sample we have and the claims we want to make about the population.</p>
<div id="what-is-a-sampling-distribution" class="section level3 hasAnchor" number="10.96.1">
<h3><span class="header-section-number">10.96.1</span> What Is a Sampling Distribution?<a href="references.html#what-is-a-sampling-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A <strong>sampling distribution</strong> is the distribution of values we would get if we calculated our statistic (like a sample mean) from many possible samples of a given size from the population.</p>
<p>Here’s the key idea: Imagine you could take thousands of different samples from the American public, each with 500 people. Each sample would give you a slightly different average Biden approval rating. If you collected all these different sample means and made a histogram, that would be the sampling distribution of the sample mean.</p>
<p>Think of it this way. When you flip a coin once, you get heads or tails. But if you flip a coin 10 times and count the heads, you might get 3, 4, 5, 6, or 7 heads. If you repeat this “flip 10 times and count” process thousands of times, the distribution of those counts is like a sampling distribution.</p>
<p>In our Biden approval example one sample of 500 people might give a mean rating of 48.2. Another sample of 500 different people might give 50.7. Yet another might give 49.1. The sampling distribution describes the pattern of all these possible sample means. It tells us: (i) what values are most likely (usually clustered around the true population mean); (ii) How much variability to expect (how spread out the sample means are); (iii) the shape of this variability (remarkably, it’s usually bell-shaped!).</p>
</div>
<div id="why-this-matters" class="section level3 hasAnchor" number="10.96.2">
<h3><span class="header-section-number">10.96.2</span> Why This Matters<a href="references.html#why-this-matters" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The sampling distribution is mostly theoretical - in real research, we only get one sample. So why do we care about all these hypothetical other samples?</p>
<p>Because the sampling distribution allows us to answer the critical questions about the world using only the sample we have. Even though we only have one sample mean, if we understand the sampling distribution, we can say things like: “If the true population mean were 45, it would be very unlikely to get a sample mean as high as 52”. In later classes, sampling distibutions are what we use to create key quantities like confidence intervals and p-values. Indeed, this is the foundation of every confidence interval and hypothesis test you’ll ever see. The sampling distribution transforms a single number (our sample statistic) into a statement about uncertainty and probability.</p>
</div>
<div id="distinguishing-three-types-of-distributions" class="section level3 hasAnchor" number="10.96.3">
<h3><span class="header-section-number">10.96.3</span> Distinguishing Three Types of Distributions<a href="references.html#distinguishing-three-types-of-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This is where many students get confused, so let’s be crystal clear about the three different distributions we’re dealing with:</p>
<div id="population-distribution" class="section level4 hasAnchor" number="10.96.3.1">
<h4><span class="header-section-number">10.96.3.1</span> 1. Population Distribution<a href="references.html#population-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><strong>What it is</strong>: The distribution of the variable across every single individual in the entire population.</p>
<p><strong>In our example</strong>: If we could measure the Biden feeling thermometer for all 300+ million American adults and make a histogram, that would be the population distribution.</p>
<p><strong>Key features</strong>: This is what we’re trying to learn about, but we almost never see this distribution (because we can’t measure everyone). But it also has fixed parameter we are interested in: a true mean (μ) and true standard deviation (σ). In addition, its shape could be anything - normal, skewed, bimodal, etc.</p>
</div>
<div id="sample-distribution" class="section level4 hasAnchor" number="10.96.3.2">
<h4><span class="header-section-number">10.96.3.2</span> 2. Sample Distribution<a href="references.html#sample-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><strong>What it is</strong>: The distribution of the variable in your actual data - the one sample you collected.</p>
<p><strong>In our example</strong>: The histogram of Biden ratings from the 8,000 people in our ANES survey.</p>
<p><strong>Key features</strong>: This is what we actually observe, but it’s an imperfect reflection of the population distribution. It also has statistics we can calculate: sample mean (x̄) and sample standard deviatio (s). If the sample is big enough, its shape is usually simiilar to the population, but with random variation.</p>
</div>
<div id="sampling-distribution" class="section level4 hasAnchor" number="10.96.3.3">
<h4><span class="header-section-number">10.96.3.3</span> 3. Sampling Distribution<a href="references.html#sampling-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><strong>What it is</strong>: The distribution of a sample statistic (like the mean) across all possible samples of a given size.</p>
<p><strong>In our example</strong>: If we took millions of different samples of 500 Americans each and calculated the mean Biden rating <strong>for each sample</strong>, the histogram of all those means would be the sampling distribution.</p>
<p><strong>Key features</strong>: This is a theoretical construct (we imagine it, we don’t observe it). Each “data point” is a sample statistic, not an individual observation and it it describes how much our estimate varies from sample to sample. Thanks to the central limit theorem (discussed next), its shape is approximately normal for large samples. It also has a mean equal to the population parameter and a standard deviation called the <strong>standard error</strong>.</p>
</div>
<div id="a-concrete-analogy" class="section level4 hasAnchor" number="10.96.3.4">
<h4><span class="header-section-number">10.96.3.4</span> A Concrete Analogy<a href="references.html#a-concrete-analogy" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Think of it like studying student heights at WashU:</p>
<ol style="list-style-type: decimal">
<li><strong>Population distribution</strong>: A histogram showing the height of every single WashU student.</li>
<li><strong>Sample distribution</strong>: A histogram showing the heights of the 200 students you actually measured</li>
<li><strong>Sampling distribution</strong>: A histogram showing the average heights from thousands of different groups of 200 students</li>
</ol>
<p>The critical insight: The population and sample distributions are about individual measurements. The sampling distribution is about the behavior of our estimator across many hypothetical samples.</p>
</div>
</div>
</div>
<div id="the-central-limit-theorem-natures-gift-to-statistics" class="section level2 hasAnchor" number="10.97">
<h2><span class="header-section-number">10.97</span> The Central Limit Theorem: Nature’s Gift to Statistics<a href="references.html#the-central-limit-theorem-natures-gift-to-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here’s where things get almost magical. The <strong>Central Limit Theorem (CLT)</strong> tells us that:</p>
<blockquote>
<p>For large samples, the sampling distribution of the sample mean is approximately normal, regardless of the shape of the population distribution.</p>
</blockquote>
<p>This is remarkable! Even though Biden ratings are bimodal (people tend to love or hate him), the sampling distribution of the mean is bell-shaped. Let’s demonstrate this with different population distributions:</p>
<div class="sourceCode" id="cb445"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb445-1"><a href="references.html#cb445-1" tabindex="-1"></a><span class="co"># Demonstrate CLT with different population shapes</span></span>
<span id="cb445-2"><a href="references.html#cb445-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">126</span>)</span>
<span id="cb445-3"><a href="references.html#cb445-3" tabindex="-1"></a></span>
<span id="cb445-4"><a href="references.html#cb445-4" tabindex="-1"></a><span class="co"># Create different population distributions</span></span>
<span id="cb445-5"><a href="references.html#cb445-5" tabindex="-1"></a><span class="co"># Uniform distribution</span></span>
<span id="cb445-6"><a href="references.html#cb445-6" tabindex="-1"></a>pop_uniform <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">10000</span>, <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">100</span>)</span>
<span id="cb445-7"><a href="references.html#cb445-7" tabindex="-1"></a></span>
<span id="cb445-8"><a href="references.html#cb445-8" tabindex="-1"></a><span class="co"># Exponential (very skewed) distribution  </span></span>
<span id="cb445-9"><a href="references.html#cb445-9" tabindex="-1"></a>pop_skewed <span class="ot">&lt;-</span> <span class="fu">rexp</span>(<span class="dv">10000</span>, <span class="at">rate =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">30</span>)</span>
<span id="cb445-10"><a href="references.html#cb445-10" tabindex="-1"></a>pop_skewed <span class="ot">&lt;-</span> <span class="fu">pmin</span>(pop_skewed, <span class="dv">100</span>)  <span class="co"># Cap at 100</span></span>
<span id="cb445-11"><a href="references.html#cb445-11" tabindex="-1"></a></span>
<span id="cb445-12"><a href="references.html#cb445-12" tabindex="-1"></a><span class="co"># Bimodal distribution (like our Biden data)</span></span>
<span id="cb445-13"><a href="references.html#cb445-13" tabindex="-1"></a>pop_bimodal <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rnorm</span>(<span class="dv">5000</span>, <span class="at">mean =</span> <span class="dv">20</span>, <span class="at">sd =</span> <span class="dv">10</span>), </span>
<span id="cb445-14"><a href="references.html#cb445-14" tabindex="-1"></a>                 <span class="fu">rnorm</span>(<span class="dv">5000</span>, <span class="at">mean =</span> <span class="dv">80</span>, <span class="at">sd =</span> <span class="dv">10</span>))</span>
<span id="cb445-15"><a href="references.html#cb445-15" tabindex="-1"></a>pop_bimodal <span class="ot">&lt;-</span> <span class="fu">pmax</span>(<span class="fu">pmin</span>(pop_bimodal, <span class="dv">100</span>), <span class="dv">0</span>)  <span class="co"># Keep between 0-100</span></span>
<span id="cb445-16"><a href="references.html#cb445-16" tabindex="-1"></a></span>
<span id="cb445-17"><a href="references.html#cb445-17" tabindex="-1"></a><span class="co"># Function to demonstrate CLT</span></span>
<span id="cb445-18"><a href="references.html#cb445-18" tabindex="-1"></a>demonstrate_clt <span class="ot">&lt;-</span> <span class="cf">function</span>(population, pop_name, <span class="at">n =</span> <span class="dv">500</span>, <span class="at">n_samples =</span> <span class="dv">1000</span>) {</span>
<span id="cb445-19"><a href="references.html#cb445-19" tabindex="-1"></a>  sample_means <span class="ot">&lt;-</span> <span class="fu">replicate</span>(n_samples, <span class="fu">mean</span>(<span class="fu">sample</span>(population, n)))</span>
<span id="cb445-20"><a href="references.html#cb445-20" tabindex="-1"></a>  </span>
<span id="cb445-21"><a href="references.html#cb445-21" tabindex="-1"></a>  <span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb445-22"><a href="references.html#cb445-22" tabindex="-1"></a>  </span>
<span id="cb445-23"><a href="references.html#cb445-23" tabindex="-1"></a>  <span class="co"># Population distribution</span></span>
<span id="cb445-24"><a href="references.html#cb445-24" tabindex="-1"></a>  <span class="fu">hist</span>(population, <span class="at">breaks =</span> <span class="dv">50</span>, <span class="at">main =</span> <span class="fu">paste</span>(pop_name, <span class="st">&quot;Population&quot;</span>),</span>
<span id="cb445-25"><a href="references.html#cb445-25" tabindex="-1"></a>       <span class="at">xlab =</span> <span class="st">&quot;Value&quot;</span>, <span class="at">probability =</span> <span class="cn">TRUE</span>)</span>
<span id="cb445-26"><a href="references.html#cb445-26" tabindex="-1"></a>  </span>
<span id="cb445-27"><a href="references.html#cb445-27" tabindex="-1"></a>  <span class="co"># Sampling distribution</span></span>
<span id="cb445-28"><a href="references.html#cb445-28" tabindex="-1"></a>  <span class="fu">hist</span>(sample_means, <span class="at">breaks =</span> <span class="dv">30</span>, <span class="at">main =</span> <span class="fu">paste</span>(<span class="st">&quot;Sampling Distribution of Mean&quot;</span>),</span>
<span id="cb445-29"><a href="references.html#cb445-29" tabindex="-1"></a>       <span class="at">xlab =</span> <span class="st">&quot;Sample Mean&quot;</span>, <span class="at">probability =</span> <span class="cn">TRUE</span>)</span>
<span id="cb445-30"><a href="references.html#cb445-30" tabindex="-1"></a>  </span>
<span id="cb445-31"><a href="references.html#cb445-31" tabindex="-1"></a>  <span class="co"># Add normal curve</span></span>
<span id="cb445-32"><a href="references.html#cb445-32" tabindex="-1"></a>  <span class="fu">curve</span>(<span class="fu">dnorm</span>(x, <span class="at">mean =</span> <span class="fu">mean</span>(sample_means), <span class="at">sd =</span> <span class="fu">sd</span>(sample_means)), </span>
<span id="cb445-33"><a href="references.html#cb445-33" tabindex="-1"></a>        <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb445-34"><a href="references.html#cb445-34" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb446-1"><a href="references.html#cb446-1" tabindex="-1"></a><span class="fu">demonstrate_clt</span>(pop_uniform, <span class="st">&quot;Uniform&quot;</span>)</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-185-1.png" width="672" /></p>
<div class="sourceCode" id="cb447"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb447-1"><a href="references.html#cb447-1" tabindex="-1"></a><span class="fu">demonstrate_clt</span>(pop_skewed, <span class="st">&quot;Skewed&quot;</span>)  </span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-185-2.png" width="672" /></p>
<div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb448-1"><a href="references.html#cb448-1" tabindex="-1"></a><span class="fu">demonstrate_clt</span>(pop_bimodal, <span class="st">&quot;Bimodal&quot;</span>)</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-185-3.png" width="672" /></p>
<p>The CLT tells us specifically that:</p>
<p><span class="math display">\[\bar{x} \sim N\left(\mu, \frac{\sigma^2}{n}\right)\]</span></p>
<p>Or in words: the sample mean follows a normal distribution with:</p>
<ul>
<li><strong>Center</strong>: The true population mean (μ)</li>
<li><strong>Spread</strong>: The population variance divided by sample size (σ²/n)</li>
</ul>
<p>The standard deviation of the sampling distribution has a special name: the <strong>standard error</strong>.</p>
<p><span class="math display">\[SE(\bar{x}) = \frac{\sigma}{\sqrt{n}}\]</span></p>
</div>
<div id="from-theory-to-practice-estimating-the-standard-error" class="section level2 hasAnchor" number="10.98">
<h2><span class="header-section-number">10.98</span> From Theory to Practice: Estimating the Standard Error<a href="references.html#from-theory-to-practice-estimating-the-standard-error" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There’s one catch: we don’t know σ (the population standard deviation). But we can estimate it with the sample standard deviation (s). That is, we jsut “plug in” our sample statistics and assume they are good enough. This is the foundation of confidence intervals, which we’ll cover soon!</p>
</div>
<div id="notation-summary" class="section level2 hasAnchor" number="10.99">
<h2><span class="header-section-number">10.99</span> Notation Summary<a href="references.html#notation-summary" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s consolidate all the notation we’ve introduced:</p>
<table>
<colgroup>
<col width="17%" />
<col width="23%" />
<col width="15%" />
<col width="43%" />
</colgroup>
<thead>
<tr class="header">
<th>Concept</th>
<th>Population</th>
<th>Sample</th>
<th>Sampling Distribution</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Mean</td>
<td>μ (unknown)</td>
<td>x̄ (calculated)</td>
<td>μ (center of sampling dist.)</td>
</tr>
<tr class="even">
<td>Standard deviation</td>
<td>σ (unknown)</td>
<td>s (calculated)</td>
<td>σ/√n (standard error)</td>
</tr>
<tr class="odd">
<td>Variance</td>
<td>σ² (unknown)</td>
<td>s² (calculated)</td>
<td>σ²/n</td>
</tr>
</tbody>
</table>
<p>Key notation principles:</p>
<ul>
<li>Greek letters (μ, σ) = population parameters (usually unknown)</li>
<li>Roman letters (x̄, s) = sample statistics (what we calculate)</li>
<li>Hats (μ̂, σ̂) = estimates of population parameters</li>
</ul>
</div>
<div id="summary-the-big-picture" class="section level2 hasAnchor" number="10.100">
<h2><span class="header-section-number">10.100</span> Summary: The Big Picture<a href="references.html#summary-the-big-picture" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We started with a simple question: How can we learn about a population from just a sample? The answer involves several key ideas:</p>
<ol style="list-style-type: decimal">
<li><strong>Estimators are recipes</strong> - They tell us how to calculate estimates from data</li>
<li><strong>Good estimators have nice properties</strong> - Unbiased (right on average), consistent (better with more data), efficient (low variance)</li>
<li><strong>Sampling distributions describe uncertainty</strong> - They show how our estimate would vary across different samples</li>
<li><strong>The CLT makes inference possible</strong> - It tells us the sampling distribution is approximately normal, centered on the true population mean, and with variation we can approximate.</li>
<li><strong>Standard errors quantify precision</strong> - They measure how much our estimate typically varies</li>
</ol>
<p>These concepts form the foundation for all statistical inference. In the next class, we’ll use these ideas to construct confidence intervals and test hypotheses.</p>
</div>
<div id="study-questions-5" class="section level2 hasAnchor" number="10.101">
<h2><span class="header-section-number">10.101</span> Study Questions<a href="references.html#study-questions-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="conceptual-understanding-2" class="section level3 hasAnchor" number="10.101.1">
<h3><span class="header-section-number">10.101.1</span> Conceptual Understanding<a href="references.html#conceptual-understanding-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>Explain the difference between a parameter, an estimator, and an estimate using the Biden approval example.</p></li>
<li><p>You calculate the mean age from a random sample of 100 WashU students and get 20.3 years. Is 20.3 a parameter, an estimator, or an estimate? What about the rule “sum all ages and divide by n”?</p></li>
<li><p>Why can the sample maximum never be an unbiased estimator of the population mean?</p></li>
<li><p>Explain in your own words what it means for an estimator to be consistent. Give an example of an estimator that is unbiased but not consistent.</p></li>
<li><p>Two estimators are both unbiased and consistent. How would you choose between them?</p></li>
</ol>
</div>
<div id="sampling-distributions" class="section level3 hasAnchor" number="10.101.2">
<h3><span class="header-section-number">10.101.2</span> Sampling Distributions<a href="references.html#sampling-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="6" style="list-style-type: decimal">
<li><p>What is the difference between a sample distribution and a sampling distribution?</p></li>
<li><p>If you increase sample size from 100 to 400, by what factor does the standard error decrease? Explain why.</p></li>
<li><p>The CLT says the sampling distribution of x̄ is approximately normal. What three things do we need to know to fully describe this normal distribution?</p></li>
</ol>
</div>
<div id="application" class="section level3 hasAnchor" number="10.101.3">
<h3><span class="header-section-number">10.101.3</span> Application<a href="references.html#application" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="9" style="list-style-type: decimal">
<li><p>You survey 200 voters and find 55% support a candidate. Your friend surveys a different 200 voters and finds 51% support. Should you be surprised by this difference? (Hint: think about the standard error)</p></li>
<li><p>A researcher studying county-level poverty rates decides to estimate the national rate using only the poorest county’s rate. What properties will this estimator have? Is it useful?</p></li>
</ol>

</div>
</div>
<div id="learning-objectives-11" class="section level2 hasAnchor" number="10.102">
<h2><span class="header-section-number">10.102</span> Learning Objectives<a href="references.html#learning-objectives-11" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Take random samples from vectors and data frames</li>
<li>Control randomness with <code>set.seed()</code></li>
<li>Use <code>sample()</code> for simple random sampling</li>
<li>Use <code>dplyr</code> functions for sampling data frames</li>
<li>Take samples with and without replacement</li>
</ol>
</div>
<div id="what-is-this-for-9" class="section level2 hasAnchor" number="10.103">
<h2><span class="header-section-number">10.103</span> What Is This For?<a href="references.html#what-is-this-for-9" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When working with large datasets, you often need to take random samples for analysis, testing code, or creating training/test sets. R provides several ways to randomly select observations. This tutorial covers the essential functions you’ll need for sampling.</p>
</div>
<div id="basic-sampling-from-vectors" class="section level2 hasAnchor" number="10.104">
<h2><span class="header-section-number">10.104</span> Basic Sampling from Vectors<a href="references.html#basic-sampling-from-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="the-sample-function" class="section level3 hasAnchor" number="10.104.1">
<h3><span class="header-section-number">10.104.1</span> The <code>sample()</code> Function<a href="references.html#the-sample-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The workhorse function for random sampling in R is <code>sample()</code>. Let’s start with a simple vector:</p>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb449-1"><a href="references.html#cb449-1" tabindex="-1"></a><span class="co"># Create a vector of numbers</span></span>
<span id="cb449-2"><a href="references.html#cb449-2" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb449-3"><a href="references.html#cb449-3" tabindex="-1"></a><span class="fu">print</span>(numbers)</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb451"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb451-1"><a href="references.html#cb451-1" tabindex="-1"></a><span class="co"># Take a random sample of 5 numbers</span></span>
<span id="cb451-2"><a href="references.html#cb451-2" tabindex="-1"></a><span class="fu">sample</span>(numbers, <span class="at">size =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 9 1 3 6 5</code></pre>
<div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb453-1"><a href="references.html#cb453-1" tabindex="-1"></a><span class="co"># Run it again - you&#39;ll get different results!</span></span>
<span id="cb453-2"><a href="references.html#cb453-2" tabindex="-1"></a><span class="fu">sample</span>(numbers, <span class="at">size =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 3 8 2 5 7</code></pre>
</div>
<div id="key-arguments-for-sample" class="section level3 hasAnchor" number="10.104.2">
<h3><span class="header-section-number">10.104.2</span> Key Arguments for <code>sample()</code><a href="references.html#key-arguments-for-sample" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>x</code>: The vector to sample from</li>
<li><code>size</code>: How many elements to sample</li>
<li><code>replace</code>: Whether to sample with replacement (default is FALSE)</li>
<li><code>prob</code>: Optional weights for each element</li>
</ul>
<p>Note:</p>
<ul>
<li>If <code>x</code> is numeric, and has length of 1, then <code>1:x</code> will be used</li>
</ul>
<div class="sourceCode" id="cb455"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb455-1"><a href="references.html#cb455-1" tabindex="-1"></a><span class="co"># Sample all elements in random order (shuffle)</span></span>
<span id="cb455-2"><a href="references.html#cb455-2" tabindex="-1"></a><span class="fu">sample</span>(numbers)</span></code></pre></div>
<pre><code>##  [1]  8  6  3  4 10  9  7  2  1  5</code></pre>
<div class="sourceCode" id="cb457"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb457-1"><a href="references.html#cb457-1" tabindex="-1"></a><span class="co"># Sample with replacement (elements can appear multiple times)</span></span>
<span id="cb457-2"><a href="references.html#cb457-2" tabindex="-1"></a><span class="fu">sample</span>(numbers, <span class="at">size =</span> <span class="dv">15</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##  [1] 6 3 2 4 5 7 5 9 3 9 8 6 5 6 9</code></pre>
</div>
</div>
<div id="controlling-randomness-with-set.seed" class="section level2 hasAnchor" number="10.105">
<h2><span class="header-section-number">10.105</span> Controlling Randomness with <code>set.seed()</code><a href="references.html#controlling-randomness-with-set.seed" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Random samples are different each time by design. But for reproducible research, you need consistent results. Use <code>set.seed()</code> to fix the random number generator:</p>
<ul>
<li>Without set.seed - different results each time</li>
</ul>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb459-1"><a href="references.html#cb459-1" tabindex="-1"></a><span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">size =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 6 2 1</code></pre>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb461-1"><a href="references.html#cb461-1" tabindex="-1"></a><span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">size =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1]  3  5 10</code></pre>
<ul>
<li>With set.seed - same results if you use the same seed</li>
</ul>
<div class="sourceCode" id="cb463"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb463-1"><a href="references.html#cb463-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb463-2"><a href="references.html#cb463-2" tabindex="-1"></a><span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">size =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1]  3 10  2</code></pre>
<div class="sourceCode" id="cb465"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb465-1"><a href="references.html#cb465-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># Same seed = same results</span></span>
<span id="cb465-2"><a href="references.html#cb465-2" tabindex="-1"></a><span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">size =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1]  3 10  2</code></pre>
<p><strong>Important</strong>: The seed number doesn’t matter (123, 42, 8675309, etc.). What matters is using the <em>same seed</em> for reproducibility.</p>
</div>
<div id="sampling-from-data-frames" class="section level2 hasAnchor" number="10.106">
<h2><span class="header-section-number">10.106</span> Sampling from Data Frames<a href="references.html#sampling-from-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="method-1-using-base-r" class="section level3 hasAnchor" number="10.106.1">
<h3><span class="header-section-number">10.106.1</span> Method 1: Using Base R<a href="references.html#method-1-using-base-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb467-1"><a href="references.html#cb467-1" tabindex="-1"></a><span class="co"># Create a small example data frame</span></span>
<span id="cb467-2"><a href="references.html#cb467-2" tabindex="-1"></a>students <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb467-3"><a href="references.html#cb467-3" tabindex="-1"></a>  <span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>,</span>
<span id="cb467-4"><a href="references.html#cb467-4" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">paste0</span>(<span class="st">&quot;Student&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>),</span>
<span id="cb467-5"><a href="references.html#cb467-5" tabindex="-1"></a>  <span class="at">score =</span> <span class="fu">round</span>(<span class="fu">rnorm</span>(<span class="dv">20</span>, <span class="at">mean =</span> <span class="dv">75</span>, <span class="at">sd =</span> <span class="dv">10</span>)),</span>
<span id="cb467-6"><a href="references.html#cb467-6" tabindex="-1"></a>  <span class="at">year =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">&quot;Freshman&quot;</span>, <span class="st">&quot;Sophomore&quot;</span>, <span class="st">&quot;Junior&quot;</span>, <span class="st">&quot;Senior&quot;</span>), <span class="dv">20</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb467-7"><a href="references.html#cb467-7" tabindex="-1"></a>)</span>
<span id="cb467-8"><a href="references.html#cb467-8" tabindex="-1"></a></span>
<span id="cb467-9"><a href="references.html#cb467-9" tabindex="-1"></a><span class="co"># View first few rows</span></span>
<span id="cb467-10"><a href="references.html#cb467-10" tabindex="-1"></a><span class="fu">head</span>(students)</span></code></pre></div>
<pre><code>##   id     name score      year
## 1  1 Student1    76  Freshman
## 2  2 Student2    76 Sophomore
## 3  3 Student3    92    Junior
## 4  4 Student4    80    Junior
## 5  5 Student5    62    Senior
## 6  6 Student6    68  Freshman</code></pre>
<p>To sample rows from a data frame using base R, we need a little trick: randomly sample row indices and subset the data frame with it.</p>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb469-1"><a href="references.html#cb469-1" tabindex="-1"></a><span class="co"># Sample 5 random rows</span></span>
<span id="cb469-2"><a href="references.html#cb469-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb469-3"><a href="references.html#cb469-3" tabindex="-1"></a>row_indices <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(students), <span class="at">size =</span> <span class="dv">5</span>)</span>
<span id="cb469-4"><a href="references.html#cb469-4" tabindex="-1"></a>students_sample <span class="ot">&lt;-</span> students[row_indices, ]</span>
<span id="cb469-5"><a href="references.html#cb469-5" tabindex="-1"></a><span class="fu">print</span>(students_sample)</span></code></pre></div>
<pre><code>##    id      name score     year
## 17 17 Student17    70   Senior
## 5   5  Student5    62   Senior
## 1   1  Student1    76 Freshman
## 10 10 Student10    79   Senior
## 4   4  Student4    80   Junior</code></pre>
</div>
<div id="method-2-using-dplyr-recommended" class="section level3 hasAnchor" number="10.106.2">
<h3><span class="header-section-number">10.106.2</span> Method 2: Using dplyr (Recommended)<a href="references.html#method-2-using-dplyr-recommended" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>dplyr</code> package provides cleaner functions for sampling.</p>
<p>Similar to the <code>sample()</code> function, <code>sample_n()</code> and <code>sample_frac()</code> function accepts these arguments:</p>
<ul>
<li><code>tbl</code> (data.frame / tibble): A population data</li>
<li><code>size</code> (integer): The size of a sample for <code>sample_n</code>, and the fraction of rows for <code>sample_frac</code></li>
<li><code>replace</code> (Boolean): Generate sample with replacement? (default = FALSE)</li>
<li><code>weight</code>: Optional weights for each element</li>
</ul>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb471-1"><a href="references.html#cb471-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb472-1"><a href="references.html#cb472-1" tabindex="-1"></a><span class="co"># sample_n: Sample a specific number of rows</span></span>
<span id="cb472-2"><a href="references.html#cb472-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb472-3"><a href="references.html#cb472-3" tabindex="-1"></a>students <span class="sc">%&gt;%</span> </span>
<span id="cb472-4"><a href="references.html#cb472-4" tabindex="-1"></a>  <span class="fu">sample_n</span>(<span class="at">size =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>##   id      name score     year
## 1 17 Student17    70   Senior
## 2  5  Student5    62   Senior
## 3  1  Student1    76 Freshman
## 4 10 Student10    79   Senior
## 5  4  Student4    80   Junior</code></pre>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb474-1"><a href="references.html#cb474-1" tabindex="-1"></a><span class="co"># sample_frac: Sample a fraction of rows</span></span>
<span id="cb474-2"><a href="references.html#cb474-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb474-3"><a href="references.html#cb474-3" tabindex="-1"></a>students <span class="sc">%&gt;%</span> </span>
<span id="cb474-4"><a href="references.html#cb474-4" tabindex="-1"></a>  <span class="fu">sample_frac</span>(<span class="at">size =</span> <span class="fl">0.25</span>)  <span class="co"># 25% of rows</span></span></code></pre></div>
<pre><code>##   id      name score     year
## 1 17 Student17    70   Senior
## 2  5  Student5    62   Senior
## 3  1  Student1    76 Freshman
## 4 10 Student10    79   Senior
## 5  4  Student4    80   Junior</code></pre>
</div>
</div>
<div id="sampling-without-replacement-vs.-with-replacement" class="section level2 hasAnchor" number="10.107">
<h2><span class="header-section-number">10.107</span> Sampling Without Replacement vs. With Replacement<a href="references.html#sampling-without-replacement-vs.-with-replacement" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="without-replacement-default" class="section level3 hasAnchor" number="10.107.1">
<h3><span class="header-section-number">10.107.1</span> Without Replacement (Default)<a href="references.html#without-replacement-default" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Each observation can only be selected once (draw a ball from the urn, and do not put it back):</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb476-1"><a href="references.html#cb476-1" tabindex="-1"></a><span class="co"># Try to sample more than available - ERROR!</span></span>
<span id="cb476-2"><a href="references.html#cb476-2" tabindex="-1"></a><span class="co"># sample(1:5, size = 10)  # This would cause an error</span></span>
<span id="cb476-3"><a href="references.html#cb476-3" tabindex="-1"></a></span>
<span id="cb476-4"><a href="references.html#cb476-4" tabindex="-1"></a><span class="co"># Maximum sample size = population size</span></span>
<span id="cb476-5"><a href="references.html#cb476-5" tabindex="-1"></a><span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">size =</span> <span class="dv">5</span>)  <span class="co"># This works - it&#39;s a permutation</span></span></code></pre></div>
<pre><code>## [1] 2 5 1 4 3</code></pre>
</div>
<div id="with-replacement" class="section level3 hasAnchor" number="10.107.2">
<h3><span class="header-section-number">10.107.2</span> With Replacement<a href="references.html#with-replacement" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Observations can be selected multiple times (draw a ball and put it back into the urn):</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb478-1"><a href="references.html#cb478-1" tabindex="-1"></a><span class="co"># Sample 10 times from 5 options</span></span>
<span id="cb478-2"><a href="references.html#cb478-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">100</span>)</span>
<span id="cb478-3"><a href="references.html#cb478-3" tabindex="-1"></a><span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">size =</span> <span class="dv">10</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##  [1] 2 3 1 2 4 4 2 3 2 5</code></pre>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb480-1"><a href="references.html#cb480-1" tabindex="-1"></a><span class="co"># Notice some numbers appear multiple times</span></span>
<span id="cb480-2"><a href="references.html#cb480-2" tabindex="-1"></a><span class="fu">table</span>(<span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">size =</span> <span class="dv">10</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## 
## 1 2 3 4 
## 1 2 3 4</code></pre>
</div>
</div>
<div id="quick-reference" class="section level2 hasAnchor" number="10.108">
<h2><span class="header-section-number">10.108</span> Quick Reference<a href="references.html#quick-reference" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<table>
<colgroup>
<col width="35%" />
<col width="32%" />
<col width="32%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Purpose</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>sample(x, n)</code></td>
<td>Sample n items from vector x</td>
<td><code>sample(1:100, 10)</code></td>
</tr>
<tr class="even">
<td><code>sample(x)</code></td>
<td>Random permutation of x</td>
<td><code>sample(letters)</code></td>
</tr>
<tr class="odd">
<td><code>set.seed(n)</code></td>
<td>Fix random number generator</td>
<td><code>set.seed(123)</code></td>
</tr>
<tr class="even">
<td><code>sample_n(df, n)</code></td>
<td>Sample n rows from data frame</td>
<td><code>df %&gt;% sample_n(50)</code></td>
</tr>
<tr class="odd">
<td><code>sample_frac(df, p)</code></td>
<td>Sample fraction p of rows</td>
<td><code>df %&gt;% sample_frac(0.1)</code></td>
</tr>
</tbody>
</table>
</div>
<div id="summary-6" class="section level2 hasAnchor" number="10.109">
<h2><span class="header-section-number">10.109</span> Summary<a href="references.html#summary-6" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Use <code>sample()</code> for vectors, <code>sample_n()</code>/<code>sample_frac()</code> for data frames</li>
<li>Always use <code>set.seed()</code> for reproducible results</li>
<li>Specify <code>replace = TRUE</code> to allow repeated selections</li>
<li>Be careful with edge cases (empty vectors, size = 1)</li>
</ul>
<p>This foundation will help you work with sampling distributions, bootstrap methods, and cross-validation in more advanced analyses.</p>
</div>
<div id="study-questions-6" class="section level2 hasAnchor" number="10.110">
<h2><span class="header-section-number">10.110</span> Study Questions<a href="references.html#study-questions-6" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="understanding-the-basics" class="section level3 hasAnchor" number="10.110.1">
<h3><span class="header-section-number">10.110.1</span> Understanding the Basics<a href="references.html#understanding-the-basics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>What does the <code>sample()</code> function do? What are its main arguments?</p></li>
<li><p>If you have a vector <code>x &lt;- 1:20</code> and run <code>sample(x, size = 5)</code> twice, will you get the same results? Why or why not?</p></li>
<li><p>What’s the difference between <code>sample(1:10, size = 5)</code> and <code>sample(1:10)</code>?</p></li>
<li><p>Explain what <code>set.seed()</code> does and why it’s important for reproducible research.</p></li>
</ol>
</div>
<div id="sampling-with-and-without-replacement" class="section level3 hasAnchor" number="10.110.2">
<h3><span class="header-section-number">10.110.2</span> Sampling with and without Replacement<a href="references.html#sampling-with-and-without-replacement" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="5" style="list-style-type: decimal">
<li><p>What does <code>replace = FALSE</code> mean in the context of sampling? What about <code>replace = TRUE</code>?</p></li>
<li><p>If you have a vector with 10 elements, what’s the maximum size you can sample without replacement? With replacement?</p></li>
<li><p>Write R code to simulate rolling a six-sided die 20 times.</p></li>
</ol>
</div>
<div id="working-with-data-frames" class="section level3 hasAnchor" number="10.110.3">
<h3><span class="header-section-number">10.110.3</span> Working with Data Frames<a href="references.html#working-with-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="8" style="list-style-type: decimal">
<li><p>What’s the difference between <code>sample_n()</code> and <code>sample_frac()</code>? When would you use each?</p></li>
<li><p>You have a data frame called <code>patients</code> with 1000 rows. Write code to:</p>
<ul>
<li>Take a random sample of 50 patients</li>
<li>Take a random 10% sample of patients</li>
</ul></li>
<li><p>If you run this code, what happens and why?
<code>r     df &lt;- data.frame(x = 1:10, y = letters[1:10])     sample(df, size = 5)</code></p></li>
</ol>
</div>
<div id="practical-applications-4" class="section level3 hasAnchor" number="10.110.4">
<h3><span class="header-section-number">10.110.4</span> Practical Applications<a href="references.html#practical-applications-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="11" style="list-style-type: decimal">
<li><p>You’re analyzing survey data and want to test your code on a smaller subset first. Write code to create a random sample of 100 rows from a data frame called <code>survey_data</code>.</p></li>
<li><p>Explain why this code might give unexpected results:
<code>r     my_sample1 &lt;- sample(1:100, 20)     mean(my_sample1)     my_sample2 &lt;- sample(1:100, 20)     mean(my_sample2)</code>
How would you fix it to ensure both samples are identical?</p></li>
<li><p>What will <code>sample(10)</code> return? Is this the same as <code>sample(c(10))</code>? Explain.</p></li>
</ol>

</div>
</div>
<div id="learning-objectives-12" class="section level2 hasAnchor" number="10.111">
<h2><span class="header-section-number">10.111</span> Learning Objectives<a href="references.html#learning-objectives-12" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Understand fundamental concepts of probability and how they apply to data analysis</li>
<li>Distinguish between discrete and continuous probability distributions</li>
<li>Master the normal distribution and its properties</li>
<li>Calculate and interpret z-scores and their relationship to standard deviations</li>
<li>Use R functions (<code>pnorm</code>, <code>qnorm</code>, <code>dnorm</code>) to calculate probabilities and quantiles</li>
<li>Apply the empirical rule to normal distributions</li>
</ol>
</div>
<div id="what-is-this-for-10" class="section level2 hasAnchor" number="10.112">
<h2><span class="header-section-number">10.112</span> What Is This For?<a href="references.html#what-is-this-for-10" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>So far in this course, we’ve learned to describe data - calculating means, creating visualizations, measuring spread. But description is only the beginning. The real power of statistics comes from making inferences: using what we observe in our sample to make claims about the broader population.</p>
<p>To make that leap from description to inference, we need to understand <strong>uncertainty</strong>. When a poll reports that 52% of voters support a candidate “with a margin of error of ±3%,” that margin comes from probability theory. When researchers claim their results are “statistically significant,” they’re making a probability statement. When a forecaster says a candidate has a 70% chance of winning, they’re using probability distributions.</p>
<p>This session introduces the foundation that makes all of this possible – probability. We’ll start with simple probability, build up to the normal distribution (the most important distribution in statistics), and learn how to calculate probabilities in R.</p>
<p>This only touches on the subject, and I will focus on concepts over formal definitions or mathematics. But having some intuition about probability will help you understand concepts later in the class. And you will certainly need to know how to calculate probabilities in R.</p>
<hr />
</div>
<div id="part-i-foundations-of-probability" class="section level2 hasAnchor" number="10.113">
<h2><span class="header-section-number">10.113</span> Part I: Foundations of Probability<a href="references.html#part-i-foundations-of-probability" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="what-is-probability" class="section level3 hasAnchor" number="10.113.1">
<h3><span class="header-section-number">10.113.1</span> What is Probability?<a href="references.html#what-is-probability" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>At its core, <strong>probability</strong> is the relative frequency of occurrence for some outcome if a process is repeated many times under similar conditions. It’s a number between 0 (impossible) and 1 (certain) that quantifies how likely something is to happen. And if you consider all of the possibe events that could happen, the total probability should sum to 1.</p>
<p>Let’s start with a concrete example that builds intuition: rolling two dice.</p>
<div id="example-two-dice" class="section level4 hasAnchor" number="10.113.1.1">
<h4><span class="header-section-number">10.113.1.1</span> Example: Two Dice<a href="references.html#example-two-dice" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>When you roll two six-sided dice, there are 36 possible outcomes:</p>
<table>
<thead>
<tr class="header">
<th>Die 1 →</th>
<th><strong>1</strong></th>
<th><strong>2</strong></th>
<th><strong>3</strong></th>
<th><strong>4</strong></th>
<th><strong>5</strong></th>
<th><strong>6</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>1</strong></td>
<td>(1,1)</td>
<td>(1,2)</td>
<td>(1,3)</td>
<td>(1,4)</td>
<td>(1,5)</td>
<td>(1,6)</td>
</tr>
<tr class="even">
<td><strong>2</strong></td>
<td>(2,1)</td>
<td>(2,2)</td>
<td>(2,3)</td>
<td>(2,4)</td>
<td>(2,5)</td>
<td>(2,6)</td>
</tr>
<tr class="odd">
<td><strong>3</strong></td>
<td>(3,1)</td>
<td>(3,2)</td>
<td>(3,3)</td>
<td>(3,4)</td>
<td>(3,5)</td>
<td>(3,6)</td>
</tr>
<tr class="even">
<td><strong>4</strong></td>
<td>(4,1)</td>
<td>(4,2)</td>
<td>(4,3)</td>
<td>(4,4)</td>
<td>(4,5)</td>
<td>(4,6)</td>
</tr>
<tr class="odd">
<td><strong>5</strong></td>
<td>(5,1)</td>
<td>(5,2)</td>
<td>(5,3)</td>
<td>(5,4)</td>
<td>(5,5)</td>
<td>(5,6)</td>
</tr>
<tr class="even">
<td><strong>6</strong></td>
<td>(6,1)</td>
<td>(6,2)</td>
<td>(6,3)</td>
<td>(6,4)</td>
<td>(6,5)</td>
<td>(6,6)</td>
</tr>
</tbody>
</table>
<p>To find the probability of any sum, we count how many ways we can get that sum and divide by 36.</p>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-196-1.png" width="672" /></p>
<p>For example, there is only one way to end up with two dice that sum to two. So the probability of two is 1/36. Meanwhile, there are 6 ways to end up with a seven, so the probability of seven is 6/36. We can do that for all possible numbers.</p>
<p>This bar chart shows a <strong>discrete probability distribution</strong> - each possible outcome has a specific probability, and all probabilities sum to 1. The outcome (the sum of two die) is on the x-axis. The probability that even twill occur is on the y-axis.</p>
</div>
</div>
<div id="discrete-vs.-continuous-distributions" class="section level3 hasAnchor" number="10.113.2">
<h3><span class="header-section-number">10.113.2</span> Discrete vs. Continuous Distributions<a href="references.html#discrete-vs.-continuous-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Discrete distributions</strong> deal with countable outcomes:</p>
<ul>
<li>Number of yes votes in the Senate (0, 1, 2, …, 100)</li>
<li>Number of supreme court justices appointed by a president</li>
<li>Survey responses on a 1-5 scale</li>
</ul>
<p><strong>Continuous distributions</strong> deal with measurements that can take any value in a range:</p>
<ul>
<li>Voter approval ratings (any percentage from 0% to 100%)</li>
<li>Campaign spending (any dollar amount)</li>
<li>Time until election results are called</li>
</ul>
<p>With continuous distributions, we don’t ask “What’s the probability of exactly 51.7%?”. Since there are infinitely many outcomes, the probability of any specific number is actually 0! Instead, we ask about ranges: “What’s the probability of getting between 51% and 52%?”</p>
</div>
<div id="formal-properties-of-probability-distributions" class="section level3 hasAnchor" number="10.113.3">
<h3><span class="header-section-number">10.113.3</span> Formal Properties of Probability Distributions<a href="references.html#formal-properties-of-probability-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now that we have intuition about probability, let’s formalize these concepts. Understanding these properties helps us verify that our calculations are correct and builds the foundation for statistical inference.</p>
<div id="properties-of-discrete-probability-distributions" class="section level4 hasAnchor" number="10.113.3.1">
<h4><span class="header-section-number">10.113.3.1</span> Properties of Discrete Probability Distributions<a href="references.html#properties-of-discrete-probability-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For discrete random variables (like the sum of two dice or number of Senate votes), we use a <strong>probability mass function (PMF)</strong> to assign probabilities to each possible outcome.</p>
<p><strong>Formal Definition</strong>: If X is a discrete random variable that can take values x₁, x₂, x₃, …, then P(X = xᵢ) gives the probability of each outcome.</p>
<p><strong>Two fundamental properties must always hold:</strong></p>
<ol style="list-style-type: decimal">
<li><p><strong>Non-negativity</strong>: Every probability must be between 0 and 1
<span class="math display">\[0 \leq P(X = x_i) \leq 1 \text{ for all } i\]</span></p></li>
<li><p><strong>Probabilities sum to 1</strong>: The total probability across all possible outcomes equals 1
<span class="math display">\[\sum_{i} P(X = x_i) = 1\]</span></p></li>
</ol>
<p>Let’s verify these properties with our dice example:</p>
<div class="sourceCode" id="cb482"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb482-1"><a href="references.html#cb482-1" tabindex="-1"></a><span class="co"># Verify the formal properties for our dice distribution</span></span>
<span id="cb482-2"><a href="references.html#cb482-2" tabindex="-1"></a>dice_probs <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb482-3"><a href="references.html#cb482-3" tabindex="-1"></a>  <span class="at">sum =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">12</span>,</span>
<span id="cb482-4"><a href="references.html#cb482-4" tabindex="-1"></a>  <span class="at">ways =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>),</span>
<span id="cb482-5"><a href="references.html#cb482-5" tabindex="-1"></a>  <span class="at">probability =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>) <span class="sc">/</span> <span class="dv">36</span></span>
<span id="cb482-6"><a href="references.html#cb482-6" tabindex="-1"></a>)</span>
<span id="cb482-7"><a href="references.html#cb482-7" tabindex="-1"></a></span>
<span id="cb482-8"><a href="references.html#cb482-8" tabindex="-1"></a><span class="co"># Property 1: All probabilities between 0 and 1?</span></span>
<span id="cb482-9"><a href="references.html#cb482-9" tabindex="-1"></a><span class="fu">all</span>(dice_probs<span class="sc">$</span>probability <span class="sc">&gt;=</span> <span class="dv">0</span> <span class="sc">&amp;</span> dice_probs<span class="sc">$</span>probability <span class="sc">&lt;=</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb484-1"><a href="references.html#cb484-1" tabindex="-1"></a><span class="co"># Property 2: Do probabilities sum to 1?</span></span>
<span id="cb484-2"><a href="references.html#cb484-2" tabindex="-1"></a><span class="fu">sum</span>(dice_probs<span class="sc">$</span>probability)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
</div>
<div id="properties-of-continuous-probability-distributions" class="section level4 hasAnchor" number="10.113.3.2">
<h4><span class="header-section-number">10.113.3.2</span> Properties of Continuous Probability Distributions<a href="references.html#properties-of-continuous-probability-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For continuous random variables (like approval ratings or voter turnout), we use a <strong>probability density function (PDF)</strong> denoted as f(x).</p>
<p><strong>Key insight</strong>: For continuous distributions, the probability of any exact value is 0. Instead, probabilities are “areas under the curve.”</p>
<p><strong>Formal Definition</strong>: If X is a continuous random variable with PDF f(x), then:
- f(x) gives the <strong>density</strong> at point x (height of the curve)
- P(a &lt; X &lt; b) = area under f(x) between a and b</p>
<p><strong>Two fundamental properties must always hold:</strong></p>
<ol style="list-style-type: decimal">
<li><p><strong>Non-negativity</strong>: The density function must be non-negative everywhere
<span class="math display">\[f(x) \geq 0 \text{ for all } x\]</span></p></li>
<li><p><strong>Total area equals 1</strong>: The total area under the curve equals 1
<span class="math display">\[\int_{-\infty}^{\infty} f(x) \, dx = 1\]</span></p></li>
</ol>
<p>If that integration symbol seems intimidating, don’t worry about it. We will never be doing these calculations by hand. Instead, we will let R handle these calculations for us. The key points to undersand are that:</p>
<ul>
<li>Probability for any range of values is the “area under the curve”</li>
<li>The total probability “under the curve” for all possible values must sum to 1.</li>
</ul>
</div>
</div>
<div id="parameters-of-distributions" class="section level3 hasAnchor" number="10.113.4">
<h3><span class="header-section-number">10.113.4</span> Parameters of Distributions<a href="references.html#parameters-of-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Every probability distribution has characteristics that summarize its behavior. The two most important are:</p>
<ol style="list-style-type: decimal">
<li><strong>Mean (μ, “mu”)</strong>: The expected value or long-run average</li>
<li><strong>Variance (σ², “sigma squared”)</strong>: How spread out the values are</li>
</ol>
<p><strong>Critical Distinction: Parameters vs. Statistics</strong></p>
<p>This is one of the most important conceptual distinctions in statistics, and it’s easy to confuse. Let’s break it down:</p>
<p><strong>Population Parameters</strong> (Greek letters)</p>
<ul>
<li>These are the TRUE values for the entire population</li>
<li>We almost never know these values</li>
<li>They are fixed, unchanging numbers</li>
<li>We use Greek letters to denote them:
<ul>
<li><strong>μ</strong> (mu) = true population mean</li>
<li><strong>σ²</strong> (sigma squared) = true population variance<br />
</li>
<li><strong>σ</strong> (sigma) = true population standard deviation</li>
</ul></li>
</ul>
<p><strong>Sample Statistics</strong> (Roman letters)</p>
<ul>
<li>These are what we CALCULATE from our data</li>
<li>They vary from sample to sample</li>
<li>They are our best guesses at the population parameters</li>
<li>We use Roman letters with special notation:
<ul>
<li><strong>x̄</strong> (x-bar) = sample mean</li>
<li><strong>s²</strong> = sample variance</li>
<li><strong>s</strong> = sample standard deviation</li>
</ul></li>
</ul>
<p><strong>Why This Matters: An Example</strong></p>
<p>Imagine we want to know the average age of all U.S. voters (about 240 million people):</p>
<ul>
<li><strong>μ</strong> = the TRUE average age of all 240 million voters (maybe 47.3 years)
<ul>
<li>This is unknown unless we survey everyone (census)</li>
<li>It’s a fixed number that exists in reality</li>
</ul></li>
<li><strong>x̄</strong> = the average age from our sample of 1,000 voters (maybe 46.8 years)
<ul>
<li>This is what we actually calculate</li>
<li>If we took a different sample, we’d get a different x̄ (maybe 47.9)</li>
<li>We hope it’s close to μ, but it’s not exactly μ</li>
</ul></li>
</ul>
<p>The entire field of statistical inference is about using what we can calculate (statistics like x̄) to make educated guesses about what we want to know (parameters like μ). This is why we need probability theory - to understand how much our sample statistics might vary from the true population parameters.</p>
<hr />
</div>
</div>
<div id="part-ii-the-normal-distribution" class="section level2 hasAnchor" number="10.114">
<h2><span class="header-section-number">10.114</span> Part II: The Normal Distribution<a href="references.html#part-ii-the-normal-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="properties-and-importance" class="section level3 hasAnchor" number="10.114.1">
<h3><span class="header-section-number">10.114.1</span> Properties and Importance<a href="references.html#properties-and-importance" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <strong>normal distribution</strong> (also called the Gaussian distribution or bell curve) is the most important probability distribution in statistics. It appears everywhere because of the Central Limit Theorem, which says that sample averages (means) tend to follow a normal distribution regardless of the original data’s shape.</p>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-198-1.png" width="672" /></p>
<p><strong>Key properties of the normal distribution:</strong></p>
<ol style="list-style-type: decimal">
<li><strong>Bell-shaped</strong> and perfectly <strong>symmetric</strong> around the mean</li>
<li><strong>Mean = Median = Mode</strong> (all at the center)</li>
<li>Completely determined by two parameters: μ (mean) and σ (standard deviation)</li>
<li>Total area under the curve = 1 (like all probability distributions)</li>
<li>Tails technically extend infinitely but get very close to zero for values far from the mean</li>
</ol>
</div>
<div id="the-standard-normal-and-z-scores" class="section level3 hasAnchor" number="10.114.2">
<h3><span class="header-section-number">10.114.2</span> The Standard Normal and Z-Scores<a href="references.html#the-standard-normal-and-z-scores" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <strong>standard normal distribution</strong> is a special case where μ = 0 and σ = 1. Any normal distribution can be converted to standard normal using:</p>
<p><span class="math display">\[Z = \frac{X - \mu}{\sigma}\]</span></p>
<p>This transformation is called <strong>standardization</strong>, and the result is a <strong>z-score</strong>.</p>
<div id="what-z-scores-tell-us" class="section level4 hasAnchor" number="10.114.2.1">
<h4><span class="header-section-number">10.114.2.1</span> What Z-Scores Tell Us<a href="references.html#what-z-scores-tell-us" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A z-score tells you how many standard deviations a value is from the mean:</p>
<ul>
<li>Z = 0: exactly at the mean</li>
<li>Z = 1: one standard deviation above the mean</li>
<li>Z = -2: two standard deviations below the mean</li>
</ul>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-199-1.png" width="672" /></p>
</div>
</div>
<div id="the-empirical-rule-68-95-99.7" class="section level3 hasAnchor" number="10.114.3">
<h3><span class="header-section-number">10.114.3</span> The Empirical Rule (68-95-99.7)<a href="references.html#the-empirical-rule-68-95-99.7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For any normal distribution:</p>
<ul>
<li><strong>~68%</strong> of values fall within ±1σ of the mean</li>
<li><strong>~95%</strong> of values fall within ±2σ of the mean<br />
</li>
<li><strong>~99.7%</strong> of values fall within ±3σ of the mean</li>
</ul>
<p>This rule provides quick probability estimates without calculation. For example, if test scores are normally distributed with μ = 75 and σ = 10:</p>
<ul>
<li>About 68% score between 65 and 85</li>
<li>About 95% score between 55 and 95</li>
<li>Scores below 45 or above 105 are very rare (~0.3%)</li>
</ul>
<hr />
</div>
</div>
<div id="part-iii-working-with-probability-in-r" class="section level2 hasAnchor" number="10.115">
<h2><span class="header-section-number">10.115</span> Part III: Working with Probability in R<a href="references.html#part-iii-working-with-probability-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="key-r-functions-for-the-normal-distribution" class="section level3 hasAnchor" number="10.115.1">
<h3><span class="header-section-number">10.115.1</span> Key R Functions for the Normal Distribution<a href="references.html#key-r-functions-for-the-normal-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R provides four essential functions for working with normal distributions:</p>
<table>
<colgroup>
<col width="22%" />
<col width="20%" />
<col width="37%" />
<col width="20%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Purpose</th>
<th>What It Returns</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>dnorm(x)</code></td>
<td><strong>Density</strong></td>
<td>Height of the curve at point x</td>
<td><code>dnorm(0)</code> = 0.399</td>
</tr>
<tr class="even">
<td><code>pnorm(x)</code></td>
<td><strong>Probability</strong></td>
<td>Area to the left of x (cumulative probability)</td>
<td><code>pnorm(0)</code> = 0.5</td>
</tr>
<tr class="odd">
<td><code>qnorm(p)</code></td>
<td><strong>Quantile</strong></td>
<td>The x value with p area to its left</td>
<td><code>qnorm(0.5)</code> = 0</td>
</tr>
<tr class="even">
<td><code>rnorm(n)</code></td>
<td><strong>Random</strong></td>
<td>n random values from the distribution</td>
<td><code>rnorm(100)</code> generates 100 values</td>
</tr>
</tbody>
</table>
<p>Think of these as answering different questions:</p>
<ul>
<li><code>dnorm</code>: “How tall is the curve here?”</li>
<li><code>pnorm</code>: “What’s the probability of getting less than x?”</li>
<li><code>qnorm</code>: “What value of x has probability p below it?”</li>
<li><code>rnorm</code>: “Give me random data from this distribution”</li>
</ul>
</div>
<div id="calculating-probabilities-with-pnorm" class="section level3 hasAnchor" number="10.115.2">
<h3><span class="header-section-number">10.115.2</span> Calculating Probabilities with pnorm()<a href="references.html#calculating-probabilities-with-pnorm" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>pnorm()</code> function calculates cumulative probabilities - the area under the curve to the left of a value. Think of it as answering: <strong>“What percentage of the population falls below this value?”</strong> It is what is called the <strong>cumulative density function</strong> for the normal distribution.</p>
<p><strong>Intuitive Analogy</strong>: Imagine lining up everyone in order by height. <code>pnorm()</code> tells you what percentage of people you’d have to walk past before reaching someone of a specific height.</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb486-1"><a href="references.html#cb486-1" tabindex="-1"></a><span class="co"># Example: Test scores in a class are normally distributed</span></span>
<span id="cb486-2"><a href="references.html#cb486-2" tabindex="-1"></a><span class="co"># The mean score is 45 with a standard deviation of 5</span></span>
<span id="cb486-3"><a href="references.html#cb486-3" tabindex="-1"></a>mu <span class="ot">&lt;-</span> <span class="dv">45</span>      <span class="co"># Population mean atest score</span></span>
<span id="cb486-4"><a href="references.html#cb486-4" tabindex="-1"></a>sigma <span class="ot">&lt;-</span> <span class="dv">5</span>    <span class="co"># Population standard deviation</span></span>
<span id="cb486-5"><a href="references.html#cb486-5" tabindex="-1"></a>threshold <span class="ot">&lt;-</span> <span class="dv">50</span>  <span class="co"># We want to know: what % of students scored 50 or less</span></span>
<span id="cb486-6"><a href="references.html#cb486-6" tabindex="-1"></a></span>
<span id="cb486-7"><a href="references.html#cb486-7" tabindex="-1"></a><span class="co"># pnorm calculates the cumulative probability (area to the left)</span></span>
<span id="cb486-8"><a href="references.html#cb486-8" tabindex="-1"></a><span class="co"># It answers: &quot;What proportion of students scored below 40?&quot;</span></span>
<span id="cb486-9"><a href="references.html#cb486-9" tabindex="-1"></a>prob <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(threshold, <span class="at">mean =</span> mu, <span class="at">sd =</span> sigma)</span>
<span id="cb486-10"><a href="references.html#cb486-10" tabindex="-1"></a><span class="fu">print</span>(prob)</span></code></pre></div>
<pre><code>## [1] 0.8413447</code></pre>
<p>This means about 84.1% of students scored below 50%, only 15.9% scored above 50%.</p>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-201-1.png" width="672" /></p>
<p><strong>Key Points about <code>pnorm()</code></strong>:</p>
<ul>
<li>Always gives a number between 0 and 1</li>
<li><code>pnorm(mean)</code> always equals 0.5 (half below, half above)</li>
<li>Larger values → probabilities closer to 1</li>
<li>Smaller values → probabilities closer to 0</li>
</ul>
<p>For probabilities to the right, use <code>lower.tail = FALSE</code>:</p>
<div class="sourceCode" id="cb488"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb488-1"><a href="references.html#cb488-1" tabindex="-1"></a><span class="co"># Sometimes we want P(X &gt; some value) instead of P(X &lt; some value)</span></span>
<span id="cb488-2"><a href="references.html#cb488-2" tabindex="-1"></a><span class="co"># Use lower.tail = FALSE to get the area to the RIGHT</span></span>
<span id="cb488-3"><a href="references.html#cb488-3" tabindex="-1"></a></span>
<span id="cb488-4"><a href="references.html#cb488-4" tabindex="-1"></a><span class="co"># What&#39;s the probability someone scores MORE than 50%?</span></span>
<span id="cb488-5"><a href="references.html#cb488-5" tabindex="-1"></a>prob_right <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="dv">50</span>, <span class="at">mean =</span> <span class="dv">45</span>, <span class="at">sd =</span> <span class="dv">5</span>, <span class="at">lower.tail =</span> <span class="cn">FALSE</span>)</span>
<span id="cb488-6"><a href="references.html#cb488-6" tabindex="-1"></a><span class="fu">print</span>(prob_right)</span></code></pre></div>
<pre><code>## [1] 0.1586553</code></pre>
<div class="sourceCode" id="cb490"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb490-1"><a href="references.html#cb490-1" tabindex="-1"></a><span class="co"># Notice: prob + prob_right = 1.000 (they&#39;re complements!)</span></span></code></pre></div>
<p>We can also calculate the probability of an interval. We do this by subtracting. For example, what if we wanted to know what percent of people scored between 40 and 50. We can calculate the first the probability that people scored below 50%. Then we calculate the probability that they scored below 40. When we subtract these two, we get the probability that they fall in the middle.</p>
<div class="sourceCode" id="cb491"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb491-1"><a href="references.html#cb491-1" tabindex="-1"></a><span class="co"># For intervals, we need to subtract two probabilities</span></span>
<span id="cb491-2"><a href="references.html#cb491-2" tabindex="-1"></a><span class="co"># Example: What % of people have approval between 40% and 50%?</span></span>
<span id="cb491-3"><a href="references.html#cb491-3" tabindex="-1"></a>prob_below_50 <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="dv">50</span>, <span class="at">mean =</span> <span class="dv">45</span>, <span class="at">sd =</span> <span class="dv">5</span>)  <span class="co"># P(X &lt; 50)</span></span>
<span id="cb491-4"><a href="references.html#cb491-4" tabindex="-1"></a>prob_below_40 <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="dv">40</span>, <span class="at">mean =</span> <span class="dv">45</span>, <span class="at">sd =</span> <span class="dv">5</span>)  <span class="co"># P(X &lt; 40)</span></span>
<span id="cb491-5"><a href="references.html#cb491-5" tabindex="-1"></a>prob_interval <span class="ot">&lt;-</span> prob_below_50 <span class="sc">-</span> prob_below_40  <span class="co"># P(40 &lt; X &lt; 50)</span></span>
<span id="cb491-6"><a href="references.html#cb491-6" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">round</span>(prob_interval, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## [1] 0.683</code></pre>
<p>The probability is about 68.3%.</p>
<p><strong>Visualization</strong>: To see this visually, think about what <code>pnorm</code> calculates when we put in 50 and what it looks like when we put in 40. When we subtract one from the other, we get the interval in between.</p>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-204-1.png" width="672" /></p>
</div>
<div id="finding-quantiles-with-qnorm---the-inverse-problem" class="section level3 hasAnchor" number="10.115.3">
<h3><span class="header-section-number">10.115.3</span> Finding Quantiles with qnorm() - The Inverse Problem<a href="references.html#finding-quantiles-with-qnorm---the-inverse-problem" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-205-1.png" width="672" /></p>
<p>The <code>qnorm()</code> function is the <strong>inverse</strong> of <code>pnorm()</code>. It is something called a <strong>quantile function</strong> for the normal distribution. This confuses many students, so let’s break it down:</p>
<p><strong>pnorm() asks</strong>: “Given a value, what’s the probability below it?”</p>
<p><strong>qnorm() asks</strong>: “Given a probability, what value has that much below it?”</p>
<p><strong>Think of it like this:</strong></p>
<ul>
<li><code>pnorm()</code> is like asking: “If someone is 6 feet tall, what percentile are they?”</li>
<li><code>qnorm()</code> is like asking: “What height represents the 90th percentile?”</li>
</ul>
<p><strong>Another way to think about it:</strong></p>
<ul>
<li><code>pnorm()</code>: Value → Probability (forward direction)</li>
<li><code>qnorm()</code>: Probability → Value (reverse direction)</li>
</ul>
<p>Let’s see how <code>pnorm</code> and <code>qnorm</code> are inverses of each other</p>
<div class="sourceCode" id="cb493"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb493-1"><a href="references.html#cb493-1" tabindex="-1"></a>mu <span class="ot">&lt;-</span> <span class="dv">45</span>      <span class="co"># Test scores with  mean 45</span></span>
<span id="cb493-2"><a href="references.html#cb493-2" tabindex="-1"></a>sigma <span class="ot">&lt;-</span> <span class="dv">5</span>    <span class="co"># and standard deviation 5</span></span>
<span id="cb493-3"><a href="references.html#cb493-3" tabindex="-1"></a></span>
<span id="cb493-4"><a href="references.html#cb493-4" tabindex="-1"></a><span class="co"># Start with a specific test value</span></span>
<span id="cb493-5"><a href="references.html#cb493-5" tabindex="-1"></a>original_value <span class="ot">&lt;-</span> <span class="dv">48</span>  <span class="co"># Someone with score of 48</span></span>
<span id="cb493-6"><a href="references.html#cb493-6" tabindex="-1"></a></span>
<span id="cb493-7"><a href="references.html#cb493-7" tabindex="-1"></a><span class="co"># Step 1: Use pnorm to find what percentile this person is at</span></span>
<span id="cb493-8"><a href="references.html#cb493-8" tabindex="-1"></a><span class="co"># &quot;What percentage of people have score of 48 or below?&quot;</span></span>
<span id="cb493-9"><a href="references.html#cb493-9" tabindex="-1"></a>prob <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(original_value, <span class="at">mean =</span> mu, <span class="at">sd =</span> sigma)</span>
<span id="cb493-10"><a href="references.html#cb493-10" tabindex="-1"></a><span class="fu">print</span>(prob)</span></code></pre></div>
<pre><code>## [1] 0.7257469</code></pre>
<p>We can see that about 72.6% of students scored below 48.</p>
<p>We use <code>qnorm</code> to convert back from percentile to score. We ask, “What score corresponds to the 72.6th percentile?”</p>
<div class="sourceCode" id="cb495"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb495-1"><a href="references.html#cb495-1" tabindex="-1"></a>back_to_value <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(prob, <span class="at">mean =</span> mu, <span class="at">sd =</span> sigma)</span>
<span id="cb495-2"><a href="references.html#cb495-2" tabindex="-1"></a><span class="fu">print</span>(back_to_value)</span></code></pre></div>
<pre><code>## [1] 48</code></pre>
<p>They’re inverses - we get back where we started!</p>
<p><strong>Common qnorm() Applications:</strong></p>
<p>There are three common ways we use <code>qnorm</code>.</p>
<ol style="list-style-type: decimal">
<li>We use it to find specific percentils?</li>
<li>We use it to find important “cutoffs.”</li>
<li>We use it to find important middle ranges.</li>
</ol>
<p><strong>Finding specific quantiles</strong></p>
<p>Let’s go back to our test example. What is the 75th percentile for this test? That is, what score would you need to have to score aboe 75% of other students?</p>
<div class="sourceCode" id="cb497"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb497-1"><a href="references.html#cb497-1" tabindex="-1"></a>percentile_75 <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="fl">0.75</span>, <span class="at">mean =</span> mu, <span class="at">sd =</span> sigma)  </span>
<span id="cb497-2"><a href="references.html#cb497-2" tabindex="-1"></a><span class="fu">print</span>(percentile_75)</span></code></pre></div>
<pre><code>## [1] 48.37245</code></pre>
<p><strong>Finding “cutoffs”</strong></p>
<p>I can use this same idea to find important cutoffs at both the top and the bottom of the distribution. For instance, let’s say that I want to find all of the students in the class in the top 10%. I just need to find the “cutoff” that divides the top 10% from the bottom 90%. Since <code>pnorm</code> by default calculates probabilities <em>below</em> a quantile we can just do:</p>
<div class="sourceCode" id="cb499"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb499-1"><a href="references.html#cb499-1" tabindex="-1"></a>top_10_cutoff <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="fl">0.90</span>, <span class="at">mean =</span> mu, <span class="at">sd =</span> sigma)</span>
<span id="cb499-2"><a href="references.html#cb499-2" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">round</span>(top_10_cutoff, <span class="dv">2</span>))</span></code></pre></div>
<pre><code>## [1] 51.41</code></pre>
<p>Now I would just look for any student who scored higher than this threshold!</p>
<p><strong>Finding symmetric intervals</strong></p>
<p>Sometimes we might want to find symmetric intervals around the mean that include a certain percentage of the distribution. For instance, we might ask, “What range contains the middle 90% of scores?” Using the same ideas as before, we just calculate the following.</p>
<div class="sourceCode" id="cb501"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb501-1"><a href="references.html#cb501-1" tabindex="-1"></a><span class="co"># Middle 90% means 5% in each tail, so 5th and 95th percentiles</span></span>
<span id="cb501-2"><a href="references.html#cb501-2" tabindex="-1"></a>lower_5 <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="fl">0.05</span>, <span class="at">mean =</span> mu, <span class="at">sd =</span> sigma)  <span class="co"># 5th percentile</span></span>
<span id="cb501-3"><a href="references.html#cb501-3" tabindex="-1"></a>upper_95 <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="fl">0.95</span>, <span class="at">mean =</span> mu, <span class="at">sd =</span> sigma)  <span class="co"># 95th percentile</span></span>
<span id="cb501-4"><a href="references.html#cb501-4" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">&quot;Middle 90% of scores: &quot;</span>, <span class="fu">round</span>(lower_5, <span class="dv">1</span>), <span class="st">&quot; to &quot;</span>, <span class="fu">round</span>(upper_95, <span class="dv">1</span>)))</span></code></pre></div>
<pre><code>## [1] &quot;Middle 90% of scores: 36.8 to 53.2&quot;</code></pre>
</div>
<div id="understanding-dnorm-the-height-of-the-curve" class="section level3 hasAnchor" number="10.115.4">
<h3><span class="header-section-number">10.115.4</span> Understanding dnorm(): The Height of the Curve<a href="references.html#understanding-dnorm-the-height-of-the-curve" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>While <code>pnorm()</code> gives us probabilities (areas), <code>dnorm()</code> is the <strong>density function</strong> - the height of the normal curve at any point. This doesn’t directly give us a probability, but it’s useful for:</p>
<ul>
<li>Drawing normal distributions</li>
<li>Understanding where the curve is tallest (at the mean)</li>
</ul>
<div class="sourceCode" id="cb503"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb503-1"><a href="references.html#cb503-1" tabindex="-1"></a><span class="co"># Simple example: Plot a normal distribution with mean=45, sd=5</span></span>
<span id="cb503-2"><a href="references.html#cb503-2" tabindex="-1"></a>mu <span class="ot">&lt;-</span> <span class="dv">45</span></span>
<span id="cb503-3"><a href="references.html#cb503-3" tabindex="-1"></a>sigma <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb503-4"><a href="references.html#cb503-4" tabindex="-1"></a></span>
<span id="cb503-5"><a href="references.html#cb503-5" tabindex="-1"></a><span class="co"># Step 1: Create a sequence of x values</span></span>
<span id="cb503-6"><a href="references.html#cb503-6" tabindex="-1"></a><span class="co"># We need points along the x-axis where we&#39;ll calculate the height</span></span>
<span id="cb503-7"><a href="references.html#cb503-7" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> mu <span class="sc">-</span> <span class="dv">4</span><span class="sc">*</span>sigma,   <span class="co"># Start at 4 SDs below mean (40)</span></span>
<span id="cb503-8"><a href="references.html#cb503-8" tabindex="-1"></a>         <span class="at">to =</span> mu <span class="sc">+</span> <span class="dv">4</span><span class="sc">*</span>sigma,      <span class="co"># End at 4 SDs above mean (160)</span></span>
<span id="cb503-9"><a href="references.html#cb503-9" tabindex="-1"></a>         <span class="at">length.out =</span> <span class="dv">100</span>)       <span class="co"># Use 100 points for smooth curve</span></span>
<span id="cb503-10"><a href="references.html#cb503-10" tabindex="-1"></a></span>
<span id="cb503-11"><a href="references.html#cb503-11" tabindex="-1"></a><span class="co"># Step 2: Calculate the height (density) at each x value using dnorm()</span></span>
<span id="cb503-12"><a href="references.html#cb503-12" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">dnorm</span>(x, <span class="at">mean =</span> mu, <span class="at">sd =</span> sigma)</span>
<span id="cb503-13"><a href="references.html#cb503-13" tabindex="-1"></a></span>
<span id="cb503-14"><a href="references.html#cb503-14" tabindex="-1"></a><span class="co"># Step 3: Create a data frame for ggplot</span></span>
<span id="cb503-15"><a href="references.html#cb503-15" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)</span>
<span id="cb503-16"><a href="references.html#cb503-16" tabindex="-1"></a></span>
<span id="cb503-17"><a href="references.html#cb503-17" tabindex="-1"></a><span class="co"># Step 4: Plot the normal distribution</span></span>
<span id="cb503-18"><a href="references.html#cb503-18" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb503-19"><a href="references.html#cb503-19" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span>  <span class="co"># Draw the curve</span></span>
<span id="cb503-20"><a href="references.html#cb503-20" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> mu,              <span class="co"># Add vertical line at mean</span></span>
<span id="cb503-21"><a href="references.html#cb503-21" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, </span>
<span id="cb503-22"><a href="references.html#cb503-22" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, </span>
<span id="cb503-23"><a href="references.html#cb503-23" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb503-24"><a href="references.html#cb503-24" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>,                         <span class="co"># Add text annotation</span></span>
<span id="cb503-25"><a href="references.html#cb503-25" tabindex="-1"></a>           <span class="at">x =</span> mu <span class="sc">+</span> <span class="dv">4</span>, </span>
<span id="cb503-26"><a href="references.html#cb503-26" tabindex="-1"></a>           <span class="at">y =</span> <span class="fl">0.025</span>, </span>
<span id="cb503-27"><a href="references.html#cb503-27" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&quot;Mean = 45</span><span class="sc">\n</span><span class="st">(peak of curve)&quot;</span>, </span>
<span id="cb503-28"><a href="references.html#cb503-28" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb503-29"><a href="references.html#cb503-29" tabindex="-1"></a>           <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb503-30"><a href="references.html#cb503-30" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb503-31"><a href="references.html#cb503-31" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Normal Distribution using dnorm()&quot;</span>,</span>
<span id="cb503-32"><a href="references.html#cb503-32" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;N(45, 5)&quot;</span>,</span>
<span id="cb503-33"><a href="references.html#cb503-33" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Value&quot;</span>,</span>
<span id="cb503-34"><a href="references.html#cb503-34" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Density (Height)&quot;</span></span>
<span id="cb503-35"><a href="references.html#cb503-35" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb503-36"><a href="references.html#cb503-36" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb503-37"><a href="references.html#cb503-37" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb503-38"><a href="references.html#cb503-38" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb503-39"><a href="references.html#cb503-39" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">11</span>, <span class="at">color =</span> <span class="st">&quot;gray50&quot;</span>)</span>
<span id="cb503-40"><a href="references.html#cb503-40" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-211-1.png" width="672" /></p>
<p>The <code>dnorm()</code> function calculates the <strong>probability density function</strong> (PDF) of the normal distribution:</p>
<p><span class="math display">\[f(x) = \frac{1}{\sigma\sqrt{2\pi}} e^{-\frac{1}{2}\left(\frac{x-\mu}{\sigma}\right)^2}\]</span></p>
<p>Where:</p>
<ul>
<li><span class="math inline">\(x\)</span> is the value where you want the height</li>
<li><span class="math inline">\(\mu\)</span> is the mean</li>
<li><span class="math inline">\(\sigma\)</span> is the standard deviation</li>
<li><span class="math inline">\(e \approx 2.718\)</span> is Euler’s number</li>
<li><span class="math inline">\(\pi \approx 3.14159\)</span></li>
</ul>
<p>This formula gives the height of the bell curve at any point <span class="math inline">\(x\)</span>. But you will never have to use this formula, because R will do it for you (or I will just give you the R output you need).</p>
</div>
<div id="generating-random-data-with-rnorm" class="section level3 hasAnchor" number="10.115.5">
<h3><span class="header-section-number">10.115.5</span> Generating Random Data with rnorm()<a href="references.html#generating-random-data-with-rnorm" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>rnorm()</code> function generates random values from a normal distribution. This is incredibly useful for:</p>
<ul>
<li>Simulations</li>
<li>Testing code before you have real data<br />
</li>
<li>Understanding sampling variability</li>
<li>Bootstrap methods (advanced topic)</li>
</ul>
<div class="sourceCode" id="cb504"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb504-1"><a href="references.html#cb504-1" tabindex="-1"></a><span class="co"># rnorm() generates random values from a normal distribution</span></span>
<span id="cb504-2"><a href="references.html#cb504-2" tabindex="-1"></a><span class="co"># Syntax: rnorm(n, mean, sd) where n is how many values you want</span></span>
<span id="cb504-3"><a href="references.html#cb504-3" tabindex="-1"></a></span>
<span id="cb504-4"><a href="references.html#cb504-4" tabindex="-1"></a><span class="co"># IMPORTANT: Set seed for reproducibility</span></span>
<span id="cb504-5"><a href="references.html#cb504-5" tabindex="-1"></a><span class="co"># Without set.seed(), you get different random numbers each time</span></span>
<span id="cb504-6"><a href="references.html#cb504-6" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># Any number works - this ensures we all get the same &quot;random&quot; results</span></span>
<span id="cb504-7"><a href="references.html#cb504-7" tabindex="-1"></a></span>
<span id="cb504-8"><a href="references.html#cb504-8" tabindex="-1"></a><span class="co"># Generate 1000 random test scores from N(45, 5)</span></span>
<span id="cb504-9"><a href="references.html#cb504-9" tabindex="-1"></a>n_people <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb504-10"><a href="references.html#cb504-10" tabindex="-1"></a>mu<span class="ot">&lt;-</span><span class="dv">45</span>    <span class="co"># True population mean</span></span>
<span id="cb504-11"><a href="references.html#cb504-11" tabindex="-1"></a>sigma<span class="ot">&lt;-</span><span class="dv">5</span>  <span class="co"># True population standard deviation</span></span>
<span id="cb504-12"><a href="references.html#cb504-12" tabindex="-1"></a></span>
<span id="cb504-13"><a href="references.html#cb504-13" tabindex="-1"></a><span class="co"># Generate the random sample</span></span>
<span id="cb504-14"><a href="references.html#cb504-14" tabindex="-1"></a>random_scores <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> n_people, <span class="at">mean =</span> mu, <span class="at">sd =</span> sigma)</span>
<span id="cb504-15"><a href="references.html#cb504-15" tabindex="-1"></a><span class="fu">print</span>(random_scores[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>]) <span class="co"># print first 20 randomly selected values</span></span></code></pre></div>
<pre><code>##  [1] 42.19762 43.84911 52.79354 45.35254 45.64644 53.57532 47.30458 38.67469 41.56574 42.77169
## [11] 51.12041 46.79907 47.00386 45.55341 42.22079 53.93457 47.48925 35.16691 48.50678 42.63604</code></pre>
<hr />
</div>
</div>
<div id="part-iv-looking-ahead" class="section level2 hasAnchor" number="10.116">
<h2><span class="header-section-number">10.116</span> Part IV: Looking Ahead<a href="references.html#part-iv-looking-ahead" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="the-t-distribution-when-samples-are-small" class="section level3 hasAnchor" number="10.116.1">
<h3><span class="header-section-number">10.116.1</span> The t-Distribution: When Samples Are Small<a href="references.html#the-t-distribution-when-samples-are-small" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>While the normal distribution is fundamental, real-world data analysis often involves small samples where we don’t know the population standard deviation. Enter the <strong>t-distribution</strong>:</p>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-213-1.png" width="672" /></p>
<p>Key points about the t-distribution:</p>
<ul>
<li><strong>Thicker tails</strong> = more probability for extreme values</li>
<li><strong>Degrees of freedom (df)</strong> = n - 1 for most applications</li>
<li>As df increases, t-distribution → normal distribution</li>
<li>Used for hypothesis testing with small samples (coming soon!)</li>
</ul>
<hr />
</div>
</div>
<div id="summary-7" class="section level2 hasAnchor" number="10.117">
<h2><span class="header-section-number">10.117</span> Summary<a href="references.html#summary-7" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We’ve built the mathematical foundation for statistical inference:</p>
<ol style="list-style-type: decimal">
<li><strong>Probability</strong> quantifies uncertainty using numbers from 0 to 1</li>
<li><strong>Discrete distributions</strong> assign probabilities to countable outcomes</li>
<li><strong>Continuous distributions</strong> describe probabilities over ranges</li>
<li>The <strong>normal distribution</strong> is central to statistics - symmetric, bell-shaped, and determined by μ and σ</li>
<li><strong>Z-scores</strong> standardize values to “standard deviations from mean”</li>
<li>The <strong>empirical rule</strong> gives quick probability estimates (68-95-99.7)</li>
<li>R functions (<code>pnorm</code>, <code>qnorm</code>, <code>dnorm</code>) make probability calculations straightforward and are the cumulative distribution function (CDF), quantile function, and probability density function (PDF) for the normal distribution.</li>
</ol>
<p>This foundation enables us to move from describing what we see in our data to making inferences about populations, testing hypotheses, and quantifying uncertainty. When we combine this what what we have already learned about sampling distributions, we are now ready to start doing statistics.</p>
</div>
<div id="study-questions-for-probability-and-probability-distributions" class="section level2 hasAnchor" number="10.118">
<h2><span class="header-section-number">10.118</span> Study Questions for Probability and Probability Distributions<a href="references.html#study-questions-for-probability-and-probability-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="understanding-probability-concepts" class="section level3 hasAnchor" number="10.118.1">
<h3><span class="header-section-number">10.118.1</span> Understanding Probability Concepts<a href="references.html#understanding-probability-concepts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>What is probability? What values can a probability take, and what do those values mean?</p></li>
<li><p>When rolling two dice, why is 7 the most likely sum? How many ways can you get a sum of 7 versus a sum of 2?</p></li>
<li><p>Explain the difference between discrete and continuous probability distributions.</p></li>
<li><p>Why is the probability of getting exactly 51.7% in a continuous distribution technically 0? What question should we ask instead?</p></li>
</ol>
</div>
<div id="parameters-vs.-statistics" class="section level3 hasAnchor" number="10.118.2">
<h3><span class="header-section-number">10.118.2</span> Parameters vs. Statistics<a href="references.html#parameters-vs.-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="5" style="list-style-type: decimal">
<li><p>What’s the difference between μ and x̄? Between σ and s? Why do we use different symbols?</p></li>
<li><p>A pollster surveys 1,000 voters and finds that 52% support a candidate. Is 52% a parameter or a statistic? What about the true support level among all voters?</p></li>
</ol>
</div>
<div id="the-normal-distribution" class="section level3 hasAnchor" number="10.118.3">
<h3><span class="header-section-number">10.118.3</span> The Normal Distribution<a href="references.html#the-normal-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="7" style="list-style-type: decimal">
<li><p>List three key properties of the normal distribution.</p></li>
<li><p>What two parameters completely determine a normal distribution? How do changes in each parameter affect the shape?</p></li>
<li><p>TRUE or FALSE: In a normal distribution, the mean, median, and mode are all equal. Explain why.</p></li>
</ol>
</div>
<div id="z-scores-and-standardization" class="section level3 hasAnchor" number="10.118.4">
<h3><span class="header-section-number">10.118.4</span> Z-Scores and Standardization<a href="references.html#z-scores-and-standardization" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="10" style="list-style-type: decimal">
<li><p>If someone’s test score has a z-score of -1.5, what does this tell you about their performance?</p></li>
<li><p>Convert these values to z-scores:</p>
<ul>
<li>X = 85, μ = 75, σ = 10</li>
<li>X = 60, μ = 75, σ = 10</li>
</ul></li>
<li><p>If approval ratings are N(45, 8), what z-score corresponds to an approval rating of 53%?</p></li>
</ol>
</div>
<div id="the-empirical-rule" class="section level3 hasAnchor" number="10.118.5">
<h3><span class="header-section-number">10.118.5</span> The Empirical Rule<a href="references.html#the-empirical-rule" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="13" style="list-style-type: decimal">
<li><p>State the empirical rule (68-95-99.7 rule). What assumption must be true for this rule to apply?</p></li>
<li><p>If test scores follow N(70, 10), use the empirical rule to find approximately:</p>
<ul>
<li>What percentage of students score between 60 and 80?</li>
<li>What percentage score above 90?</li>
<li>What range contains the middle 95% of scores?</li>
</ul></li>
</ol>
</div>
<div id="working-with-r-functions" class="section level3 hasAnchor" number="10.118.6">
<h3><span class="header-section-number">10.118.6</span> Working with R Functions<a href="references.html#working-with-r-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="15" style="list-style-type: decimal">
<li><p>Match each R function with what it calculates:</p>
<ul>
<li><code>pnorm()</code></li>
<li><code>qnorm()</code></li>
<li><code>dnorm()</code></li>
<li><code>rnorm()</code></li>
</ul>
<p>A. Generates random values</p>
<p>B. Finds the height of the curve</p>
<p>C. Finds the value given a probability</p>
<p>D. Finds the probability given a value</p></li>
<li><p>What does <code>pnorm(100, mean = 100, sd = 15)</code> return? Explain why without running the code.</p></li>
<li><p>If <code>pnorm(30, mean = 25, sd = 5)</code> returns 0.841, what would <code>qnorm(0.841, mean = 25, sd = 5)</code> return? Explain.</p></li>
</ol>
</div>
<div id="calculating-probabilities-in-r" class="section level3 hasAnchor" number="10.118.7">
<h3><span class="header-section-number">10.118.7</span> Calculating Probabilities in R<a href="references.html#calculating-probabilities-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="18" style="list-style-type: decimal">
<li>Voter turnout in a district is normally distributed with mean 55% and standard deviation 8%. Write R code to find:
<ol style="list-style-type: lower-alpha">
<li>The probability that turnout is less than 50%</li>
<li>The probability that turnout is greater than 65%</li>
<li>The probability that turnout is between 50% and 60%</li>
</ol></li>
<li>For the same distribution (N(55, 8)), write R code to find:
<ol style="list-style-type: lower-alpha">
<li>The 90th percentile of turnout</li>
<li>The turnout level that only 5% of elections exceed</li>
<li>The range that contains the middle 80% of turnout values</li>
</ol></li>
<li>A student runs this code:</li>
</ol>
<p><code>qnorm(0.5, mean = 100, sd = 15)</code></p>
<p>Without running it, what value will it return and why?</p>
</div>
<div id="challenge-problems-advancedoptionalnot-on-test" class="section level3 hasAnchor" number="10.118.8">
<h3><span class="header-section-number">10.118.8</span> Challenge Problems (advanced/optional/not on test)<a href="references.html#challenge-problems-advancedoptionalnot-on-test" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Challenge 1. Write R code to verify the empirical rule. Generate 10,000 values from N(100, 15), then calculate what percentage fall within 1, 2, and 3 standard deviations of the mean.</p>
<p>Challenge 2. Two districts have voter turnout distributions:</p>
<p>District A: N(60, 5)</p>
<p>District B: N(55, 10)</p>
<p>Which district is more likely to have turnout above 65%? Below 50%? Show your work using R code.</p>

<div class="sourceCode" id="cb506"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb506-1"><a href="references.html#cb506-1" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
</div>
<div id="learning-objectives-13" class="section level2 hasAnchor" number="10.119">
<h2><span class="header-section-number">10.119</span> Learning Objectives<a href="references.html#learning-objectives-13" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>By the end of this guide, you will understand how to design and execute a complete research project, including developing a falsifiable hypothesis, collecting or finding appropriate data, conducting statistical analysis, and presenting your findings in a professional poster format. You’ll also learn what I’m looking for when grading these projects and how to avoid the most common mistakes students make.</p>
</div>
<div id="what-is-this-for-11" class="section level2 hasAnchor" number="10.120">
<h2><span class="header-section-number">10.120</span> What Is This For?<a href="references.html#what-is-this-for-11" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The poster project is one of the most important part of this course, worth 20% of your final grade. This is your opportunity to take everything you’ve learned about research design, data analysis, statistical reasoning, data management, and visualization and apply it to a question you genuinely care about. Unlike problem sets where I give you the data and tell you what to analyze, here you’ll make all the decisions: What question should I ask? How should I collect data? What statistical methods are appropriate? How should I present my findings?</p>
<p>I grade these posters personally because I consider them the culmination of your learning this semester. The best projects don’t just demonstrate technical competence—they show genuine curiosity about the world and a willingness to take intellectual risks. I greatly prefer teams who pursue exciting, ambitious questions and find null results to teams that play it safe with uninteresting hypotheses. Science works by being wrong productively, and you’re new at this, so embrace the possibility that your hypothesis might not be supported.</p>
<p>That said, null results are only acceptable when your research design is sound, your analysis is correct, and you interpret those results thoughtfully. This guide will help you understand what constitutes good research design and how to present your work professionally, regardless of whether your hypothesis is supported.</p>
</div>
<div id="project-deliverables-and-timeline" class="section level2 hasAnchor" number="10.121">
<h2><span class="header-section-number">10.121</span> Project Deliverables and Timeline<a href="references.html#project-deliverables-and-timeline" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You’ll submit your project as a single ZIP file containing three components: a PDF of your poster, an R script with all your analysis code, and all the data files needed to run that code. The submission is due by 5pm on the date listed on the syllabus. During your final lab session, I will attend and hear your poster presentation. You’ll explain your project, present your results, and answer questions from me and other students.</p>
<p>Your R script must be completely replicable. The only thing I should need to change is the working directory. Otherwise, when I run your code, it should execute without any errors and produce results that exactly match what’s on your poster. Any discrepancies or errors will result in point deductions. Your code should also include informative comments throughout (using the # symbol) explaining what you’re doing. Code without comments will be penalized. Generally, I don’t need to see all the code you used to collect, organize, or clean your data—but I do want the code that takes your final dataset, conducts the statistical analyses, and generates the tables and figures that appear on your poster.</p>
<p>To get you started, I will ask each group to provide me with a one page description of your project by November 1. The format of this document is quite flexible, and is not a firm commitment. But it is an opportunity to work with your group to put a plan down on paper (even if you may deviate later). The document shouldch outline the goals of the project, a sketch of your approach, individual responsibilities of the project members, and a tentative schedule. I recommended you
include milestones and deliverables in your project plan, which helps to keep your group accountable.</p>
</div>
<div id="finding-your-research-question" class="section level2 hasAnchor" number="10.122">
<h2><span class="header-section-number">10.122</span> Finding Your Research Question<a href="references.html#finding-your-research-question" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The most important decision you’ll make is choosing your research question. You should have a strong and substantive motivation for why you chose it. This means more than just “I thought it would be interesting”—you need to explain why this question matters, what gap in our understanding it addresses, or what practical or theoretical implications the answer might have. Your motivation section should include a few sentences of background context.</p>
<p>More fundamentally, though, you need to care about the question itself. What topics interest you? What phenomenon are you dying to explain? If you don’t care about the question, this project will be miserable to complete. I’ve seen teams produce brilliant work on topics as diverse as recycling behavior, mental health services on campus, election fraud, and partisan polarization—what they all had in common was genuine intellectual curiosity.</p>
<p>Your research question should be succinct and easily understood. Most importantly, it needs to be falsifiable. This is not the same as being “provable”—it means you need to be able to tell me what kind of statistical evidence would prove you wrong. If you can’t explain that, you don’t really have a scientific theory (or a null hypothesis for that matter). For example, “What makes college kids vote?” is too vague to be falsifiable. But “College students in states with stricter voter ID laws vote at rates 5-10 percentage points lower than students in states without such laws” is falsifiable—you could test this and potentially reject it.</p>
<p>Your question also needs to be specific enough to be manageable but interesting enough to matter. Broad questions like “Why do Americans vote?” or “What causes peace?” are too big. You need something you can actually test with available data and time. Better questions might be “Do college students vote more when registration is easier?” or “Does information about campus mental health wait times affect support for new campus construction?” These are specific, testable, and potentially interesting.</p>
</div>
<div id="theory-and-hypotheses" class="section level2 hasAnchor" number="10.123">
<h2><span class="header-section-number">10.123</span> Theory and Hypotheses<a href="references.html#theory-and-hypotheses" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Once you have a question, you need to develop a theory. This doesn’t have to be elaborate, but you need to clearly state what you expected when you started gathering data and why. What’s your theory of how the world works? For example, if you’re studying whether “please recycle” signs increase recycling behavior, your theory might be that visible prompts activate social norms and reduce cognitive load, making pro-environmental behavior more likely. This gives your hypothesis a foundation beyond simple speculation.</p>
<p>Your hypothesis needs to be precisely stated with both null and alternative versions. The null hypothesis typically states there is no relationship or effect. The alternative hypothesis states what you expect to find. Be specific about the direction and magnitude when possible. “Recycling signs increase recycling” is vague. “Recycling bins with visible signs will have more recyclable materials than bins without signs” is better—it’s specific, measurable, and falsifiable.</p>
</div>
<div id="what-you-cannot-do" class="section level2 hasAnchor" number="10.124">
<h2><span class="header-section-number">10.124</span> What You Cannot Do<a href="references.html#what-you-cannot-do" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While you have considerable freedom in choosing your topic, there are some important boundaries. First, you cannot conduct time-series studies where you’re studying one unit over time. Questions like “What drives presidential approval over time?” are out of bounds because time-series analysis requires additional statistical skills not covered in this course.</p>
<p>Second, you cannot do purely exploratory projects. If you ask “What factors determine attitudes toward abortion?” without specifying which factors and why, that’s exploration, not hypothesis testing. You need to tell me what factors you think drive attitudes toward abortion, explain your reasoning, and then test that theory.</p>
<p>Third, you cannot collect sensitive data, study risky behaviors, or work with at-risk populations. This means no surveys about dating habits, drug use, or alcohol consumption. No surveys of minors or homeless populations. These restrictions exist both for ethical reasons and because proper study of these topics requires IRB approval and methodological training you haven’t yet received.</p>
<p>Fourth, you cannot sample on the dependent variable. This is a crucial methodological point that many students miss. If you want to study the causes of election fraud, you cannot only look at cases where fraud occurred—you also need cases where fraud did not occur for comparison. Similarly, if you want to study causes of police shootings, you can’t only examine shooting incidents—you need cases where police encounters did not result in shootings. Without variation in your dependent variable, you cannot identify what causes that variation.</p>
<p>Finally, you cannot sample on the independent variable. If you want to study the effect of church attendance on political beliefs, you can’t only survey people at church. To identify the effect of church attendance, you need to compare church-goers to non-church-goers. This seems obvious when stated plainly, but students often overlook this when designing surveys.</p>
</div>
<div id="what-you-should-do" class="section level2 hasAnchor" number="10.125">
<h2><span class="header-section-number">10.125</span> What You Should Do<a href="references.html#what-you-should-do" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While there are restrictions, there are also exciting possibilities. You’re encouraged (though not required) to conduct your own experiment. Do “please recycle” signs cause people to recycle more? Does information about wait times affect perceptions of campus services? Do different question wordings produce different survey responses? Experiments let you establish causal relationships in ways that observational data cannot. If you plan to collect your own data, please see me before executing your plan—I may be able to provide incentives like drawings for gift cards.</p>
<p>The university pays for all students to have access to Qualtrics, a powerful survey software. If you want to survey Washington University students about topics they care about—campus politics, student life, attitudes toward university policies—this can produce engaging and relevant research. Just remember to follow all the sampling rules discussed above.</p>
<p>If you don’t plan to collect your own data, many excellent datasets are freely available. <a href="https://dataverse.harvard.edu/">Harvard’s Institute for Quantitative Social Sciences</a> maintains Dataverse, a massive repository of social science data. The <a href="http://www.electionstudies.org/">American National Election Study</a> provides rich data on American political behavior and attitudes. The <a href="https://www.icpsr.umich.edu/icpsrweb/instructors/icsc/datasets.jsp">ICPSR Data Archives</a> at the University of Michigan offer thousands of datasets on topics ranging from crime to health to education. The <a href="https://library.wustl.edu/research-support/data-services/">Washington University library</a> also provides data services and can help you locate data on your topic.</p>
<p>And of course, if only you knew a faculty member with wide-ranging interests in quantitative analysis who is experienced in helping undergraduates get the data they need to do good projects—perhaps you could ask her or him for help.</p>
</div>
<div id="understanding-the-grading-rubric" class="section level2 hasAnchor" number="10.126">
<h2><span class="header-section-number">10.126</span> Understanding the Grading Rubric<a href="references.html#understanding-the-grading-rubric" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Your project is graded on eight components, each worth five points, for a total of 40 points. Let me walk you through each section and explain what distinguishes excellent work from mediocre work.</p>
<div class="sourceCode" id="cb507"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb507-1"><a href="references.html#cb507-1" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb507-2"><a href="references.html#cb507-2" tabindex="-1"></a><span class="fu">include_graphics</span>(<span class="st">&quot;Images/GradingRubric.jpeg&quot;</span>)</span></code></pre></div>
<p><img src="Images/GradingRubric.jpeg" /><!-- --></p>
<div id="introduction-and-theory" class="section level3 hasAnchor" number="10.126.1">
<h3><span class="header-section-number">10.126.1</span> Introduction and Theory<a href="references.html#introduction-and-theory" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An excellent introduction precisely identifies both null and alternative hypotheses and provides substantive and theoretical motivation for the research project. This means more than saying “I wanted to know about X”—it means explaining why X matters theoretically or practically, what gap in knowledge your project addresses, and what theory predicts about the relationship you’re studying.</p>
<p>A merely good introduction identifies the hypotheses and provides motivation, but perhaps less precisely or thoroughly. A mediocre introduction describes hypotheses without precisely specifying them or lacks clear substantive motivation. A weak introduction states theory incorrectly or vaguely and lacks appropriate theoretical grounding.</p>
</div>
<div id="methods" class="section level3 hasAnchor" number="10.126.2">
<h3><span class="header-section-number">10.126.2</span> Methods<a href="references.html#methods" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An excellent methods section specifies all important aspects of how the study was conducted in detailed and replicable fashion. This means explaining both where your data came from and how you tested your hypothesis. If you collected data yourself, describe your survey questions, sampling approach, and any important methodological choices. If you used pre-existing data, explain the source and briefly describe its methodology. This applies to covariates as well—if you’re controlling for income or education, explain where those variables came from.</p>
<p>Crucially, you must justify your analytical choices. Why did you use regression instead of a t-test? Why did you include certain control variables? Why did you transform variables in particular ways? Note that the example posters provided are from a more advanced version of this class, so you won’t be familiar with all the models they use. You are not expected to use advanced models to get full credit—but whatever modeling choices you make, you must defend them.</p>
<p>A merely good methods section covers most important aspects relatively clearly and addresses possible design choices. A mediocre section specifies some important aspects but doesn’t always explain methods well or misses key design choices. A weak section fails to provide most important information about study conduct or methodology.</p>
</div>
<div id="results" class="section level3 hasAnchor" number="10.126.3">
<h3><span class="header-section-number">10.126.3</span> Results<a href="references.html#results" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Remember: This is a poster, not a paper. An excellent results section uses figures and tables to illustrate findings in an informative and easy-to-understand way. The graphics tell a clear story with minimal text needed. All figures must be created in R—Excel figures make me angry. Tables may be created in Microsoft Office (or other tools), although we will show you how to make attractive tables for your poster later in the class. Your figures should be thorough, detailed, and properly labeled with clear axes and legends.</p>
<p>You should let your graphics do most of the work. Don’t write long paragraphs explaining every detail—use short comments that direct attention to key findings. Look at the example posters to see how successful teams present results visually.</p>
<p>A merely good results section has clear figures and tables with reasonably clear explanations. A mediocre section has unappealing or poorly prepared visualizations that aren’t fully integrated with text discussion. A weak section has sloppy or hard-to-understand graphics with weak integration of hypotheses.</p>
</div>
<div id="limitations-and-conclusions" class="section level3 hasAnchor" number="10.126.4">
<h3><span class="header-section-number">10.126.4</span> Limitations and Conclusions<a href="references.html#limitations-and-conclusions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An excellent limitations and conclusions section provides thorough discussion of the limitations of your findings, potential design flaws, and interpretation of results. Every research project has limitations—sample size, measurement issues, confounding variables you couldn’t control, generalizability concerns. Acknowledge these forthrightly and thoughtfully. Don’t just provide “pro forma” limitations (the kind where you say “well, we could have had a bigger sample” without really thinking about implications). Think seriously about what could affect your results and why.</p>
<p>Your conclusion should discuss potential explanations for your findings. Were results statistically significant? What does this tell you about your research question? What inferences can we draw? What are ideas for future research? You must state whether you rejected your null hypothesis. And remember: it is not required that you find statistically significant results. Most teams won’t. This is okay if your research design was sound and you interpret null results thoughtfully.</p>
<p>A merely good section has clear and thoughtful discussion with substantive conclusions but perhaps less depth. A mediocre section provides some useful discussion but with incomplete or less sound conclusions. A weak section is vague, incomplete, or inconsistent.</p>
</div>
<div id="statistical-analysis-poster" class="section level3 hasAnchor" number="10.126.5">
<h3><span class="header-section-number">10.126.5</span> Statistical Analysis (Poster)<a href="references.html#statistical-analysis-poster" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An excellent statistical analysis uses innovative or at minimum correct statistical methods appropriate for your research question with no errors. A merely good analysis uses correct methods with no or few errors. A mediocre analysis potentially uses inappropriate methods with some errors. A weak analysis has flawed methods with significant errors.</p>
<p>Note that this is a grade for the choices themselves, not the writing. The score here is about whether or not you used the appropriate methdos for your question. The “methods” score is about whether they are clearly described and justified.</p>
</div>
<div id="statistical-analysis-r-script" class="section level3 hasAnchor" number="10.126.6">
<h3><span class="header-section-number">10.126.6</span> Statistical Analysis (R Script)<a href="references.html#statistical-analysis-r-script" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An excellent R script replicates poster findings exactly from correctly annotated code with clear comments explaining your analytical choices. A merely good script largely replicates analysis with mostly clear code. A mediocre script provides partial replication or has faulty code with incomplete comments. A weak script doesn’t replicate results, lacks comments, or has significant errors.</p>
<p>This is critical: I must be able to run your script (changing only the working directory) and get your exact poster results. Any discrepancies equal point deductions.</p>
</div>
<div id="graphical-design" class="section level3 hasAnchor" number="10.126.7">
<h3><span class="header-section-number">10.126.7</span> Graphical Design<a href="references.html#graphical-design" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An excellent poster is exceptionally and appropriately laid out with no formatting problems. The layout flows easily and is aesthetically pleasing. It’s not unreasonably colored and doesn’t have weird fonts, formatting issues, text that leaks across columns, etc.</p>
<p>Most groups use Microsoft PowerPoint, but other tools are fine. Whatever you use, make it clean and readable. A merely good poster has attractive design with few formatting problems. A mediocre poster is somewhat attractive but has some formatting issues. A weak poster is difficult to read or poorly designed with many formatting problems.</p>
</div>
<div id="writing-quality" class="section level3 hasAnchor" number="10.126.8">
<h3><span class="header-section-number">10.126.8</span> Writing Quality<a href="references.html#writing-quality" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The single most common way students lose points is by making posters that are too wordy.You should be able to succinctly explain each step of your research without writing a page on it. In fact, I’d be happy with no paragraphs. Use full sentences, but don’t cram paragraph after paragraph of text.</p>
<p>An excellent poster is exceptionally well-written and articulate with precise, clear, mistake-free prose. It’s concise and elegant, not too long. A merely good poster is very well-written with few or no typos and appropriate length. A mediocre poster is moderately well-written but has some typos and is wordy or vague. A weak poster is unclear and awkward with numerous typos and length problems.</p>
</div>
</div>
<div id="learning-from-example-posters" class="section level2 hasAnchor" number="10.127">
<h2><span class="header-section-number">10.127</span> Learning from Example Posters<a href="references.html#learning-from-example-posters" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Below are posters that did very well in past years. However, none were perfect. I’ll point out strengths and weaknesses so you can do even better. PDF versions of all example posters are available on Canvas in the ‘ExamplePosters’ directory. Higher resolution versions of all of these posters are provided on Canvas.</p>
<div id="example-1-hating-habif" class="section level3 hasAnchor" number="10.127.1">
<h3><span class="header-section-number">10.127.1</span> Example 1: Hating Habif<a href="references.html#example-1-hating-habif" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This poster examined how information about wait times affects student perceptions of campus mental health services.</p>
<div class="sourceCode" id="cb508"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb508-1"><a href="references.html#cb508-1" tabindex="-1"></a><span class="fu">include_graphics</span>(<span class="st">&quot;Images/Habifposter.png&quot;</span>)</span></code></pre></div>
<p><img src="Images/HabifPoster.png" /><!-- --></p>
<p><strong>Strengths:</strong> Strong motivations for research and hypothesis about something the team genuinely cared about. They ran their own experiment and created visually attractive, clearly presented results.</p>
<p><strong>Weaknesses:</strong> The sample size could have been bigger. The conclusion section was a bit wordy. The limitations were somewhat pro forma rather than deeply engaged with potential problems.</p>
</div>
<div id="example-2-should-i-switch-where-im-registered" class="section level3 hasAnchor" number="10.127.2">
<h3><span class="header-section-number">10.127.2</span> Example 2: Should I Switch Where I’m Registered?<a href="references.html#example-2-should-i-switch-where-im-registered" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This poster examined whether students are more likely to switch their registration to states with more competitive elections</p>
<div class="sourceCode" id="cb509"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb509-1"><a href="references.html#cb509-1" tabindex="-1"></a><span class="fu">include_graphics</span>(<span class="st">&quot;Images/poster1.png&quot;</span>)</span></code></pre></div>
<p><img src="Images/poster1.png" /><!-- --></p>
<p><strong>Strengths:</strong> This team had strong motivations for their research and developed a clear hypothesis about something they genuinely cared about. They ran their own survey and analyzed two different datasets! Their limitations and conclusion sections were exhaustive with substantive interpretation of results. This showed real intellectual engagement with their findings.</p>
<p><strong>Weaknesses:</strong> Despite these strengths, this project was way too wordy. The design included too many text descriptions when it should have relied more on graphs and tables to speak for themselves. While the results were well done, the organization and structure made it hard to follow. The poster would also have been stronger with explicit prospects for future research.</p>
</div>
<div id="example-3-voter-registration" class="section level3 hasAnchor" number="10.127.3">
<h3><span class="header-section-number">10.127.3</span> Example 3: Voter Registration<a href="references.html#example-3-voter-registration" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This poster explored whether changes in early-voting laws in specific North Carolina counties affected voter turnout.</p>
<div class="sourceCode" id="cb510"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb510-1"><a href="references.html#cb510-1" tabindex="-1"></a><span class="fu">include_graphics</span>(<span class="st">&quot;Images/poster3.png&quot;</span>)</span></code></pre></div>
<p><img src="Images/poster3.png" /><!-- --></p>
</div>
<div id="example-4-money-trouble" class="section level3 hasAnchor" number="10.127.4">
<h3><span class="header-section-number">10.127.4</span> Example 4: Money Trouble<a href="references.html#example-4-money-trouble" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This poster explores how student attitudes about adding more buildings to campus changes when students learn about budget difficulties in other campus operations.</p>
<div class="sourceCode" id="cb511"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb511-1"><a href="references.html#cb511-1" tabindex="-1"></a><span class="fu">include_graphics</span>(<span class="st">&quot;Images/poster2.png&quot;</span>)</span></code></pre></div>
<p><img src="Images/poster2.png" /><!-- --></p>
<p><strong>Strengths:</strong> This poster provided substantive reasons for research with a clear hypothesis. The methods section described both data collection techniques and hypothesis testing techniques—this is what you should aim for. Their limitations and conclusions sections were substantive and perceptive. Most importantly, their results section allowed graphics to speak for themselves, making it easy to understand findings without paragraphs of information.</p>
<p><strong>Weaknesses:</strong> The poster should have included more specific grounds for future research beyond general suggestions. There were some small spelling and grammatical errors. And yes, it was still somewhat wordy in parts.</p>
</div>
</div>
<div id="tips-for-success" class="section level2 hasAnchor" number="10.128">
<h2><span class="header-section-number">10.128</span> Tips for Success<a href="references.html#tips-for-success" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="start-early" class="section level3 hasAnchor" number="10.128.1">
<h3><span class="header-section-number">10.128.1</span> Start Early<a href="references.html#start-early" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This advice applies to all group projects, but it’s especially important here. Groups that start after Thanksgiving Break don’t do as well as groups that begin closer to the beginning of November. This project is worth 20% of your grade—don’t take it lightly. Starting early gives you time to work out problems, get feedback, revise your approach, and produce polished work.</p>
</div>
<div id="come-to-office-hours-early-and-often" class="section level3 hasAnchor" number="10.128.2">
<h3><span class="header-section-number">10.128.2</span> Come to Office Hours Early and Often<a href="references.html#come-to-office-hours-early-and-often" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>While you’re note required to come speak with me once about your project, I strongly encourage multiple check-ins. I grade these projects, so only I know what I’m looking for. Teams that meet with me early and often consistently do well. The only teams that have received objectively bad grades made drastic changes to their research project at the last minute without consulting me. Don’t be that team.</p>
<p>The TAs are excellent resources for specific questions and help with R, but I should be your first and last point of contact for big questions about topic selection, research design, theoretical development, and interpretation. Don’t hesitate to reach out.</p>
</div>
<div id="pay-close-attention-to-the-rubric" class="section level3 hasAnchor" number="10.128.3">
<h3><span class="header-section-number">10.128.3</span> Pay Close Attention to the Rubric<a href="references.html#pay-close-attention-to-the-rubric" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Take a close look at the markers for getting high marks in each grading section. I will follow these requirements for fives very closely. Use the rubric as a checklist before submitting. Have you addressed every component? Have you met every requirement for a five in each section? The rubric isn’t arbitrary—it represents what I genuinely believe constitutes excellent research at your level.</p>
</div>
</div>
<div id="technical-requirements" class="section level2 hasAnchor" number="10.129">
<h2><span class="header-section-number">10.129</span> Technical Requirements<a href="references.html#technical-requirements" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="creating-your-poster" class="section level3 hasAnchor" number="10.129.1">
<h3><span class="header-section-number">10.129.1</span> Creating Your Poster<a href="references.html#creating-your-poster" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Most students use Microsoft PowerPoint to create posters, though you’re welcome to use other tools like Adobe Illustrator, LaTeX beamerposter, or Inkscape. Whatever tool you choose, your poster should be readable from 3-4 feet away. Use large fonts: at least 72 points for the title, 48 points for headers, and 28-32 points for body text. Standard poster size is around 36 inches by 48 inches.</p>
<p>You must export your poster to PDF before submission. In PowerPoint, go to File, then Save As, choose PDF from the file type dropdown, and select “High Quality” or “Best for Printing” in options.</p>
</div>
<div id="printing-your-poster" class="section level3 hasAnchor" number="10.129.2">
<h3><span class="header-section-number">10.129.2</span> Printing Your Poster<a href="references.html#printing-your-poster" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You don’t need to print your poster. This class is just to big to organize a real poster session! But if you really want an amazing docration for your dorm/appartment, there are multilpe places on campus where you can print your poster.</p>
</div>
<div id="r-code-best-practices" class="section level3 hasAnchor" number="10.129.3">
<h3><span class="header-section-number">10.129.3</span> R Code Best Practices<a href="references.html#r-code-best-practices" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Your R script should be organized and well-commented. Start with a header identifying your team and members. Load all necessary libraries at the beginning. Set your working directory early—this should be the only line I need to change. Organize your code into clear sections: data loading, data preparation, descriptive statistics, hypothesis testing, and figure generation.</p>
<p>Comment extensively. Explain what each section does, why you made certain choices, and what results mean. Don’t just describe what the code does line by line—explain your reasoning. For example, rather than commenting “creates a new variable,” write “creates binary variable for high education (BA or higher) to test hypothesis that education increases voting.”</p>
<p>Before submitting, close R completely, open only your submitted script, change only the working directory, run the entire script, and verify all results match your poster. This is what I will do, so test it yourself first.</p>
</div>
</div>
<div id="frequently-asked-questions" class="section level2 hasAnchor" number="10.130">
<h2><span class="header-section-number">10.130</span> Frequently Asked Questions<a href="references.html#frequently-asked-questions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>What if my results aren’t statistically significant?</strong> This is completely fine and very common in real research. You will not be penalized for null results. What matters is that your research design was sound, your analysis was correct, you interpreted null results properly, you discussed why you might have gotten null results, and you suggested future research directions. Remember: I prefer ambitious projects with null results to safe projects with weak findings.</p>
<p><strong>Can I use Excel for figures?</strong> No. Excel figures make me angry. All figures must be created in R. However, tables may be created using Microsoft Office tools.</p>
<p><strong>How long should each section be?</strong> Shorter is better. This is a poster, not a paper. The most common issue is being too wordy. As a rough guide: introduction should be 2-3 short paragraphs, methods should be one to three short paragraphs, results should let figures do the talking with two to three sentences per figure, conclusion should be one paragraph, and limitations can be bullet points or one paragraph. When in doubt, cut text and add visual elements.</p>
<p><strong>What if I can’t find the right data?</strong> Come talk to me. I have extensive experience helping students find data. Options include using different data for a similar question, collecting your own data through surveys or experiments, modifying your question to fit available data, or asking a faculty member who knows about quantitative data. (Hint: that faculty member is me.)</p>
<p><strong>Can I change my topic mid-project?</strong> You can, but be careful. The only teams that have gotten objectively bad grades made drastic changes at the last minute without consulting me. If you need to change topics, come talk to me immediately, explain why, get approval for your new topic, and understand that you must still meet all deadlines.</p>
<p><strong>Can I work alone?</strong> This is designed as a group project, but if you have special circumstances, come discuss them with me.</p>
</div>
<div id="final-reminders" class="section level2 hasAnchor" number="10.131">
<h2><span class="header-section-number">10.131</span> Final Reminders<a href="references.html#final-reminders" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Start early. Come to office hours multiple times. Be concise—fewer words is better. Null results are okay—I prefer ambitious failures to safe projects. Study the rubric—I follow it closely. Test your R code—it must run perfectly. And ask for help—I want you to succeed.</p>
<p>This project is challenging but rewarding. Follow these guidelines, start early, come to office hours, and you’ll create something you’re proud of. Good luck!</p>

<div class="sourceCode" id="cb512"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb512-1"><a href="references.html#cb512-1" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div id="introduction-why-point-estimates-arent-enough" class="section level2 unnumbered hasAnchor">
<h2>Introduction: Why Point Estimates Aren’t Enough<a href="references.html#introduction-why-point-estimates-arent-enough" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Imagine you’re working on a story for the student newspaper about sleep habits on campus. You survey 50 randomly selected students and find that they sleep an average of 6.8 hours per night. You want to report this finding, but you know this is just one sample from the larger population of all students at your university. How can you report this number so that it reflects your uncertainty about the true average for all students?</p>
<p>This is the fundamental question that confidence intervals help us answer. While a point estimate like 6.8 hours is useful, it’s incomplete. It doesn’t tell us anything about the uncertainty in our estimate. A confidence interval gives us a range of plausible values for the true population parameter. And we know that this range of values has certain properties derived from probability theory.</p>
<p>By the end of this lesson, you’ll be able to construct confidence intervals for population means under different scenarios, interpret what those intervals mean, and understand the tradeoffs involved in choosing different confidence levels.</p>
</div>
<div id="review-from-samples-to-populations" class="section level2 unnumbered hasAnchor">
<h2>Review: From Samples to Populations<a href="references.html#review-from-samples-to-populations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Before we dive into confidence intervals, let’s review some key concepts about statistical inference. Remember that we use sample statistics to make inferences about population parameters. The notation is important here, so let’s be clear about what represents what.</p>
<p>When we talk about samples versus populations, we use different symbols to keep track of which is which. The sample mean is denoted <span class="math inline">\(\bar{x}\)</span> (or sometimes <span class="math inline">\(\bar{y}\)</span>), while the population mean is denoted <span class="math inline">\(\mu\)</span>. Similarly, the sample standard deviation is <span class="math inline">\(s\)</span>, while the population standard deviation is <span class="math inline">\(\sigma\)</span>. This distinction matters because we almost never know the population parameters—if we did, we wouldn’t need to do statistical inference!</p>
<table>
<thead>
<tr class="header">
<th align="center">English term</th>
<th align="center">Sample Statistic</th>
<th align="center">Population parameter</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">Mean</td>
<td align="center"><span class="math inline">\(\bar{x}\)</span></td>
<td align="center"><span class="math inline">\(\mu\)</span></td>
</tr>
<tr class="even">
<td align="center">Standard deviation</td>
<td align="center"><span class="math inline">\(s\)</span></td>
<td align="center"><span class="math inline">\(\sigma\)</span></td>
</tr>
<tr class="odd">
<td align="center">Variance</td>
<td align="center"><span class="math inline">\(s^2\)</span></td>
<td align="center"><span class="math inline">\(\sigma^2\)</span></td>
</tr>
</tbody>
</table>
<p>The Central Limit Theorem tells us something remarkable: even if the population isn’t normally distributed, the distribution of sample means becomes approximately normal as the sample size increases. This is why we can use the normal distribution to construct confidence intervals for means, at least when our sample size is reasonably large.</p>
</div>
<div id="understanding-confidence-intervals" class="section level2 unnumbered hasAnchor">
<h2>Understanding Confidence Intervals<a href="references.html#understanding-confidence-intervals" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A confidence interval is an interval estimate of a population parameter. Unlike a point estimate, which is just a single number, an interval estimate gives us a range of plausible values. But what does it mean when we say we have a “95% confidence interval”?</p>
<div id="the-correct-interpretation" class="section level3 hasAnchor" number="10.131.1">
<h3><span class="header-section-number">10.131.1</span> The Correct Interpretation<a href="references.html#the-correct-interpretation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here’s where things get a bit subtle, and it’s important to understand this correctly. A 95% confidence interval does not mean there is a 95% probability that the true parameter falls within this particular interval. Once we’ve calculated a specific interval, the true parameter either is or isn’t in that interval—we just don’t know which.</p>
<p>Instead, the 95% refers to the procedure we used to construct the interval. If we were to take many, many random samples from the population and calculate a 95% confidence interval for each sample, then about 95% of those intervals would contain the true population parameter. It’s a statement about the long-run behavior of the <em>method</em>, not about any particular interval.</p>
<p>Think of it this way: imagine you surveyed 100 different random samples of students about their sleep habits, and you calculated a 95% confidence interval for each sample. You’d expect that about 95 of those intervals would capture the true average sleep time for all students, while about 5 of them would miss it. Before you collect any particular sample, you can be 95% confident that the interval you calculate will be one of the ones that captures the true value.</p>
<p>We can see this by simulating random samples in R. In this simulation, we take 20 different random samples and calculated a 95% confidence interval for each one. Notice that most intervals (shown in green) contain the true population mean (the blue dashed line), but one (shown in red) misses it. This is exactly what we expect—about 95% capture the truth.</p>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-216-1.png" width="768" /></p>
<p>This interpretation is admittedly a bit confusing at first, but it’s the technically correct one. In practice, when we report a 95% confidence interval, we often say something like “we are 95% confident that the true population mean falls between X and Y.” This is a reasonable shorthand, but just remember that it’s not really correct. Confidence is really a statement about the reliability of our method, not a probability statement about any particular interval.</p>
</div>
</div>
<div id="the-structure-of-a-confidence-interval" class="section level2 unnumbered hasAnchor">
<h2>The Structure of a Confidence Interval<a href="references.html#the-structure-of-a-confidence-interval" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Every confidence interval has the same basic structure. It starts with a point estimate (our best single guess at the parameter) and then adds and subtracts a margin of error. The general form is:</p>
<p><span class="math display">\[\text{point estimate} \pm \text{margin of error}\]</span></p>
<p>For means, the point estimate is the sample mean <span class="math inline">\(\bar{x}\)</span>. The margin of error depends on two things: how much variability there is in the sampling distribution (measured by the standard error), and how confident we want to be (captured by a critical value from either the normal or t-distribution).</p>
<p><span class="math display">\[\text{Confidence Interval} = \bar{x} \pm (\text{critical value}) \times (\text{standard error})\]</span></p>
<p>The margin of error is calculated as the critical value multiplied by the standard error. The critical value depends on the confidence level we choose. For a 95% confidence level using the normal distribution, the critical value is approximately 1.96. For a 90% confidence level, it’s about 1.645. For a 99% confidence level, it’s about 2.576.</p>
<pre><code>## Warning in attr(x, &quot;align&quot;): &#39;xfun::attr()&#39; is deprecated.
## Use &#39;xfun::attr2()&#39; instead.
## See help(&quot;Deprecated&quot;)</code></pre>
<pre><code>## Warning in attr(x, &quot;format&quot;): &#39;xfun::attr()&#39; is deprecated.
## Use &#39;xfun::attr2()&#39; instead.
## See help(&quot;Deprecated&quot;)</code></pre>
<table>
<thead>
<tr class="header">
<th align="center">Confidence Level</th>
<th align="center">Alpha</th>
<th align="center">Alpha/2</th>
<th align="center">Z Critical Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">90%</td>
<td align="center">0.10</td>
<td align="center">0.05</td>
<td align="center">1.645</td>
</tr>
<tr class="even">
<td align="center">95%</td>
<td align="center">0.05</td>
<td align="center">0.025</td>
<td align="center">1.960</td>
</tr>
<tr class="odd">
<td align="center">99%</td>
<td align="center">0.01</td>
<td align="center">0.005</td>
<td align="center">2.576</td>
</tr>
</tbody>
</table>
<p>Notice a pattern here? As we want to be more confident that we’ve captured the true parameter, our critical value gets larger, which makes our margin of error larger, which makes our confidence interval wider. This is the fundamental tradeoff: we can be more confident by casting a wider net, but that wider net gives us a less precise estimate.</p>
</div>
<div id="building-confidence-intervals-three-scenarios" class="section level2 unnumbered hasAnchor">
<h2>Building Confidence Intervals: Three Scenarios<a href="references.html#building-confidence-intervals-three-scenarios" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The exact formula we use to construct a confidence interval depends on what we know about the population and how large our sample is. There are three main scenarios we need to consider, each requiring a slightly different approach.</p>
<div id="scenario-a-when-we-know-the-population-standard-deviation" class="section level3 unnumbered hasAnchor">
<h3>Scenario A: When We Know the Population Standard Deviation<a href="references.html#scenario-a-when-we-know-the-population-standard-deviation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sometimes—though not often in real research—we know the population standard deviation <span class="math inline">\(\sigma\)</span>. In this case, we can calculate the exact standard error of the sampling distribution using the formula:</p>
<p><span class="math display">\[\sigma_{\bar{x}} = \frac{\sigma}{\sqrt{n}}\]</span></p>
<p>This tells us how much variability we expect in sample means if we were to take many samples of size <span class="math inline">\(n\)</span> from the population. The confidence interval is then:</p>
<p><span class="math display">\[\bar{x} \pm z \times \frac{\sigma}{\sqrt{n}}\]</span></p>
<p>where <span class="math inline">\(z\)</span> is the critical value from the standard normal distribution corresponding to our desired confidence level.</p>
<div id="example-sleep-study-with-known-σ" class="section level4 hasAnchor" number="10.131.1.1">
<h4><span class="header-section-number">10.131.1.1</span> Example: Sleep Study with Known σ<a href="references.html#example-sleep-study-with-known-σ" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Let’s return to our sleep study example. Suppose we surveyed 50 students and found a sample mean of 6.8 hours of sleep per night. Let’s also suppose (unrealistically) that we somehow know the population standard deviation is exactly 1.5 hours. We want to construct a 95% confidence interval.</p>
<p>First, we calculate the standard error:</p>
<div class="sourceCode" id="cb515"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb515-1"><a href="references.html#cb515-1" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb515-2"><a href="references.html#cb515-2" tabindex="-1"></a>sigma <span class="ot">&lt;-</span> <span class="fl">1.5</span></span>
<span id="cb515-3"><a href="references.html#cb515-3" tabindex="-1"></a>x_bar <span class="ot">&lt;-</span> <span class="fl">6.8</span></span>
<span id="cb515-4"><a href="references.html#cb515-4" tabindex="-1"></a></span>
<span id="cb515-5"><a href="references.html#cb515-5" tabindex="-1"></a>se_known <span class="ot">&lt;-</span> sigma <span class="sc">/</span> <span class="fu">sqrt</span>(n)</span>
<span id="cb515-6"><a href="references.html#cb515-6" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Standard Error&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Standard Error&quot;</code></pre>
<div class="sourceCode" id="cb517"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb517-1"><a href="references.html#cb517-1" tabindex="-1"></a><span class="fu">round</span>(se_known, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 0.212</code></pre>
<p>The standard error is about 0.21 hours. Now we need the critical value for a 95% confidence level. For the normal distribution, this is 1.96, but we can get R to calculate it precisely using the <code>qnorm()</code> function. For a 95% confidence interval, we want the z-score that leaves 2.5% in each tail (since 100% - 95% = 5%, and we split that equally between the two tails).</p>
<div class="sourceCode" id="cb519"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb519-1"><a href="references.html#cb519-1" tabindex="-1"></a>z_critical <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>)</span>
<span id="cb519-2"><a href="references.html#cb519-2" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Critical Value&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Critical Value&quot;</code></pre>
<div class="sourceCode" id="cb521"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb521-1"><a href="references.html#cb521-1" tabindex="-1"></a><span class="fu">round</span>(z_critical, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 1.96</code></pre>
<p>Now we can calculate the margin of error and construct the confidence interval:</p>
<div class="sourceCode" id="cb523"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb523-1"><a href="references.html#cb523-1" tabindex="-1"></a>margin_of_error <span class="ot">&lt;-</span> z_critical <span class="sc">*</span> se_known</span>
<span id="cb523-2"><a href="references.html#cb523-2" tabindex="-1"></a></span>
<span id="cb523-3"><a href="references.html#cb523-3" tabindex="-1"></a>lower_bound <span class="ot">&lt;-</span> x_bar <span class="sc">-</span> margin_of_error</span>
<span id="cb523-4"><a href="references.html#cb523-4" tabindex="-1"></a>upper_bound <span class="ot">&lt;-</span> x_bar <span class="sc">+</span> margin_of_error</span>
<span id="cb523-5"><a href="references.html#cb523-5" tabindex="-1"></a></span>
<span id="cb523-6"><a href="references.html#cb523-6" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Margin of Error:&quot;</span>, <span class="fu">round</span>(margin_of_error, <span class="dv">3</span>), <span class="st">&quot;hours</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Margin of Error: 0.416 hours</code></pre>
<div class="sourceCode" id="cb525"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb525-1"><a href="references.html#cb525-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;95% Confidence Interval: [&quot;</span>, <span class="fu">round</span>(lower_bound, <span class="dv">2</span>), <span class="st">&quot;,&quot;</span>, <span class="fu">round</span>(upper_bound, <span class="dv">2</span>), <span class="st">&quot;] hours</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## 95% Confidence Interval: [ 6.38 , 7.22 ] hours</code></pre>
<p>So our 95% confidence interval is approximately [6.38, 7.22] hours. We interpret this by saying that if we used this procedure many times with different samples, about 95% of the intervals we construct would contain the true average sleep time for all students at the university.</p>
<p>Notice that we used <code>qnorm(0.975)</code> rather than <code>qnorm(0.95)</code>. This is because the normal distribution is symmetric, and we want 95% in the middle, which means 2.5% in each tail. The <code>qnorm()</code> function with 0.975 gives us the z-score that has 97.5% of the distribution to the left of it, which is equivalent to leaving 2.5% in the right tail.</p>
</div>
</div>
<div id="scenario-b-unknown-population-standard-deviation-large-sample" class="section level3 unnumbered hasAnchor">
<h3>Scenario B: Unknown Population Standard Deviation, Large Sample<a href="references.html#scenario-b-unknown-population-standard-deviation-large-sample" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In reality, we almost never know the population standard deviation. This is much more common—we have to estimate <span class="math inline">\(\sigma\)</span> using our sample standard deviation <span class="math inline">\(s\)</span>. When we do this, our estimate of the standard error becomes:</p>
<p><span class="math display">\[\hat{\sigma}_{\bar{x}} = \frac{s}{\sqrt{n}}\]</span></p>
<p>The hat notation (<span class="math inline">\(\hat{\sigma}\)</span>) indicates that this is an estimate rather than a known value. Now here’s a key question: should we still use the normal distribution for our critical values?</p>
<p>If our sample size is large (generally, <span class="math inline">\(n \geq 30\)</span>), the Central Limit Theorem tells us that the sampling distribution of the mean is approximately normal, even if the population isn’t normal. Moreover, when we have a large sample, our estimate <span class="math inline">\(s\)</span> is usually pretty close to the true <span class="math inline">\(\sigma\)</span>, so using the normal distribution for critical values is reasonable. This is why, for large samples with unknown <span class="math inline">\(\sigma\)</span>, we still use z-scores from the normal distribution.</p>
<div id="example-sleep-study-with-estimated-σ" class="section level4 hasAnchor" number="10.131.1.2">
<h4><span class="header-section-number">10.131.1.2</span> Example: Sleep Study with Estimated σ<a href="references.html#example-sleep-study-with-estimated-σ" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Let’s continue with our sleep study example, but now assume we don’t know the population standard deviation. Instead, we calculated a sample standard deviation of <span class="math inline">\(s = 1.6\)</span> hours from our 50 students.</p>
<div class="sourceCode" id="cb527"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb527-1"><a href="references.html#cb527-1" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="fl">1.6</span></span>
<span id="cb527-2"><a href="references.html#cb527-2" tabindex="-1"></a>se_estimated <span class="ot">&lt;-</span> s <span class="sc">/</span> <span class="fu">sqrt</span>(n)</span>
<span id="cb527-3"><a href="references.html#cb527-3" tabindex="-1"></a><span class="fu">round</span>(se_estimated, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 0.226</code></pre>
<p>Notice that our estimated standard error (0.226) is close to but not exactly the same as our known standard error from before (0.212). Now we construct the confidence interval the same way as before:</p>
<div class="sourceCode" id="cb529"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb529-1"><a href="references.html#cb529-1" tabindex="-1"></a>margin_of_error_large <span class="ot">&lt;-</span> z_critical <span class="sc">*</span> se_estimated</span>
<span id="cb529-2"><a href="references.html#cb529-2" tabindex="-1"></a>lower_bound_large <span class="ot">&lt;-</span> x_bar <span class="sc">-</span> margin_of_error_large</span>
<span id="cb529-3"><a href="references.html#cb529-3" tabindex="-1"></a>upper_bound_large <span class="ot">&lt;-</span> x_bar <span class="sc">+</span> margin_of_error_large</span>
<span id="cb529-4"><a href="references.html#cb529-4" tabindex="-1"></a></span>
<span id="cb529-5"><a href="references.html#cb529-5" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;95% Confidence Interval: [&quot;</span>, <span class="fu">round</span>(lower_bound_large, <span class="dv">2</span>), <span class="st">&quot;,&quot;</span>, <span class="fu">round</span>(upper_bound_large, <span class="dv">2</span>), <span class="st">&quot;] hours</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## 95% Confidence Interval: [ 6.36 , 7.24 ] hours</code></pre>
<p>Our interval is [6.36, 7.24] hours, which is slightly wider than before because we had to estimate the standard deviation. This is the price we pay for not knowing the population parameter—a bit more uncertainty in our interval.</p>
</div>
</div>
<div id="scenario-c-unknown-population-standard-deviation-small-sample" class="section level3 unnumbered hasAnchor">
<h3>Scenario C: Unknown Population Standard Deviation, Small Sample<a href="references.html#scenario-c-unknown-population-standard-deviation-small-sample" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now we come to the trickiest scenario, and one that’s quite common in real research: we have a small sample (say, <span class="math inline">\(n &lt; 30\)</span>) and we don’t know the population standard deviation. In this case, using the normal distribution isn’t quite right. Because we’re estimating the standard deviation from a small sample, there’s additional uncertainty that we need to account for.</p>
<p>This is where the t-distribution comes in. You learned about the t-distribution in the previous lesson on probability distributions. Recall that the t-distribution looks similar to the normal distribution but has thicker tails, which reflects the extra uncertainty we have when working with small samples. As the sample size increases, the t-distribution gets closer and closer to the normal distribution.</p>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-223-1.png" width="768" /></p>
<p>The key parameter for the t-distribution is the degrees of freedom, which for a single mean is <span class="math inline">\(df = n - 1\)</span>. With fewer degrees of freedom, the t-distribution has thicker tails (more probability in the extremes), which means larger critical values and wider confidence intervals. This is exactly what we want—when we have less data, we should be less certain, and our intervals should be wider to reflect that uncertainty.</p>
<div id="example-sleep-study-with-small-sample" class="section level4 hasAnchor" number="10.131.1.3">
<h4><span class="header-section-number">10.131.1.3</span> Example: Sleep Study with Small Sample<a href="references.html#example-sleep-study-with-small-sample" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Let’s modify our sleep study example. Suppose instead of surveying 50 students, we only managed to survey 15 students, and we found a sample mean of 6.8 hours with a sample standard deviation of 1.6 hours.</p>
<div class="sourceCode" id="cb531"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb531-1"><a href="references.html#cb531-1" tabindex="-1"></a>n_small <span class="ot">&lt;-</span> <span class="dv">15</span></span>
<span id="cb531-2"><a href="references.html#cb531-2" tabindex="-1"></a>s_small <span class="ot">&lt;-</span> <span class="fl">1.6</span></span>
<span id="cb531-3"><a href="references.html#cb531-3" tabindex="-1"></a>x_bar_small <span class="ot">&lt;-</span> <span class="fl">6.8</span></span>
<span id="cb531-4"><a href="references.html#cb531-4" tabindex="-1"></a></span>
<span id="cb531-5"><a href="references.html#cb531-5" tabindex="-1"></a>se_small <span class="ot">&lt;-</span> s_small <span class="sc">/</span> <span class="fu">sqrt</span>(n_small)</span>
<span id="cb531-6"><a href="references.html#cb531-6" tabindex="-1"></a>se_small</span></code></pre></div>
<pre><code>## [1] 0.4131182</code></pre>
<p>The standard error is now larger (0.413) because we’re dividing by the square root of a smaller number. Now for the critical value, we use the <code>qt()</code> function instead of <code>qnorm()</code>, and we need to specify the degrees of freedom:</p>
<div class="sourceCode" id="cb533"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb533-1"><a href="references.html#cb533-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> n_small <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb533-2"><a href="references.html#cb533-2" tabindex="-1"></a>t_critical <span class="ot">&lt;-</span> <span class="fu">qt</span>(<span class="fl">0.975</span>, <span class="at">df =</span> df)</span>
<span id="cb533-3"><a href="references.html#cb533-3" tabindex="-1"></a>t_critical</span></code></pre></div>
<pre><code>## [1] 2.144787</code></pre>
<p>Notice that the t-critical value (2.145) is larger than the z-critical value (1.96) we used before. This reflects the additional uncertainty in this setting. Now we construct the confidence interval:</p>
<div class="sourceCode" id="cb535"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb535-1"><a href="references.html#cb535-1" tabindex="-1"></a>margin_of_error_small <span class="ot">&lt;-</span> t_critical <span class="sc">*</span> se_small</span>
<span id="cb535-2"><a href="references.html#cb535-2" tabindex="-1"></a>lower_bound_small <span class="ot">&lt;-</span> x_bar_small <span class="sc">-</span> margin_of_error_small</span>
<span id="cb535-3"><a href="references.html#cb535-3" tabindex="-1"></a>upper_bound_small <span class="ot">&lt;-</span> x_bar_small <span class="sc">+</span> margin_of_error_small</span>
<span id="cb535-4"><a href="references.html#cb535-4" tabindex="-1"></a></span>
<span id="cb535-5"><a href="references.html#cb535-5" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;95% Confidence Interval: [&quot;</span>, <span class="fu">round</span>(lower_bound_small, <span class="dv">2</span>), <span class="st">&quot;,&quot;</span>, <span class="fu">round</span>(upper_bound_small, <span class="dv">2</span>), <span class="st">&quot;] hours</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## 95% Confidence Interval: [ 5.91 , 7.69 ] hours</code></pre>
<p>Our 95% confidence interval is [5.91, 7.69] hours. This interval is much wider than what we got with 50 observations, reflecting both the larger standard error from having fewer observations and the larger critical value from using the t-distribution. This is exactly as it should be—with less data, we’re less certain about where the true population mean lies.</p>
<p>The logic behind using <code>qt(0.975, df = 14)</code> is the same as before: we want 95% in the middle of the distribution, so 2.5% in each tail, which means we want the t-value with 97.5% of the distribution to the left of it.</p>
</div>
</div>
</div>
<div id="comparing-confidence-levels" class="section level2 unnumbered hasAnchor">
<h2>Comparing Confidence Levels<a href="references.html#comparing-confidence-levels" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>So far we’ve focused on 95% confidence intervals, but we can construct intervals at any confidence level. The choice of confidence level involves a tradeoff between confidence and precision. Let’s explore this using our large-sample sleep study example (n = 50, <span class="math inline">\(\bar{x}\)</span> = 6.8, s = 1.6).</p>
<p>First, let’s construct a 90% confidence interval:</p>
<div class="sourceCode" id="cb537"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb537-1"><a href="references.html#cb537-1" tabindex="-1"></a>z_90 <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="fl">0.95</span>)</span>
<span id="cb537-2"><a href="references.html#cb537-2" tabindex="-1"></a>se <span class="ot">&lt;-</span> s <span class="sc">/</span> <span class="fu">sqrt</span>(n)</span>
<span id="cb537-3"><a href="references.html#cb537-3" tabindex="-1"></a></span>
<span id="cb537-4"><a href="references.html#cb537-4" tabindex="-1"></a>lower_90 <span class="ot">&lt;-</span> x_bar <span class="sc">-</span> z_90 <span class="sc">*</span> se</span>
<span id="cb537-5"><a href="references.html#cb537-5" tabindex="-1"></a>upper_90 <span class="ot">&lt;-</span> x_bar <span class="sc">+</span> z_90 <span class="sc">*</span> se</span>
<span id="cb537-6"><a href="references.html#cb537-6" tabindex="-1"></a></span>
<span id="cb537-7"><a href="references.html#cb537-7" tabindex="-1"></a>width_90 <span class="ot">&lt;-</span> upper_90 <span class="sc">-</span> lower_90</span>
<span id="cb537-8"><a href="references.html#cb537-8" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;90% Confidence Interval: [&quot;</span>, <span class="fu">round</span>(lower_90, <span class="dv">2</span>), <span class="st">&quot;,&quot;</span>, <span class="fu">round</span>(upper_90, <span class="dv">2</span>), <span class="st">&quot;]</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## 90% Confidence Interval: [ 6.43 , 7.17 ]</code></pre>
<div class="sourceCode" id="cb539"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb539-1"><a href="references.html#cb539-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Width:&quot;</span>, <span class="fu">round</span>(width_90, <span class="dv">2</span>), <span class="st">&quot;hours</span><span class="sc">\n\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Width: 0.74 hours</code></pre>
<p>Now a 95% confidence interval:</p>
<div class="sourceCode" id="cb541"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb541-1"><a href="references.html#cb541-1" tabindex="-1"></a>z_95 <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="fl">0.975</span>)</span>
<span id="cb541-2"><a href="references.html#cb541-2" tabindex="-1"></a></span>
<span id="cb541-3"><a href="references.html#cb541-3" tabindex="-1"></a>lower_95 <span class="ot">&lt;-</span> x_bar <span class="sc">-</span> z_95 <span class="sc">*</span> se</span>
<span id="cb541-4"><a href="references.html#cb541-4" tabindex="-1"></a>upper_95 <span class="ot">&lt;-</span> x_bar <span class="sc">+</span> z_95 <span class="sc">*</span> se</span>
<span id="cb541-5"><a href="references.html#cb541-5" tabindex="-1"></a></span>
<span id="cb541-6"><a href="references.html#cb541-6" tabindex="-1"></a>width_95 <span class="ot">&lt;-</span> upper_95 <span class="sc">-</span> lower_95</span>
<span id="cb541-7"><a href="references.html#cb541-7" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;95% Confidence Interval: [&quot;</span>, <span class="fu">round</span>(lower_95, <span class="dv">2</span>), <span class="st">&quot;,&quot;</span>, <span class="fu">round</span>(upper_95, <span class="dv">2</span>), <span class="st">&quot;]</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## 95% Confidence Interval: [ 6.36 , 7.24 ]</code></pre>
<div class="sourceCode" id="cb543"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb543-1"><a href="references.html#cb543-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Width:&quot;</span>, <span class="fu">round</span>(width_95, <span class="dv">2</span>), <span class="st">&quot;hours</span><span class="sc">\n\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Width: 0.89 hours</code></pre>
<p>And finally a 99% confidence interval:</p>
<div class="sourceCode" id="cb545"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb545-1"><a href="references.html#cb545-1" tabindex="-1"></a>z_99 <span class="ot">&lt;-</span> <span class="fu">qnorm</span>(<span class="fl">0.995</span>)</span>
<span id="cb545-2"><a href="references.html#cb545-2" tabindex="-1"></a></span>
<span id="cb545-3"><a href="references.html#cb545-3" tabindex="-1"></a>lower_99 <span class="ot">&lt;-</span> x_bar <span class="sc">-</span> z_99 <span class="sc">*</span> se</span>
<span id="cb545-4"><a href="references.html#cb545-4" tabindex="-1"></a>upper_99 <span class="ot">&lt;-</span> x_bar <span class="sc">+</span> z_99 <span class="sc">*</span> se</span>
<span id="cb545-5"><a href="references.html#cb545-5" tabindex="-1"></a></span>
<span id="cb545-6"><a href="references.html#cb545-6" tabindex="-1"></a>width_99 <span class="ot">&lt;-</span> upper_99 <span class="sc">-</span> lower_99</span>
<span id="cb545-7"><a href="references.html#cb545-7" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;99% Confidence Interval: [&quot;</span>, <span class="fu">round</span>(lower_99, <span class="dv">2</span>), <span class="st">&quot;,&quot;</span>, <span class="fu">round</span>(upper_99, <span class="dv">2</span>), <span class="st">&quot;]</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## 99% Confidence Interval: [ 6.22 , 7.38 ]</code></pre>
<div class="sourceCode" id="cb547"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb547-1"><a href="references.html#cb547-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Width:&quot;</span>, <span class="fu">round</span>(width_99, <span class="dv">2</span>), <span class="st">&quot;hours</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Width: 1.17 hours</code></pre>
<p>Notice the pattern: as we increase our confidence level from 90% to 95% to 99%, our intervals get wider. This is the tradeoff: if you want to be more confident that you’ve captured the true parameter, you have to accept a less precise estimate.</p>
<pre><code>## `height` was translated to `width`.</code></pre>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-230-1.png" width="768" /></p>
<p>In practice, 95% confidence intervals are the most common, as they represent a reasonable balance between confidence and precision. However, the choice depends on the context and the consequences of being wrong. In exploratory research, 90% intervals might be fine. In medical research where decisions have serious consequences, researchers might prefer 99% intervals.</p>
</div>
<div id="a-complete-example-from-start-to-finish" class="section level2 unnumbered hasAnchor">
<h2>A Complete Example: From Start to Finish<a href="references.html#a-complete-example-from-start-to-finish" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s work through a complete example from beginning to end using real data. We’ll use the congressional age data from FiveThirtyEight, which contains information about every member of the U.S. Congress from 1947 to 2013.</p>
<p>Suppose we’re interested in estimating the average age of Congress members, but we can’t analyze the entire dataset. Instead, we’ll take a random sample of 25 Congress members and construct a 95% confidence interval for the true average age.</p>
<p>First, let’s load the data and take our sample:</p>
<div class="sourceCode" id="cb550"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb550-1"><a href="references.html#cb550-1" tabindex="-1"></a><span class="fu">library</span>(fivethirtyeight)</span>
<span id="cb550-2"><a href="references.html#cb550-2" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;congress_age&quot;</span>)</span>
<span id="cb550-3"><a href="references.html#cb550-3" tabindex="-1"></a></span>
<span id="cb550-4"><a href="references.html#cb550-4" tabindex="-1"></a><span class="co"># Set seed for reproducibility</span></span>
<span id="cb550-5"><a href="references.html#cb550-5" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb550-6"><a href="references.html#cb550-6" tabindex="-1"></a></span>
<span id="cb550-7"><a href="references.html#cb550-7" tabindex="-1"></a><span class="co"># Take a random sample of 25 Congress members</span></span>
<span id="cb550-8"><a href="references.html#cb550-8" tabindex="-1"></a>sample_congress <span class="ot">&lt;-</span> congress_age[<span class="fu">sample</span>(<span class="fu">nrow</span>(congress_age), <span class="dv">25</span>), ]</span>
<span id="cb550-9"><a href="references.html#cb550-9" tabindex="-1"></a></span>
<span id="cb550-10"><a href="references.html#cb550-10" tabindex="-1"></a><span class="co"># Calculate sample statistics</span></span>
<span id="cb550-11"><a href="references.html#cb550-11" tabindex="-1"></a>sample_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(sample_congress<span class="sc">$</span>age)</span>
<span id="cb550-12"><a href="references.html#cb550-12" tabindex="-1"></a>sample_sd <span class="ot">&lt;-</span> <span class="fu">sd</span>(sample_congress<span class="sc">$</span>age)</span>
<span id="cb550-13"><a href="references.html#cb550-13" tabindex="-1"></a>sample_n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(sample_congress)</span>
<span id="cb550-14"><a href="references.html#cb550-14" tabindex="-1"></a></span>
<span id="cb550-15"><a href="references.html#cb550-15" tabindex="-1"></a>sample_mean</span></code></pre></div>
<pre><code>## [1] 50.912</code></pre>
<div class="sourceCode" id="cb552"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb552-1"><a href="references.html#cb552-1" tabindex="-1"></a>sample_sd</span></code></pre></div>
<pre><code>## [1] 9.691978</code></pre>
<div class="sourceCode" id="cb554"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb554-1"><a href="references.html#cb554-1" tabindex="-1"></a>sample_n</span></code></pre></div>
<pre><code>## [1] 25</code></pre>
<p>Now we need to decide which scenario applies. We don’t know the population standard deviation (we almost never do), and our sample size is 25, which is less than 30. This means we’re in Scenario C—we should use the t-distribution.</p>
<p>Calculate the standard error:</p>
<div class="sourceCode" id="cb556"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb556-1"><a href="references.html#cb556-1" tabindex="-1"></a>sample_se <span class="ot">&lt;-</span> sample_sd <span class="sc">/</span> <span class="fu">sqrt</span>(sample_n)</span>
<span id="cb556-2"><a href="references.html#cb556-2" tabindex="-1"></a>sample_se</span></code></pre></div>
<pre><code>## [1] 1.938396</code></pre>
<p>Find the critical value from the t-distribution:</p>
<div class="sourceCode" id="cb558"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb558-1"><a href="references.html#cb558-1" tabindex="-1"></a>sample_df <span class="ot">&lt;-</span> sample_n <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb558-2"><a href="references.html#cb558-2" tabindex="-1"></a>alpha <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fl">0.95</span></span>
<span id="cb558-3"><a href="references.html#cb558-3" tabindex="-1"></a>sample_t_critical <span class="ot">&lt;-</span> <span class="fu">qt</span>(<span class="dv">1</span> <span class="sc">-</span> alpha<span class="sc">/</span><span class="dv">2</span>, <span class="at">df =</span> sample_df)</span>
<span id="cb558-4"><a href="references.html#cb558-4" tabindex="-1"></a>sample_t_critical</span></code></pre></div>
<pre><code>## [1] 2.063899</code></pre>
<p>Calculate the margin of error:</p>
<div class="sourceCode" id="cb560"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb560-1"><a href="references.html#cb560-1" tabindex="-1"></a>sample_margin <span class="ot">&lt;-</span> sample_t_critical <span class="sc">*</span> sample_se</span>
<span id="cb560-2"><a href="references.html#cb560-2" tabindex="-1"></a>sample_margin</span></code></pre></div>
<pre><code>## [1] 4.000652</code></pre>
<p>Finally, construct the confidence interval:</p>
<div class="sourceCode" id="cb562"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb562-1"><a href="references.html#cb562-1" tabindex="-1"></a>sample_lower <span class="ot">&lt;-</span> sample_mean <span class="sc">-</span> sample_margin</span>
<span id="cb562-2"><a href="references.html#cb562-2" tabindex="-1"></a>sample_upper <span class="ot">&lt;-</span> sample_mean <span class="sc">+</span> sample_margin</span>
<span id="cb562-3"><a href="references.html#cb562-3" tabindex="-1"></a></span>
<span id="cb562-4"><a href="references.html#cb562-4" tabindex="-1"></a>sample_lower</span></code></pre></div>
<pre><code>## [1] 46.91135</code></pre>
<div class="sourceCode" id="cb564"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb564-1"><a href="references.html#cb564-1" tabindex="-1"></a>sample_upper</span></code></pre></div>
<pre><code>## [1] 54.91265</code></pre>
<p>We can interpret this result as follows: based on our random sample of 25 Congress members, we are 95% confident that the true average age of all Congress members in our dataset is between these two values. If we repeated this sampling procedure many times and calculated a confidence interval each time, approximately 95% of those intervals would contain the true population mean.</p>
<p>Let’s verify our interval against the actual population mean:</p>
<div class="sourceCode" id="cb566"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb566-1"><a href="references.html#cb566-1" tabindex="-1"></a><span class="co"># Calculate the true population mean</span></span>
<span id="cb566-2"><a href="references.html#cb566-2" tabindex="-1"></a>true_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(congress_age<span class="sc">$</span>age)</span>
<span id="cb566-3"><a href="references.html#cb566-3" tabindex="-1"></a>true_mean</span></code></pre></div>
<pre><code>## [1] 53.31373</code></pre>
<div class="sourceCode" id="cb568"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb568-1"><a href="references.html#cb568-1" tabindex="-1"></a><span class="co"># Did our interval capture it?</span></span>
<span id="cb568-2"><a href="references.html#cb568-2" tabindex="-1"></a>sample_lower <span class="sc">&lt;=</span> true_mean <span class="sc">&amp;</span> true_mean <span class="sc">&lt;=</span> sample_upper</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>In this case, our confidence interval successfully captured the true population mean! Of course, in real research we wouldn’t know the true population mean—that’s why we’re constructing confidence intervals in the first place. But this exercise demonstrates how the method works.</p>
</div>
<div id="decision-guide-which-method-should-you-use" class="section level2 unnumbered hasAnchor">
<h2>Decision Guide: Which Method Should You Use?<a href="references.html#decision-guide-which-method-should-you-use" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here’s a systematic way to decide which approach to use when constructing a confidence interval for a mean:</p>
<p><strong>Step 1:</strong> Do you know the population standard deviation <span class="math inline">\(\sigma\)</span>?</p>
<ul>
<li><strong>If yes</strong> (which is rare), use Scenario A with the normal distribution</li>
<li><strong>If no</strong> (which is almost always the case), go to Step 2</li>
</ul>
<p><strong>Step 2:</strong> Is your sample size large (<span class="math inline">\(n \geq 30\)</span>)?</p>
<ul>
<li><strong>If yes</strong>, use Scenario B with the normal distribution as an approximation</li>
<li><strong>If no</strong> (small sample), use Scenario C with the t-distribution</li>
</ul>
<div class="grViz html-widget html-fill-item" id="htmlwidget-20b066e36ce9489c4bd3" style="width:768px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-20b066e36ce9489c4bd3">{"x":{"diagram":"\ndigraph decision_tree {\n  graph [rankdir = TB, fontsize = 12]\n  node [shape = box, style = filled, fillcolor = lightblue]\n  \n  start [label = \"Do you know σ?\", fillcolor = \"#FFE5B4\"]\n  yes_sigma [label = \"Scenario A:\\nUse z from\\nnormal distribution\"]\n  no_sigma [label = \"Is n ≥ 30?\", fillcolor = \"#FFE5B4\"]\n  large_n [label = \"Scenario B:\\nUse z from\\nnormal distribution\"]\n  small_n [label = \"Scenario C:\\nUse t from\\nt-distribution\"]\n  \n  start -> yes_sigma [label = \"Yes\"]\n  start -> no_sigma [label = \"No\"]\n  no_sigma -> large_n [label = \"Yes\"]\n  no_sigma -> small_n [label = \"No\"]\n}\n","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p>The boundary of <span class="math inline">\(n = 30\)</span> is somewhat arbitrary, but it’s a useful rule of thumb. For sample sizes between 20 and 30, it usually doesn’t matter much whether you use z or t critical values. For very small samples (say, <span class="math inline">\(n &lt; 15\)</span>), you definitely want to use the t-distribution.</p>
<p>One additional consideration: the Central Limit Theorem tells us that the sampling distribution of the mean is approximately normal for large samples, even if the population isn’t normal. But for small samples, if you have strong reason to believe the population is very non-normal (highly skewed, for example), be cautious about constructing confidence intervals without additional analysis.</p>
</div>
<div id="things-to-look-out-for-1" class="section level2 unnumbered hasAnchor">
<h2>Things to Look Out For<a href="references.html#things-to-look-out-for-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Several common mistakes come up repeatedly when students first learn about confidence intervals. Being aware of these can help you avoid them.</p>
<div id="common-mistakes-1" class="section level3 hasAnchor" number="10.131.2">
<h3><span class="header-section-number">10.131.2</span> Common Mistakes<a href="references.html#common-mistakes-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Mistake 1: Misinterpreting the confidence level.</strong> The most common mistake is saying “there is a 95% probability that the true mean is in this interval.” Once you’ve calculated a specific interval, the true mean either is or isn’t in it—there’s no probability involved for that particular interval. The 95% refers to the long-run success rate of the procedure, not the probability for any particular interval you’ve calculated.</p>
<p><strong>Mistake 2: Forgetting to divide alpha by 2.</strong> When using <code>qnorm()</code> or <code>qt()</code> to find critical values, remember that for a two-sided confidence interval, you need to split the alpha level between the two tails. For a 95% confidence interval, you use <code>qnorm(0.975)</code>, not <code>qnorm(0.95)</code>.</p>
<p><strong>Mistake 3: Using the wrong standard error formula.</strong> Make sure you’re dividing by the square root of n, not just by n. The standard error is <span class="math inline">\(\frac{s}{\sqrt{n}}\)</span>, not <span class="math inline">\(\frac{s}{n}\)</span>.</p>
<p><strong>Mistake 4: Using z when you should use t.</strong> If you have a small sample and unknown population standard deviation, you should use the t-distribution. Using the normal distribution will make your confidence intervals too narrow, giving you false confidence in your estimate.</p>
<p><strong>Mistake 5: Forgetting about assumptions.</strong> Confidence intervals for means assume that your sample is a random sample from the population. If your sample is biased or not representative, your confidence interval may not capture the true population parameter, regardless of what confidence level you choose.</p>
</div>
<div id="when-confidence-intervals-can-be-misleading" class="section level3 hasAnchor" number="10.131.3">
<h3><span class="header-section-number">10.131.3</span> When Confidence Intervals Can Be Misleading<a href="references.html#when-confidence-intervals-can-be-misleading" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Confidence intervals are powerful tools, but they can be misleading in certain situations. Here’s a real-world example that illustrates the importance of proper sampling.</p>
<p>In the run-up to the 2016 US presidential election, many polls showed Hillary Clinton ahead of Donald Trump. These polls typically reported margins of error around ±3 percentage points, which corresponds to a 95% confidence interval. Yet Trump won the election. What went wrong?</p>
<p>The issue wasn’t with the mathematics of confidence intervals—it was with the sampling. Many polls failed to adequately represent certain groups of voters, particularly those without college degrees in key swing states. No amount of statistical sophistication can fix a biased sample. The confidence intervals accurately reflected sampling variability, but they couldn’t account for the fact that the samples weren’t truly representative of the voting population.</p>
<p>The lesson here is clear: a confidence interval is only as good as the data that goes into it. Before you trust a confidence interval, ask yourself whether the sample was truly random and representative of the population you care about.</p>
</div>
</div>
<div id="review-questions-confidence-intervals" class="section level2 hasAnchor" number="10.132">
<h2><span class="header-section-number">10.132</span> Review Questions: Confidence Intervals<a href="references.html#review-questions-confidence-intervals" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="conceptual-understanding-3" class="section level3 hasAnchor" number="10.132.1">
<h3><span class="header-section-number">10.132.1</span> Conceptual Understanding<a href="references.html#conceptual-understanding-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>Explain in your own words what a 95% confidence interval means. Why is it incorrect to say “there is a 95% probability that the true mean is in this interval”?</p></li>
<li><p>What are the two components needed to calculate the margin of error? How does each component contribute to the width of the interval?</p></li>
<li><p>Why do confidence intervals get wider as we increase the confidence level (e.g., from 90% to 95% to 99%)? What is the tradeoff?</p></li>
<li><p>Explain the difference between precision and accuracy in the context of confidence intervals. Can you have a precise but inaccurate confidence interval?</p></li>
<li><p>What is the Central Limit Theorem and why is it important for constructing confidence intervals?</p></li>
</ol>
</div>
<div id="decision-making" class="section level3 hasAnchor" number="10.132.2">
<h3><span class="header-section-number">10.132.2</span> Decision Making<a href="references.html#decision-making" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="6" style="list-style-type: decimal">
<li><p>You have a sample of n = 305 with unknown population standard deviation. Which distribution should you use to construct a confidence interval: normal (z) or t? Explain your reasoning.</p></li>
<li><p>You have a sample of n = 18 with unknown population standard deviation. Which distribution should you use? Why?</p></li>
<li><p>Under what circumstances (if any) would you know the population standard deviation σ in real research?</p></li>
</ol>
</div>
<div id="calculation-practice-1" class="section level3 hasAnchor" number="10.132.3">
<h3><span class="header-section-number">10.132.3</span> Calculation Practice<a href="references.html#calculation-practice-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="9" style="list-style-type: decimal">
<li>A researcher samples 40 voters and finds a mean trust rating in Congress of 32.5 (on a 0-100 scale) with a standard deviation of 15.3.
<ul>
<li>What is the standard error?</li>
<li>Calculate the 95% confidence interval.</li>
<li>Interpret this interval in a complete sentence.</li>
</ul></li>
<li>A small pilot study surveys 10 students about sleep hours. The sample mean is 6.5 hours with a standard deviation of 1.8 hours.
<ul>
<li>Why must you use the t-distribution for this problem?</li>
<li>What are the degrees of freedom?</li>
<li>Construct a 90% confidence interval (you’ll need to use R or a t-table).</li>
</ul></li>
<li>You construct two confidence intervals from the same data: [45.2, 54.8] and [43.1, 56.9]. Without doing any calculations, which interval has the higher confidence level? How do you know?</li>
</ol>
</div>
<div id="r-programming-1" class="section level3 hasAnchor" number="10.132.4">
<h3><span class="header-section-number">10.132.4</span> R Programming<a href="references.html#r-programming-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="12" style="list-style-type: decimal">
<li><p>What’s wrong with this code for finding a 95% confidence interval critical value, and how would you fix it?
<code>r     z_critical &lt;- qnorm(0.95)</code></p></li>
<li><p>Write R code to construct a 99% confidence interval for a sample with mean = 78, sd = 12, and n = 50. Show all steps.</p></li>
</ol>
</div>
<div id="interpretation-3" class="section level3 hasAnchor" number="10.132.5">
<h3><span class="header-section-number">10.132.5</span> Interpretation<a href="references.html#interpretation-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="14" style="list-style-type: decimal">
<li><p>A researcher reports: “The 95% confidence interval for average study time is [12.3, 18.7] hours per week.” Explain what this means to someone who hasn’t taken statistics.</p></li>
<li><p>Two studies both construct 95% confidence intervals for the same population parameter where we know the population variance <span class="math inline">\(\sigam^2\)</span>. Study A gets [40, 60] while Study B gets [48, 52].</p>
<ul>
<li>Which study had the larger sample size? How do you know?</li>
<li>Which interval is more useful? Why?</li>
</ul></li>
</ol>
</div>
<div id="critical-thinking-2" class="section level3 hasAnchor" number="10.132.6">
<h3><span class="header-section-number">10.132.6</span> Critical Thinking<a href="references.html#critical-thinking-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="16" style="list-style-type: decimal">
<li><p>A political poll reports a candidate’s support at 52% with a margin of error of ±3 percentage points. The candidate loses the election with 48% of the vote. Does this mean the poll was wrong? Explain your reasoning considering what you know about confidence intervals.</p></li>
<li><p>Why do confidence intervals assume random sampling? What happens to the interpretation if your sample is biased, even if you calculate the interval correctly?</p></li>
<li><p>A researcher collects data from n = 25 with <span class="math inline">\(\bar{x}\)</span> = 100 and s = 15. They want to report a confidence interval but are unsure whether to use 90%, 95%, or 99% confidence. What factors should influence this decision?</p></li>
</ol>

<div class="sourceCode" id="cb570"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb570-1"><a href="references.html#cb570-1" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
</div>
<div id="learning-objectives-14" class="section level2 hasAnchor" number="10.133">
<h2><span class="header-section-number">10.133</span> Learning Objectives<a href="references.html#learning-objectives-14" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Understand why we use hypothesis tests in research</li>
<li>Grasp the logic behind hypothesis testing</li>
<li>Learn the five essential components of any hypothesis test</li>
<li>Distinguish between null and alternative hypotheses</li>
<li>Understand p-values and statistical significance</li>
</ol>
</div>
<div id="why-hypothesis-testing-matters" class="section level2 hasAnchor" number="10.134">
<h2><span class="header-section-number">10.134</span> Why Hypothesis Testing Matters<a href="references.html#why-hypothesis-testing-matters" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Imagine you’re having dinner with friends, and someone claims that WashU students are more conservative than the national average. Everyone you know seems to be a Biden voter, so you’re skeptical. How would you settle this argument?</p>
<p>You could:</p>
<ul>
<li>Argue really loudly (whoever is most obnoxious wins)</li>
<li>Tell stories about your liberal classmates (anecdotal evidence)</li>
<li>Actually collect and analyze data (the scientific approach!)</li>
</ul>
<p>This is what hypothesis testing is all about: <strong>using data to test competing claims in a systematic, rigorous way</strong>. It’s how we move from opinion and anecdote to evidence-based conclusions.</p>
</div>
<div id="the-basic-logic-of-hypothesis-testing" class="section level2 hasAnchor" number="10.135">
<h2><span class="header-section-number">10.135</span> The Basic Logic of Hypothesis Testing<a href="references.html#the-basic-logic-of-hypothesis-testing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Hypothesis testing might seem complex at first, but the underlying logic is straightforward. Here’s the basic idea:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Start as a skeptic.</strong> We begin by assuming the claim we’re testing is false. This assumption is called the <strong>null hypothesis</strong>.</p></li>
<li><p><strong>Collect evidence.</strong> We gather data through random sampling to see what’s actually happening.</p></li>
<li><p><strong>Ask a key question.</strong> If the skeptic’s position were correct, how likely would we be to see data like ours (or even more extreme)?</p></li>
<li><p><strong>Draw a conclusion.</strong> If our data would be very unlikely under the null hypothesis, we have good reason to reject it. If not, we can’t rule it out.</p></li>
</ol>
<p>This approach protects us from jumping to conclusions. We only reject the skeptic’s position when we have strong evidence against it.</p>
</div>
<div id="the-research-context" class="section level2 hasAnchor" number="10.136">
<h2><span class="header-section-number">10.136</span> The Research Context<a href="references.html#the-research-context" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s make this concrete. According to a 2019 national survey, 17.8% of college freshmen identified as conservative. Now suppose you take a random sample of 200 WashU freshmen, and 39 of them (19.5%) identify as conservative.</p>
<p>Your friend claims WashU students are <strong>more</strong> conservative than average. You’re skeptical. Can this difference (19.5% vs 17.8%) be explained by random chance, or does it suggest something real?</p>
<p>This is exactly the kind of question hypothesis testing helps us answer.</p>
</div>
<div id="the-five-parts-of-a-hypothesis-test" class="section level2 hasAnchor" number="10.137">
<h2><span class="header-section-number">10.137</span> The Five Parts of a Hypothesis Test<a href="references.html#the-five-parts-of-a-hypothesis-test" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Every hypothesis test has the same five components. Let’s walk through each one.</p>
<div id="assumptions" class="section level3 hasAnchor" number="10.137.1">
<h3><span class="header-section-number">10.137.1</span> 1. Assumptions<a href="references.html#assumptions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Before we can perform a hypothesis test, we need to verify certain conditions:</p>
<ul>
<li><p><strong>Randomness:</strong> The data must come from a random sample or have randomess from some other source that is like a random sample. This ensures our sample is representative of the population.</p></li>
<li><p><strong>Normal sampling distribution:</strong> With a large sample, we can assume the sampling distribution of the sample mean is approximately normal. This is thanks to the Central Limit Theorem, which gives us the mathematical leverage we need.</p></li>
<li><p><strong>Smaller sample sizes:</strong> With smaller sample sizes, we may need to make additional assumptions like the normality of the populiation.</p></li>
</ul>
<p>These assumptions aren’t just technical details—they’re the foundation that makes our statistical conclusions valid.</p>
</div>
<div id="state-the-hypotheses" class="section level3 hasAnchor" number="10.137.2">
<h3><span class="header-section-number">10.137.2</span> 2. State the Hypotheses<a href="references.html#state-the-hypotheses" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In any hypothesis test, we have two competing hypotheses:</p>
<p><strong>The Null Hypothesis (<span class="math inline">\(H_0\)</span>):</strong> This represents the skeptic’s position—the claim we’re trying to disprove. In our example, the null hypothesis is that WashU students are no more conservative than the national average. Mathematically: <span class="math inline">\(H_0: \mu \le 0.178\)</span></p>
<p><strong>The Alternative Hypothesis (<span class="math inline">\(H_a\)</span>):</strong> This is the research claim we’re testing—the theory that motivated our study. In our example: WashU students <strong>are</strong> more conservative than average. Mathematically: <span class="math inline">\(H_a: \mu &gt; 0.178\)</span></p>
<p>Notice something important: we’re testing whether we can reject the null hypothesis. We never “prove” the alternative hypothesis. We can only show that the data are inconsistent with the null hypothesis.</p>
<p>In research papers, you’ll rarely see the null hypothesis spelled out explicitly. Instead, researchers state their hypothesis (e.g., “democracies are less likely to go to war than autocracies”), and the null hypothesis is implied (democracies are not less war-prone than autocracies).</p>
</div>
<div id="calculate-the-test-statistic" class="section level3 hasAnchor" number="10.137.3">
<h3><span class="header-section-number">10.137.3</span> 3. Calculate the Test Statistic<a href="references.html#calculate-the-test-statistic" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The test statistic measures how far our sample result falls from what the null hypothesis predicts, relative to the expected variability.</p>
<p>For our example:</p>
<ul>
<li>Sample proportion: <span class="math inline">\(\hat{\mu} = \bar{x} = \frac{39}{200} = 0.195\)</span></li>
<li>Null hypothesis value: <span class="math inline">\(\mu_0 = 0.178\)</span></li>
<li>Standard error: <span class="math inline">\(se_{\bar{x}} = \frac{s}{\sqrt{n}} \approx 0.028\)</span></li>
</ul>
<p>The test statistic is:</p>
<p><span class="math display">\[TS = \frac{\hat{\mu} - \mu_0}{se_{\hat{\mu}}} = \frac{0.195 - 0.178}{0.028} = 0.607\]</span></p>
<p><strong>What does this mean?</strong> Our observed proportion is 0.607 standard errors above what the null hypothesis predicts. The test statistic tells us how extreme our result is in standardized units.</p>
<p>Think of it this way: if the null hypothesis is true, how surprising is our result? The test statistic quantifies that surprise.</p>
</div>
<div id="calculate-the-p-value" class="section level3 hasAnchor" number="10.137.4">
<h3><span class="header-section-number">10.137.4</span> 4. Calculate the P-Value<a href="references.html#calculate-the-p-value" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<blockquote>
<p><strong>P-value:</strong> The probability of observing a sample statistic as extreme as ours (or more extreme), assuming the null hypothesis is true.</p>
</blockquote>
<p>This is the heart of hypothesis testing. The p-value tells us: “If the skeptic is right, and the true proportion really is 17.8% or less, what’s the probability we’d randomly sample a result as extreme as 19.5% or more?”</p>
<p>In our example, the p-value is approximately 0.272. This means there’s a 27.2% chance of getting a sample like ours (or more extreme) if the null hypothesis is true.</p>
<p><strong>Important distinction:</strong> We’re not just asking about the probability of getting exactly 19.5%. We’re asking about the probability of getting 19.5% <strong>or anything even more extreme</strong> (like 20%, 25%, etc.).</p>
<p><strong>One-sided vs. Two-sided Tests:</strong></p>
<ul>
<li>Our example uses a <strong>one-sided test</strong> because we only care if WashU students are MORE conservative (not less conservative).</li>
<li>If we cared about differences in either direction, we’d use a <strong>two-sided test</strong> and multiply our p-value by 2.</li>
</ul>
</div>
<div id="draw-a-conclusion" class="section level3 hasAnchor" number="10.137.5">
<h3><span class="header-section-number">10.137.5</span> 5. Draw a Conclusion<a href="references.html#draw-a-conclusion" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now we interpret the p-value using a decision rule called the <strong>significance level</strong> (denoted <span class="math inline">\(\alpha\)</span>, usually set at 0.05).</p>
<p><strong>The decision rule:</strong></p>
<ul>
<li>If p-value ≤ 0.05: Reject the null hypothesis</li>
<li>If p-value &gt; 0.05: Fail to reject the null hypothesis</li>
</ul>
<p>In our example, p ≈ 0.272, which is much larger than 0.05. Therefore:</p>
<ol style="list-style-type: decimal">
<li>We made a research hypothesis (WashU students are more conservative than average)</li>
<li>We set out the skeptic’s position (they’re not more conservative)</li>
<li>The evidence did not refute the skeptic</li>
<li><strong>Conclusion:</strong> The test is inconclusive. We cannot reject the null hypothesis.</li>
</ol>
<p><strong>What does “fail to reject” mean?</strong> It means we don’t have sufficient evidence to disprove the skeptic. It does <strong>not</strong> mean the skeptic is definitely right—just that our data don’t contradict their position strongly enough.</p>
</div>
</div>
<div id="a-second-example-stronger-evidence" class="section level2 hasAnchor" number="10.138">
<h2><span class="header-section-number">10.138</span> A Second Example: Stronger Evidence<a href="references.html#a-second-example-stronger-evidence" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s imagine our sample was different. Suppose 55 out of 200 students identified as conservative (27.5% instead of 19.5%).</p>
<p>Now:</p>
<ul>
<li>Sample proportion: <span class="math inline">\(\bar{x} = 0.275\)</span></li>
<li>Standard error: <span class="math inline">\(se \approx 0.0317\)</span></li>
<li>Test statistic: <span class="math inline">\(TS = \frac{0.275 - 0.178}{0.0317} = 3.06\)</span></li>
<li>P-value: ≈ 0.001</li>
</ul>
<p>With p ≈ 0.001, we would reject the null hypothesis. Our conclusion changes:</p>
<ol style="list-style-type: decimal">
<li>We made a research hypothesis (WashU students are more conservative than average)</li>
<li>We set out the skeptic’s position</li>
<li>The evidence would be highly unlikely (only 0.1% chance) if the skeptic were right</li>
<li><strong>Conclusion:</strong> We reject the null hypothesis in favor of the research hypothesis</li>
</ol>
<p>This smaller p-value tells us that if the true proportion were really 17.8% or less, it would be extremely unlikely (only about 1 in 1,000 chance) to randomly sample 55 conservatives out of 200 students.</p>
</div>
<div id="understanding-what-p-values-really-mean" class="section level2 hasAnchor" number="10.139">
<h2><span class="header-section-number">10.139</span> Understanding What P-Values Really Mean<a href="references.html#understanding-what-p-values-really-mean" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The p-value is probably the most misunderstood concept in statistics. Let’s be clear about what it does and doesn’t tell us:</p>
<p><strong>What a p-value IS:</strong></p>
<ul>
<li>The probability of seeing data as extreme as ours (or more extreme) IF the null hypothesis is true</li>
<li>A measure of how surprising our data would be under the null hypothesis</li>
<li>A tool for decision-making about statistical hypotheses</li>
</ul>
<p><strong>What a p-value is NOT:</strong></p>
<ul>
<li>The probability that the null hypothesis is true</li>
<li>The probability that our result happened by chance</li>
<li>A measure of the size or importance of an effect</li>
</ul>
<p>Think of the p-value as answering this question: “If the skeptic is right, how weird is my data?” A small p-value means your data would be very weird under the null hypothesis, suggesting the null hypothesis is probably wrong.</p>
</div>
<div id="the-logic-of-statistical-significance" class="section level2 hasAnchor" number="10.140">
<h2><span class="header-section-number">10.140</span> The Logic of Statistical Significance<a href="references.html#the-logic-of-statistical-significance" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Why do we use 0.05 as our cutoff? This threshold (<span class="math inline">\(\alpha\)</span> = 0.05) is a convention, not a law of nature. It means we’re willing to reject the null hypothesis when there’s only a 5% chance (or less) of seeing data this extreme if the null is true.</p>
<p>Different fields sometimes use different thresholds:</p>
<ul>
<li>Medical research often uses <span class="math inline">\(\alpha\)</span> = 0.01 (more stringent)</li>
<li>Some social sciences use <span class="math inline">\(\alpha\)</span> = 0.10 (less stringent)</li>
<li>The key is to decide on α <strong>before</strong> looking at your data</li>
</ul>
<p><strong>Type I and Type II Errors:</strong></p>
<p>Hypothesis testing involves uncertainty, so mistakes are possible:</p>
<ul>
<li><strong>Type I Error:</strong> Rejecting the null hypothesis when it’s actually true (false positive). The significance level α is the probability of making this error.</li>
<li><strong>Type II Error:</strong> Failing to reject the null hypothesis when it’s actually false (false negative).</li>
</ul>
<p>We can’t eliminate both types of errors—reducing one typically increases the other. The significance level represents our tolerance for Type I errors.</p>
</div>
<div id="why-this-matters-for-research" class="section level2 hasAnchor" number="10.141">
<h2><span class="header-section-number">10.141</span> Why This Matters for Research<a href="references.html#why-this-matters-for-research" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Hypothesis testing provides a systematic framework for:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Testing theories:</strong> Does democracy reduce war? Do income levels affect voting behavior? Hypothesis testing helps us evaluate these claims with data.</p></li>
<li><p><strong>Avoiding confirmation bias:</strong> By starting from a skeptical position (the null hypothesis), we force ourselves to find strong evidence before accepting <span class="math inline">\(\alpha\)</span> claim.</p></li>
<li><p><strong>Communicating uncertainty:</strong> P-values and significance levels make explicit how confident we are in our conclusions.</p></li>
<li><p><strong>Replicability:</strong> Other researchers can replicate our tests and verify our conclusions because hypothesis testing follows a standardized procedure.</p></li>
</ol>
</div>
<div id="common-pitfalls-and-how-to-avoid-them-1" class="section level2 hasAnchor" number="10.142">
<h2><span class="header-section-number">10.142</span> Common Pitfalls and How to Avoid Them<a href="references.html#common-pitfalls-and-how-to-avoid-them-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Pitfall 1: Confusing “fail to reject” with “accept”</strong></p>
<ul>
<li>Wrong: “We accept the null hypothesis”</li>
<li>Right: “We fail to reject the null hypothesis” or “The test was inconclusive”</li>
</ul>
<p>Failing to find evidence against the null is not the same as proving it’s true.</p>
<p><strong>Pitfall 2: P-hacking</strong></p>
<p>Testing multiple hypotheses and only reporting significant results is unethical and leads to false discoveries.</p>
<p><strong>Pitfall 3: Ignoring practical significance</strong></p>
<p>A statistically significant result might not be practically important. With huge samples, tiny differences can be statistically significant but substantively meaningless.</p>
<p><strong>Pitfall 4: Misinterpreting the p-value</strong></p>
<p>Remember: the p-value is NOT the probability that the null hypothesis is true.</p>
</div>
<div id="the-bigger-picture" class="section level2 hasAnchor" number="10.143">
<h2><span class="header-section-number">10.143</span> The Bigger Picture<a href="references.html#the-bigger-picture" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We commonly have two tasks in data analysis:</p>
<ol style="list-style-type: decimal">
<li><strong>Understanding a complex world:</strong> What patterns exist in our data?</li>
<li><strong>Understanding a probabilistic world:</strong> Are these patterns systematic or just random noise?</li>
</ol>
<p>Hypothesis testing addresses the second question. When we find a pattern in data, hypothesis testing helps us determine whether that pattern is likely to reflect something real (systematic) or just sampling variability (random).</p>
<p>This is why hypothesis testing is fundamental to science. It provides a principled way to distinguish signal from noise, helping us build reliable knowledge about the world.</p>
</div>
<div id="study-questions-7" class="section level2 hasAnchor" number="10.144">
<h2><span class="header-section-number">10.144</span> Study Questions<a href="references.html#study-questions-7" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="understanding-the-concepts-1" class="section level3 hasAnchor" number="10.144.1">
<h3><span class="header-section-number">10.144.1</span> Understanding the Concepts<a href="references.html#understanding-the-concepts-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>What is a p-value? Explain what it means in plain English, without using technical jargon.</p></li>
<li><p>What does it mean to “reject the null hypothesis”? What does it mean to “fail to reject the null hypothesis”? Why don’t we say “accept the null hypothesis”?</p></li>
<li><p>What is a significance level (<span class="math inline">\(\alpha\)</span>)? Why is <span class="math inline">\(\alpha\)</span> = 0.05 commonly used as the threshold for statistical significance?</p></li>
<li><p>Explain the difference between a one-sided hypothesis test and a two-sided hypothesis test. When would you use each type?</p></li>
</ol>
</div>
<div id="interpreting-results" class="section level3 hasAnchor" number="10.144.2">
<h3><span class="header-section-number">10.144.2</span> Interpreting Results<a href="references.html#interpreting-results" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="5" style="list-style-type: decimal">
<li><p>A researcher tests whether WashU students study more hours per week than the national average of 15 hours. She finds p = 0.03. Using <span class="math inline">\(\alpha\)</span> = 0.05, what should she conclude? What does this p-value mean?</p></li>
<li><p>Another researcher tests whether campaign ads affect voter turnout and finds p = 0.18. Using <span class="math inline">\(\alpha\)</span> = 0.05, what should he conclude? Does this prove that campaign ads have no effect? Explain.</p></li>
</ol>
</div>
<div id="setting-up-hypothesis-tests" class="section level3 hasAnchor" number="10.144.3">
<h3><span class="header-section-number">10.144.3</span> Setting Up Hypothesis Tests<a href="references.html#setting-up-hypothesis-tests" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="7" style="list-style-type: decimal">
<li>A researcher believes that students who attend office hours get higher grades than those who don’t.
<ul>
<li>What is the null hypothesis?</li>
<li>What is the alternative hypothesis?</li>
<li>Should this be a one-sided or two-sided test? Why?</li>
</ul></li>
<li>You want to test whether Democratic and Republican voters differ in their support for climate policy (not specifying which direction).
<ul>
<li>State the null hypothesis</li>
<li>State the alternative hypothesis</li>
<li>Should this be a one-sided or two-sided test? Why?</li>
</ul></li>
</ol>
</div>
<div id="understanding-errors" class="section level3 hasAnchor" number="10.144.4">
<h3><span class="header-section-number">10.144.4</span> Understanding Errors<a href="references.html#understanding-errors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="9" style="list-style-type: decimal">
<li><p>What is a Type I error? What is the probability of making a Type I error if we use <span class="math inline">\(\alpha\)</span> = 0.05?</p></li>
<li><p>What is a Type II error? Which is worse: Type I or Type II error? Does it depend on the situation?</p></li>
</ol>
</div>
<div id="critical-thinking-3" class="section level3 hasAnchor" number="10.144.5">
<h3><span class="header-section-number">10.144.5</span> Critical Thinking<a href="references.html#critical-thinking-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="11" style="list-style-type: decimal">
<li>A friend tells you: “I found p = 0.02, which means there’s only a 2% chance the null hypothesis is true!” What’s wrong with this interpretation? What does p = 0.02 actually mean?</li>
</ol>
</div>
<div id="application-questions" class="section level3 hasAnchor" number="10.144.6">
<h3><span class="header-section-number">10.144.6</span> Application Questions<a href="references.html#application-questions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="12" style="list-style-type: decimal">
<li>You’re studying whether voter turnout is higher in competitive districts. Design a hypothesis test:
<ul>
<li>What would you measure?</li>
<li>What is your null hypothesis?</li>
<li>What is your alternative hypothesis?</li>
<li>What evidence would convince you to reject the null hypothesis?</li>
</ul></li>
</ol>

<div class="sourceCode" id="cb571"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb571-1"><a href="references.html#cb571-1" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
</div>
<div id="summary-8" class="section level2 hasAnchor" number="10.145">
<h2><span class="header-section-number">10.145</span> Summary<a href="references.html#summary-8" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this module, you’ll learn how to conduct hypothesis tests in R using real data from the 2024 General Social Survey about AI job concerns. We’ll work through the complete five-step hypothesis testing framework, starting with simple approaches using the normal distribution, then refining our analysis with the t-distribution. By the end, you’ll be able to:</p>
<ul>
<li>Set up null and alternative hypotheses<br />
</li>
<li>Calculate test statistics and p-values manually</li>
<li>Use R’s built-in functions for efficiency</li>
<li>Interpret statistical results in meaningful policy contexts</li>
</ul>
<p>Most importantly, you’ll see that hypothesis testing isn’t just abstract math—it’s a tool for answering real questions that matter for society.</p>
</div>
<div id="introduction-the-ai-revolution-and-job-anxiety" class="section level2 hasAnchor" number="10.146">
<h2><span class="header-section-number">10.146</span> Introduction: The AI Revolution and Job Anxiety<a href="references.html#introduction-the-ai-revolution-and-job-anxiety" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>It’s 2025, and AI is everywhere. ChatGPT writes essays, DALL-E creates art, and self-driving cars are becoming reality. Your parents ask if they should worry about their jobs. Politicians debate whether we need Universal Basic Income. Tech leaders alternately promise utopia and warn of disaster.</p>
<p>But what do ordinary Americans actually think? Are people worried about AI taking their jobs, or is this just media hype?</p>
<p>The 2024 General Social Survey—one of the most important social science datasets in America—asked respondents: <strong>“How worried are you that AI will take over many jobs done by humans?”</strong></p>
<p>Today, we’ll use hypothesis testing to determine whether Americans are significantly worried about AI job displacement. This isn’t just an academic exercise—the answer has real implications for policy debates about worker retraining, tech regulation, and the social safety net.</p>
</div>
<div id="loading-and-understanding-the-data" class="section level2 hasAnchor" number="10.147">
<h2><span class="header-section-number">10.147</span> Loading and Understanding the Data<a href="references.html#loading-and-understanding-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s start by loading the GSS data and exploring what we’re working with:</p>
<div class="sourceCode" id="cb572"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb572-1"><a href="references.html#cb572-1" tabindex="-1"></a><span class="co"># Load necessary packages</span></span>
<span id="cb572-2"><a href="references.html#cb572-2" tabindex="-1"></a><span class="fu">library</span>(haven)  <span class="co"># For reading Stata files</span></span>
<span id="cb572-3"><a href="references.html#cb572-3" tabindex="-1"></a><span class="fu">library</span>(dplyr)  <span class="co"># For data manipulation</span></span>
<span id="cb572-4"><a href="references.html#cb572-4" tabindex="-1"></a><span class="fu">library</span>(ggplot2)  <span class="co"># For visualization</span></span>
<span id="cb572-5"><a href="references.html#cb572-5" tabindex="-1"></a></span>
<span id="cb572-6"><a href="references.html#cb572-6" tabindex="-1"></a><span class="co"># Load the GSS 2024 data</span></span>
<span id="cb572-7"><a href="references.html#cb572-7" tabindex="-1"></a><span class="co"># Note: In your assignment, adjust the file path as needed</span></span>
<span id="cb572-8"><a href="references.html#cb572-8" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">&quot;GSS2024.dta&quot;</span>)</span>
<span id="cb572-9"><a href="references.html#cb572-9" tabindex="-1"></a></span>
<span id="cb572-10"><a href="references.html#cb572-10" tabindex="-1"></a><span class="co"># Look at the structure of our variable of interest</span></span>
<span id="cb572-11"><a href="references.html#cb572-11" tabindex="-1"></a><span class="fu">table</span>(data<span class="sc">$</span>aiworry)</span></code></pre></div>
<pre><code>## 
##   1   2   3   4   5 
## 431 612 256 168  69</code></pre>
<p>Notice something important: We have a lot of missing values! Only about 1,536 of 3,309 respondents answered this question. This is common in the GSS—they use a “split ballot” design where different subsets get different questions to keep the survey manageable.</p>
<p>Let’s look at the scale:</p>
<ul>
<li>1 = Very Worried</li>
<li>2 = Somewhat Worried<br />
</li>
<li>3 = Neither Worried nor Unworried</li>
<li>4 = Not Very Worried</li>
<li>5 = Not At All Worried</li>
</ul>
<p><strong>Critical insight</strong>: Lower numbers mean MORE worried!</p>
</div>
<div id="data-cleaning-real-data-is-messy" class="section level2 hasAnchor" number="10.148">
<h2><span class="header-section-number">10.148</span> Data Cleaning: Real Data is Messy<a href="references.html#data-cleaning-real-data-is-messy" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Before we can test anything, we need to clean our data. This is where most real data analysis happens—not in fancy models, but in careful data preparation:</p>
<div class="sourceCode" id="cb574"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb574-1"><a href="references.html#cb574-1" tabindex="-1"></a><span class="co"># Remove NAs and invalid response codes</span></span>
<span id="cb574-2"><a href="references.html#cb574-2" tabindex="-1"></a>gss_clean <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb574-3"><a href="references.html#cb574-3" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(aiworry) <span class="sc">&amp;</span> aiworry <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>))</span>
<span id="cb574-4"><a href="references.html#cb574-4" tabindex="-1"></a></span>
<span id="cb574-5"><a href="references.html#cb574-5" tabindex="-1"></a><span class="co"># Check our cleaned data</span></span>
<span id="cb574-6"><a href="references.html#cb574-6" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(gss_clean)</span>
<span id="cb574-7"><a href="references.html#cb574-7" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Sample size after cleaning:&quot;</span>, n))</span></code></pre></div>
<pre><code>## [1] &quot;Sample size after cleaning: 1536&quot;</code></pre>
<div class="sourceCode" id="cb576"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb576-1"><a href="references.html#cb576-1" tabindex="-1"></a><span class="co"># Calculate summary statistics</span></span>
<span id="cb576-2"><a href="references.html#cb576-2" tabindex="-1"></a><span class="fu">summary</span>(gss_clean<span class="sc">$</span>aiworry)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    1.00    1.00    2.00    2.24    3.00    5.00</code></pre>
<div class="sourceCode" id="cb578"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb578-1"><a href="references.html#cb578-1" tabindex="-1"></a><span class="co"># Visualize the distribution</span></span>
<span id="cb578-2"><a href="references.html#cb578-2" tabindex="-1"></a><span class="fu">ggplot</span>(gss_clean, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(aiworry))) <span class="sc">+</span></span>
<span id="cb578-3"><a href="references.html#cb578-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">&quot;steelblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb578-4"><a href="references.html#cb578-4" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;1</span><span class="sc">\n</span><span class="st">Very</span><span class="sc">\n</span><span class="st">Worried&quot;</span>, <span class="st">&quot;2</span><span class="sc">\n</span><span class="st">Somewhat</span><span class="sc">\n</span><span class="st">Worried&quot;</span>, </span>
<span id="cb578-5"><a href="references.html#cb578-5" tabindex="-1"></a>                              <span class="st">&quot;3</span><span class="sc">\n</span><span class="st">Neutral&quot;</span>, <span class="st">&quot;4</span><span class="sc">\n</span><span class="st">Not Very</span><span class="sc">\n</span><span class="st">Worried&quot;</span>, </span>
<span id="cb578-6"><a href="references.html#cb578-6" tabindex="-1"></a>                              <span class="st">&quot;5</span><span class="sc">\n</span><span class="st">Not At All</span><span class="sc">\n</span><span class="st">Worried&quot;</span>)) <span class="sc">+</span></span>
<span id="cb578-7"><a href="references.html#cb578-7" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Distribution of AI Job Worry Among Americans&quot;</span>,</span>
<span id="cb578-8"><a href="references.html#cb578-8" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;GSS 2024 (n = 1,536)&quot;</span>,</span>
<span id="cb578-9"><a href="references.html#cb578-9" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Level of Worry&quot;</span>, </span>
<span id="cb578-10"><a href="references.html#cb578-10" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Number of Respondents&quot;</span>) <span class="sc">+</span></span>
<span id="cb578-11"><a href="references.html#cb578-11" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb578-12"><a href="references.html#cb578-12" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>))</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/visualize-distribution-1.png" width="672" /></p>
<p>Look at that distribution! More people fall on the “worried” side (1-2) than the “not worried” side (4-5). But is this pattern statistically significant, or could it be due to random sampling variation?</p>
</div>
<div id="the-five-steps-of-hypothesis-testing" class="section level2 hasAnchor" number="10.149">
<h2><span class="header-section-number">10.149</span> The Five Steps of Hypothesis Testing<a href="references.html#the-five-steps-of-hypothesis-testing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now we’ll apply the five-step framework you learned in the previous module to test whether Americans are significantly worried about AI.</p>
<div id="step-1-check-assumptions" class="section level3 hasAnchor" number="10.149.1">
<h3><span class="header-section-number">10.149.1</span> Step 1: Check Assumptions<a href="references.html#step-1-check-assumptions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Before running any test, we verify our assumptions:</p>
<ol style="list-style-type: decimal">
<li><p>This is a random sample, so we have systematic randomness where each data can be considered somewhat an indpendent draw from a commmon population. (In more advanced classes, we would discuss the use of “survey weights”, which are used to correct for imballance in the demographic coverage of the poll. But let’s keep things simple for today.)</p></li>
<li><p>We n &gt; 1,000, which meanse the CLT theorem applies.</p></li>
</ol>
<p>With n = 1,536, we can confidently use the Central Limit Theorem. The sampling distribution of our sample mean will be approximately normal, even though the underlying data is discrete (1-5 scale).</p>
</div>
<div id="step-2-state-the-hypotheses" class="section level3 hasAnchor" number="10.149.2">
<h3><span class="header-section-number">10.149.2</span> Step 2: State the Hypotheses<a href="references.html#step-2-state-the-hypotheses" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We need to translate our research question into mathematical hypotheses. Remember, 3 is the neutral point on our scale.</p>
<p><strong>Null Hypothesis (H₀)</strong>: μ ≥ 3<br />
<em>Americans are neutral or unconcerned about AI taking jobs</em></p>
<p><strong>Alternative Hypothesis (Hₐ)</strong>: μ &lt; 3<br />
<em>Americans ARE worried about AI taking jobs</em></p>
<p>This is a <strong>one-sided test</strong> because we have a specific direction in mind—we’re testing whether people are MORE worried than neutral, not just different from neutral.</p>
</div>
<div id="step-3-calculate-the-test-statistic" class="section level3 hasAnchor" number="10.149.3">
<h3><span class="header-section-number">10.149.3</span> Step 3: Calculate the Test Statistic<a href="references.html#step-3-calculate-the-test-statistic" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The test statistic measures how many standard errors our sample mean is from the hypothesized value:</p>
<div class="sourceCode" id="cb579"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb579-1"><a href="references.html#cb579-1" tabindex="-1"></a><span class="co"># Calculate sample statistics</span></span>
<span id="cb579-2"><a href="references.html#cb579-2" tabindex="-1"></a>x_bar <span class="ot">&lt;-</span> <span class="fu">mean</span>(gss_clean<span class="sc">$</span>aiworry)</span>
<span id="cb579-3"><a href="references.html#cb579-3" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="fu">sd</span>(gss_clean<span class="sc">$</span>aiworry)</span>
<span id="cb579-4"><a href="references.html#cb579-4" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(gss_clean)</span>
<span id="cb579-5"><a href="references.html#cb579-5" tabindex="-1"></a></span>
<span id="cb579-6"><a href="references.html#cb579-6" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Sample mean:&quot;</span>, <span class="fu">round</span>(x_bar, <span class="dv">3</span>)))</span></code></pre></div>
<pre><code>## [1] &quot;Sample mean: 2.24&quot;</code></pre>
<div class="sourceCode" id="cb581"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb581-1"><a href="references.html#cb581-1" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Sample standard deviation:&quot;</span>, <span class="fu">round</span>(s, <span class="dv">3</span>)))</span></code></pre></div>
<pre><code>## [1] &quot;Sample standard deviation: 1.11&quot;</code></pre>
<div class="sourceCode" id="cb583"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb583-1"><a href="references.html#cb583-1" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Sample size:&quot;</span>, n))</span></code></pre></div>
<pre><code>## [1] &quot;Sample size: 1536&quot;</code></pre>
<div class="sourceCode" id="cb585"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb585-1"><a href="references.html#cb585-1" tabindex="-1"></a><span class="co"># Calculate standard error</span></span>
<span id="cb585-2"><a href="references.html#cb585-2" tabindex="-1"></a>se <span class="ot">&lt;-</span> s <span class="sc">/</span> <span class="fu">sqrt</span>(n)</span>
<span id="cb585-3"><a href="references.html#cb585-3" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Standard error:&quot;</span>, <span class="fu">round</span>(se, <span class="dv">3</span>)))</span></code></pre></div>
<pre><code>## [1] &quot;Standard error: 0.028&quot;</code></pre>
<div class="sourceCode" id="cb587"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb587-1"><a href="references.html#cb587-1" tabindex="-1"></a><span class="co"># Calculate test statistic (using z for now with large sample)</span></span>
<span id="cb587-2"><a href="references.html#cb587-2" tabindex="-1"></a>mu_0 <span class="ot">&lt;-</span> <span class="dv">3</span>  <span class="co"># Our null hypothesis value (neutral)</span></span>
<span id="cb587-3"><a href="references.html#cb587-3" tabindex="-1"></a>z_stat <span class="ot">&lt;-</span> (x_bar <span class="sc">-</span> mu_0) <span class="sc">/</span> se</span>
<span id="cb587-4"><a href="references.html#cb587-4" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Test statistic (z):&quot;</span>, <span class="fu">round</span>(z_stat, <span class="dv">3</span>)))</span></code></pre></div>
<pre><code>## [1] &quot;Test statistic (z): -26.845&quot;</code></pre>
<p>Our test statistic is -26.845. This means our sample mean is about 26.8 standard errors BELOW the neutral point of 3. That’s quite far!</p>
</div>
<div id="step-4-calculate-the-p-value" class="section level3 hasAnchor" number="10.149.4">
<h3><span class="header-section-number">10.149.4</span> Step 4: Calculate the P-Value<a href="references.html#step-4-calculate-the-p-value" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The p-value tells us: “If Americans were truly neutral about AI (H₀ true), what’s the probability of getting a sample mean this low or lower?”</p>
<div class="sourceCode" id="cb589"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb589-1"><a href="references.html#cb589-1" tabindex="-1"></a><span class="co"># Calculate p-value using normal distribution</span></span>
<span id="cb589-2"><a href="references.html#cb589-2" tabindex="-1"></a>p_value_normal <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(z_stat)</span>
<span id="cb589-3"><a href="references.html#cb589-3" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;P-value (using normal):&quot;</span>, <span class="fu">round</span>(p_value_normal, <span class="dv">6</span>)))</span></code></pre></div>
<pre><code>## [1] &quot;P-value (using normal): 0&quot;</code></pre>
<p>The p-value is essentially 0! This means if Americans were truly neutral about AI, there’s almost no chance we’d randomly sample 1,536 people and find them this worried.</p>
</div>
<div id="step-5-draw-conclusions" class="section level3 hasAnchor" number="10.149.5">
<h3><span class="header-section-number">10.149.5</span> Step 5: Draw Conclusions<a href="references.html#step-5-draw-conclusions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Statistical Conclusion</strong>: We reject the null hypothesis (p &lt; 0.001). There is overwhelming statistical evidence that Americans are worried about AI job displacement.</p>
<p><strong>Practical Interpretation</strong>: The average American rates their worry at 2.24 on our 5-point scale, significantly below the neutral point of 3. This falls between “Very Worried” (1) and “Somewhat Worried” (2), suggesting substantial concern about AI’s impact on employment.</p>
</div>
</div>
<div id="refining-our-analysis-the-t-distribution" class="section level2 hasAnchor" number="10.150">
<h2><span class="header-section-number">10.150</span> Refining Our Analysis: The t-Distribution<a href="references.html#refining-our-analysis-the-t-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>So far, we’ve used the normal distribution, which is fine for large samples. But technically, we should use the t-distribution because we don’t know the true population standard deviation—we estimated it from our sample. We often don’t worry about this because the t-distribution and the standard normal distribution are very similar with large samples.</p>
<div id="when-and-why-to-use-t" class="section level3 hasAnchor" number="10.150.1">
<h3><span class="header-section-number">10.150.1</span> When and Why to Use t<a href="references.html#when-and-why-to-use-t" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The t-distribution accounts for the extra uncertainty that comes from estimating the population standard deviation. It has “fatter tails” than the normal distribution, making it slightly harder to reject the null hypothesis.</p>
<div class="sourceCode" id="cb591"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb591-1"><a href="references.html#cb591-1" tabindex="-1"></a><span class="co"># Recalculate using t-distribution</span></span>
<span id="cb591-2"><a href="references.html#cb591-2" tabindex="-1"></a>t_stat <span class="ot">&lt;-</span> (x_bar <span class="sc">-</span> mu_0) <span class="sc">/</span> se  <span class="co"># Same calculation as z_stat</span></span>
<span id="cb591-3"><a href="references.html#cb591-3" tabindex="-1"></a>df <span class="ot">&lt;-</span> n <span class="sc">-</span> <span class="dv">1</span>  <span class="co"># Degrees of freedom</span></span>
<span id="cb591-4"><a href="references.html#cb591-4" tabindex="-1"></a></span>
<span id="cb591-5"><a href="references.html#cb591-5" tabindex="-1"></a><span class="co"># P-value using t-distribution</span></span>
<span id="cb591-6"><a href="references.html#cb591-6" tabindex="-1"></a>p_value_t <span class="ot">&lt;-</span> <span class="fu">pt</span>(t_stat, <span class="at">df =</span> df)</span>
<span id="cb591-7"><a href="references.html#cb591-7" tabindex="-1"></a></span>
<span id="cb591-8"><a href="references.html#cb591-8" tabindex="-1"></a><span class="co"># Compare the two approaches</span></span>
<span id="cb591-9"><a href="references.html#cb591-9" tabindex="-1"></a>comparison <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb591-10"><a href="references.html#cb591-10" tabindex="-1"></a>  <span class="at">Method =</span> <span class="fu">c</span>(<span class="st">&quot;Normal (z)&quot;</span>, <span class="st">&quot;t-distribution&quot;</span>),</span>
<span id="cb591-11"><a href="references.html#cb591-11" tabindex="-1"></a>  <span class="at">Test_Statistic =</span> <span class="fu">c</span>(z_stat, t_stat),</span>
<span id="cb591-12"><a href="references.html#cb591-12" tabindex="-1"></a>  <span class="at">P_Value =</span> <span class="fu">c</span>(p_value_normal, p_value_t),</span>
<span id="cb591-13"><a href="references.html#cb591-13" tabindex="-1"></a>  <span class="at">Difference =</span> <span class="fu">c</span>(<span class="dv">0</span>, p_value_t <span class="sc">-</span> p_value_normal)</span>
<span id="cb591-14"><a href="references.html#cb591-14" tabindex="-1"></a>)</span>
<span id="cb591-15"><a href="references.html#cb591-15" tabindex="-1"></a></span>
<span id="cb591-16"><a href="references.html#cb591-16" tabindex="-1"></a><span class="fu">print</span>(comparison)</span></code></pre></div>
<pre><code>##           Method Test_Statistic       P_Value    Difference
## 1     Normal (z)      -26.84479 4.851555e-159  0.000000e+00
## 2 t-distribution      -26.84479 9.082071e-131 9.082071e-131</code></pre>
<p>With n = 1,536, the normal and t distributions give virtually identical results. The difference in p-values is negligible. But it can show up with smaller samples. If you want to be careful, you can just default to using the t-distribution.</p>
</div>
</div>
<div id="using-rs-built-in-function" class="section level2 hasAnchor" number="10.151">
<h2><span class="header-section-number">10.151</span> Using R’s Built-in Function<a href="references.html#using-rs-built-in-function" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now that we understand what’s happening under the hood, let’s use R’s convenient <code>t.test()</code> function:</p>
<div class="sourceCode" id="cb593"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb593-1"><a href="references.html#cb593-1" tabindex="-1"></a><span class="co"># One-sample t-test</span></span>
<span id="cb593-2"><a href="references.html#cb593-2" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">t.test</span>(gss_clean<span class="sc">$</span>aiworry, </span>
<span id="cb593-3"><a href="references.html#cb593-3" tabindex="-1"></a>                 <span class="at">mu =</span> <span class="dv">3</span>,                  <span class="co"># Testing against neutral</span></span>
<span id="cb593-4"><a href="references.html#cb593-4" tabindex="-1"></a>                 <span class="at">alternative =</span> <span class="st">&quot;less&quot;</span>)    <span class="co"># We hypothesize mean &lt; 3</span></span>
<span id="cb593-5"><a href="references.html#cb593-5" tabindex="-1"></a></span>
<span id="cb593-6"><a href="references.html#cb593-6" tabindex="-1"></a><span class="co"># Display results</span></span>
<span id="cb593-7"><a href="references.html#cb593-7" tabindex="-1"></a><span class="fu">print</span>(result)</span></code></pre></div>
<pre><code>## 
##  One Sample t-test
## 
## data:  gss_clean$aiworry
## t = -26.845, df = 1535, p-value &lt; 2.2e-16
## alternative hypothesis: true mean is less than 3
## 95 percent confidence interval:
##      -Inf 2.286204
## sample estimates:
## mean of x 
##  2.239583</code></pre>
<p>Let’s extract the key components:</p>
<ol style="list-style-type: decimal">
<li>Here’s the test statistic</li>
</ol>
<div class="sourceCode" id="cb595"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb595-1"><a href="references.html#cb595-1" tabindex="-1"></a>result<span class="sc">$</span>statistic</span></code></pre></div>
<pre><code>##         t 
## -26.84479</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Here’s the degrees of freedom</li>
</ol>
<div class="sourceCode" id="cb597"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb597-1"><a href="references.html#cb597-1" tabindex="-1"></a>result<span class="sc">$</span>parameter</span></code></pre></div>
<pre><code>##   df 
## 1535</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Here’s the p-value</li>
</ol>
<div class="sourceCode" id="cb599"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb599-1"><a href="references.html#cb599-1" tabindex="-1"></a>result<span class="sc">$</span>p.value</span></code></pre></div>
<pre><code>## [1] 9.082071e-131</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Here’s the sample mean</li>
</ol>
<div class="sourceCode" id="cb601"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb601-1"><a href="references.html#cb601-1" tabindex="-1"></a>result<span class="sc">$</span>estimate</span></code></pre></div>
<pre><code>## mean of x 
##  2.239583</code></pre>
<p>Notice the confidence interval is entirely below 3, which aligns with our rejection of <span class="math inline">\(H_0\)</span>. Note that the lower end of the confidence interval is not defined because we are doing a one sided test.</p>
</div>
<div id="one-sided-vs-two-sided-tests" class="section level2 hasAnchor" number="10.152">
<h2><span class="header-section-number">10.152</span> One-Sided vs Two-Sided Tests<a href="references.html#one-sided-vs-two-sided-tests" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We used a one-sided test because we specifically hypothesized that Americans would be worried (mean &lt; 3). But what if we just wanted to test whether opinions differ from neutral in either direction?</p>
<div class="sourceCode" id="cb603"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb603-1"><a href="references.html#cb603-1" tabindex="-1"></a><span class="co"># Two-sided test</span></span>
<span id="cb603-2"><a href="references.html#cb603-2" tabindex="-1"></a>result_two <span class="ot">&lt;-</span> <span class="fu">t.test</span>(gss_clean<span class="sc">$</span>aiworry, </span>
<span id="cb603-3"><a href="references.html#cb603-3" tabindex="-1"></a>                     <span class="at">mu =</span> <span class="dv">3</span>, </span>
<span id="cb603-4"><a href="references.html#cb603-4" tabindex="-1"></a>                     <span class="at">alternative =</span> <span class="st">&quot;two.sided&quot;</span>)</span>
<span id="cb603-5"><a href="references.html#cb603-5" tabindex="-1"></a></span>
<span id="cb603-6"><a href="references.html#cb603-6" tabindex="-1"></a><span class="fu">print</span>(result_two)</span></code></pre></div>
<pre><code>## 
##  One Sample t-test
## 
## data:  gss_clean$aiworry
## t = -26.845, df = 1535, p-value &lt; 2.2e-16
## alternative hypothesis: true mean is not equal to 3
## 95 percent confidence interval:
##  2.184021 2.295146
## sample estimates:
## mean of x 
##  2.239583</code></pre>
<p>In this case, the two-sided p-value is twice the one-sided p-value (when the result is in the predicted direction). Both lead to the same conclusion here because the evidence is so strong.</p>
<p><strong>When to use each:</strong></p>
<ul>
<li><strong>One-sided</strong>: You have a specific directional hypothesis based on theory</li>
<li><strong>Two-sided</strong>: You’re exploring whether there’s any difference</li>
<li><strong>Default</strong>: When in doubt, use two-sided (more conservative)</li>
</ul>
</div>
<div id="review-questions" class="section level2 hasAnchor" number="10.153">
<h2><span class="header-section-number">10.153</span> Review Questions<a href="references.html#review-questions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="conceptual-understanding-4" class="section level3 hasAnchor" number="10.153.1">
<h3><span class="header-section-number">10.153.1</span> Conceptual Understanding<a href="references.html#conceptual-understanding-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p><strong>Why did we test against 3 rather than another value like 2 or 4?</strong>
<em>Hint: Think about what 3 represents on our scale</em></p></li>
<li><p><strong>What would change if we used a two-sided test instead of one-sided?</strong>
<em>Consider both the p-value and the interpretation</em></p></li>
<li><p><strong>Why do <code>pnorm()</code> and <code>pt()</code> give nearly identical p-values with our sample?</strong>
<em>Think about sample size and distribution properties</em></p></li>
<li><p><strong>If only 20 people had answered the survey, what would change in our analysis?</strong>
<em>Consider assumptions, distribution choice, and confidence in results</em></p></li>
<li><p><strong>What does it mean that Americans average 2.24 on this 5-point scale?</strong>
<em>Interpret in plain English for a non-statistician</em></p></li>
</ol>
</div>
<div id="practical-application-1" class="section level3 hasAnchor" number="10.153.2">
<h3><span class="header-section-number">10.153.2</span> Practical Application<a href="references.html#practical-application-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="6" style="list-style-type: decimal">
<li><p><strong>What policy recommendations might follow from our finding?</strong>
<em>Connect statistics to real-world implications</em></p></li>
<li><p><strong>If we wanted 99% confidence instead of 95%, what would change?</strong>
<em>Think about Type I error, p-values, and conclusions</em></p></li>
</ol>
</div>
<div id="technical-skills" class="section level3 hasAnchor" number="10.153.3">
<h3><span class="header-section-number">10.153.3</span> Technical Skills<a href="references.html#technical-skills" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="8" style="list-style-type: decimal">
<li><p><strong>Write R code to test if the mean worry is significantly different from 2 (very worried).</strong></p></li>
<li><p><strong>If the standard error were 0.5 instead of what we calculated, how would this affect our test?</strong></p></li>
</ol>

<div class="sourceCode" id="cb605"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb605-1"><a href="references.html#cb605-1" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
</div>
<div id="comparing-means-the-next-level" class="section level2 hasAnchor" number="10.154">
<h2><span class="header-section-number">10.154</span> Comparing Means: The Next Level<a href="references.html#comparing-means-the-next-level" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Up until now, we’ve been stuck in a one-sample world. We’ve learned how to test whether the mean of our sample is different from some hypothesized value. That’s useful, but let’s be honest—it’s not where the real action is in social science research.</p>
<p>The questions that really keep us up at night aren’t about comparing our data to some theoretical benchmark. Instead, we want to know things like: Does studying actually help you get better grades? Do attack ads really make people less likely to vote for a candidate? Does drinking coffee make you more productive, or does it just make you <em>think</em> you’re more productive?</p>
<p>These are all questions about comparing two groups. And that’s exactly what we’re going to learn how to do today.</p>
</div>
<div id="what-information-goes-into-comparing-means" class="section level2 hasAnchor" number="10.155">
<h2><span class="header-section-number">10.155</span> What Information Goes Into Comparing Means?<a href="references.html#what-information-goes-into-comparing-means" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When we compare two groups, we need to know four basic things about our data:</p>
<ol style="list-style-type: decimal">
<li>The mean for sample 1 (<span class="math inline">\(\bar{y}_1\)</span>)</li>
<li>The mean for sample 2 (<span class="math inline">\(\bar{y}_2\)</span>)</li>
<li>The standard deviation for sample 1 (<span class="math inline">\(S_1\)</span>)</li>
<li>The standard deviation for sample 2 (<span class="math inline">\(S_2\)</span>)</li>
</ol>
<p>Oh, and we also need to know how many observations we have in each group (<span class="math inline">\(n_1\)</span> and <span class="math inline">\(n_2\)</span>). That’s going to matter a lot, as we’ll see in a minute.</p>
</div>
<div id="the-hypothesis-testing-framework" class="section level2 hasAnchor" number="10.156">
<h2><span class="header-section-number">10.156</span> The Hypothesis Testing Framework<a href="references.html#the-hypothesis-testing-framework" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here’s the wonderful thing: the basic logic of hypothesis testing doesn’t change just because we have two groups. We’re still using the same fundamental formula:</p>
<p><span class="math display">\[\text{Test Statistic} = \frac{(\text{Estimate} - \text{Null})}{\text{Standard Error}}\]</span></p>
<p>What’s different is what goes into each piece. Our estimate is now the difference between the two sample means: <span class="math inline">\((\bar{y}_1 - \bar{y}_2)\)</span>. The null hypothesis is usually that this difference equals zero—in other words, that there’s no real difference between the groups. And the standard error… well, that’s where things get interesting.</p>
</div>
<div id="the-tale-of-two-formulas" class="section level2 hasAnchor" number="10.157">
<h2><span class="header-section-number">10.157</span> The Tale of Two Formulas<a href="references.html#the-tale-of-two-formulas" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here’s where sample size becomes crucial. If both your samples are reasonably large (let’s say n &gt; 30), life is good. The Central Limit Theorem has your back, and you can use this relatively simple formula for the standard error:</p>
<p><span class="math display">\[SE = \sqrt{\frac{S_1^2}{n_1} + \frac{S_2^2}{n_2}}\]</span></p>
<p>This is basically saying: the uncertainty in the difference comes from the uncertainty in each group’s mean, and we add them together (well, we add the variances and then take the square root, but you get the idea).</p>
<p>But what if you have small samples? Now things get trickier. With small samples, we can’t count on the Central Limit Theorem to make everything normal. Instead, we will use the t-distribution (implicitly assuming that the data is normal), and we use something called the pooled variance:</p>
<p><span class="math display">\[\hat{\sigma}^2 = \frac{(n_1-1)S_1^2 + (n_2-1)S_2^2}{n_1+n_2-2}\]</span></p>
<p>This is essentially a weighted average of the two sample variances. We then use this to calculate our standard error:</p>
<p><span class="math display">\[SE = \hat{\sigma}\sqrt{\frac{1}{n_1} + \frac{1}{n_2}}\]</span></p>
<p>And instead of using the normal distribution, we use the t-distribution with <span class="math inline">\(n_1 + n_2 - 2\)</span> degrees of freedom.</p>
</div>
<div id="putting-it-all-into-practice" class="section level2 hasAnchor" number="10.158">
<h2><span class="header-section-number">10.158</span> Putting It All Into Practice<a href="references.html#putting-it-all-into-practice" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s walk through the process step by step:</p>
<p><strong>Step 1: Assumptions</strong><br />
First, figure out if you’re in the large sample or small sample world. If either group has fewer than 30 observations, you’re in small sample territory.</p>
<p><strong>Step 2: State Your Hypotheses</strong><br />
The null hypothesis is almost always that the means are equal: <span class="math inline">\(H_0: \mu_1 - \mu_2 = 0\)</span>. The alternative is that they’re different: <span class="math inline">\(H_a: \mu_1 - \mu_2 \neq 0\)</span> (though sometimes you might have a specific direction in mind).</p>
<p><strong>Step 3: Calculate the Test Statistic</strong><br />
Take the difference in sample means and divide by the standard error. Which standard error formula you use depends on your sample size.</p>
<p><strong>Step 4: Find the P-value</strong><br />
For large samples, use <code>pnorm()</code>. For small samples, use <code>pt()</code> with the appropriate degrees of freedom. Don’t forget to multiply by 2 for a two-sided test!</p>
<p><strong>Step 5: Make Your Decision</strong><br />
If the p-value is less than your significance level (usually 0.05), reject the null. Otherwise, fail to reject.</p>
</div>
<div id="a-real-example-can-social-pressure-get-out-the-vote" class="section level2 hasAnchor" number="10.159">
<h2><span class="header-section-number">10.159</span> A Real Example: Can Social Pressure Get Out the Vote?<a href="references.html#a-real-example-can-social-pressure-get-out-the-vote" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Enough with the formulas—let’s see this in action with some real data! We’re going to analyze a fascinating experiment about voting and social pressure.</p>
<div id="gerber-green-larimer-gotv-data" class="section level3 hasAnchor" number="10.159.1">
<h3><span class="header-section-number">10.159.1</span> Gerber, Green, &amp; Larimer GOTV Data<a href="references.html#gerber-green-larimer-gotv-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We are going to discuss an experiment on social pressure. (We will talk about this more when we talk about causality.) <a href="https://isps.yale.edu/research/data/d001">Here is a link to the data</a>.</p>
<p>In 2006, one of three mailers was sent out as part of a study to voters. There were three different kinds of messages:</p>
<ul>
<li>Civic Duty (It’s your duty to vote)</li>
<li>Hawthorne (You’re being studied so go vote)</li>
<li>Neighbors (Your neighbors will know if you voted)</li>
</ul>
<p>First let’s read in the data and look at it:</p>
<div class="sourceCode" id="cb606"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb606-1"><a href="references.html#cb606-1" tabindex="-1"></a><span class="co"># Load our tools</span></span>
<span id="cb606-2"><a href="references.html#cb606-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb606-3"><a href="references.html#cb606-3" tabindex="-1"></a></span>
<span id="cb606-4"><a href="references.html#cb606-4" tabindex="-1"></a></span>
<span id="cb606-5"><a href="references.html#cb606-5" tabindex="-1"></a>social <span class="ot">&lt;-</span> </span>
<span id="cb606-6"><a href="references.html#cb606-6" tabindex="-1"></a>  <span class="fu">read.csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/kosukeimai/qss/master/CAUSALITY/social.csv&quot;</span>)</span>
<span id="cb606-7"><a href="references.html#cb606-7" tabindex="-1"></a></span>
<span id="cb606-8"><a href="references.html#cb606-8" tabindex="-1"></a><span class="co"># Take a peek</span></span>
<span id="cb606-9"><a href="references.html#cb606-9" tabindex="-1"></a>social <span class="sc">%&gt;%</span> </span>
<span id="cb606-10"><a href="references.html#cb606-10" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 305,866
## Columns: 6
## $ sex         &lt;chr&gt; &quot;male&quot;, &quot;female&quot;, &quot;male&quot;, &quot;female&quot;, &quot;female&quot;, &quot;male&quot;, &quot;female&quot;, &quot;male&quot;, &quot;fem…
## $ yearofbirth &lt;int&gt; 1941, 1947, 1951, 1950, 1982, 1981, 1959, 1956, 1968, 1967, 1941, 1945, 1949…
## $ primary2004 &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
## $ messages    &lt;chr&gt; &quot;Civic Duty&quot;, &quot;Civic Duty&quot;, &quot;Hawthorne&quot;, &quot;Hawthorne&quot;, &quot;Hawthorne&quot;, &quot;Control&quot;…
## $ primary2006 &lt;int&gt; 0, 0, 1, 1, 1, 0, 1, 1, 0, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0…
## $ hhsize      &lt;int&gt; 2, 2, 3, 3, 3, 3, 3, 3, 2, 2, 1, 2, 2, 1, 2, 2, 1, 1, 2, 2, 4, 4, 4, 4, 2, 2…</code></pre>
<p>Let’s see what messages were sent out:</p>
<div class="sourceCode" id="cb608"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb608-1"><a href="references.html#cb608-1" tabindex="-1"></a>social <span class="sc">%&gt;%</span> </span>
<span id="cb608-2"><a href="references.html#cb608-2" tabindex="-1"></a>  <span class="fu">count</span>(messages)</span></code></pre></div>
<pre><code>##     messages      n
## 1 Civic Duty  38218
## 2    Control 191243
## 3  Hawthorne  38204
## 4  Neighbors  38201</code></pre>
<p>So we have a control group that got nothing, and three different treatment messages. That’s a lot to keep track of, so let’s simplify things by combining all the treatment groups together:</p>
<div class="sourceCode" id="cb610"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb610-1"><a href="references.html#cb610-1" tabindex="-1"></a><span class="co"># Create a simple treatment vs control variable</span></span>
<span id="cb610-2"><a href="references.html#cb610-2" tabindex="-1"></a>social <span class="ot">&lt;-</span> social <span class="sc">%&gt;%</span></span>
<span id="cb610-3"><a href="references.html#cb610-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">messages2 =</span> <span class="fu">case_when</span>(</span>
<span id="cb610-4"><a href="references.html#cb610-4" tabindex="-1"></a>    messages <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Hawthorne&quot;</span>, <span class="st">&quot;Civic Duty&quot;</span>, <span class="st">&quot;Neighbors&quot;</span>) <span class="sc">~</span> <span class="st">&quot;Treatment&quot;</span>,</span>
<span id="cb610-5"><a href="references.html#cb610-5" tabindex="-1"></a>    messages <span class="sc">==</span> <span class="st">&quot;Control&quot;</span> <span class="sc">~</span> <span class="st">&quot;Control&quot;</span></span>
<span id="cb610-6"><a href="references.html#cb610-6" tabindex="-1"></a>  ))</span>
<span id="cb610-7"><a href="references.html#cb610-7" tabindex="-1"></a></span>
<span id="cb610-8"><a href="references.html#cb610-8" tabindex="-1"></a><span class="co"># Check our work</span></span>
<span id="cb610-9"><a href="references.html#cb610-9" tabindex="-1"></a>social <span class="sc">%&gt;%</span> </span>
<span id="cb610-10"><a href="references.html#cb610-10" tabindex="-1"></a>  <span class="fu">count</span>(messages2)</span></code></pre></div>
<pre><code>##   messages2      n
## 1   Control 191243
## 2 Treatment 114623</code></pre>
</div>
</div>
<div id="running-our-first-t-test" class="section level2 hasAnchor" number="10.160">
<h2><span class="header-section-number">10.160</span> Running Our First T-test<a href="references.html#running-our-first-t-test" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now for the moment of truth. Did these messages actually work? Let’s find out:</p>
<div class="sourceCode" id="cb612"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb612-1"><a href="references.html#cb612-1" tabindex="-1"></a><span class="fu">t.test</span>(primary2006 <span class="sc">~</span> messages2, </span>
<span id="cb612-2"><a href="references.html#cb612-2" tabindex="-1"></a>       <span class="at">alternative =</span> <span class="st">&quot;two.sided&quot;</span>,</span>
<span id="cb612-3"><a href="references.html#cb612-3" tabindex="-1"></a>       <span class="at">var.equal =</span> <span class="cn">FALSE</span>, </span>
<span id="cb612-4"><a href="references.html#cb612-4" tabindex="-1"></a>       <span class="at">data =</span> social)</span></code></pre></div>
<pre><code>## 
##  Welch Two Sample t-test
## 
## data:  primary2006 by messages2
## t = -23.869, df = 234582, p-value &lt; 2.2e-16
## alternative hypothesis: true difference in means between group Control and group Treatment is not equal to 0
## 95 percent confidence interval:
##  -0.04506412 -0.03822505
## sample estimates:
##   mean in group Control mean in group Treatment 
##               0.2966383               0.3382829</code></pre>
<p>Whoa! Look at that t-statistic: -23.869. That’s huge! And the p-value is basically zero (2.2 × 10^-16 is scientific notation for “really, really, really small”).</p>
<p>What does this tell us? The treatment groups had significantly different turnout than the control group. In fact, looking at the sample means, the control group had about 29.7% turnout while the treatment groups had about 31.9% turnout. That might not sound like much, but in the world of voter mobilization, a 2.2 percentage point increase is a big deal!</p>
</div>
<div id="understanding-the-t.test-function" class="section level2 hasAnchor" number="10.161">
<h2><span class="header-section-number">10.161</span> Understanding the t.test() Function<a href="references.html#understanding-the-t.test-function" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>t.test()</code> function in R is pretty flexible. Let me show you some options:</p>
<p><strong>For different hypotheses:</strong><br />
You can change the <code>alternative</code> argument depending on what you’re testing. Use <code>"two.sided"</code> when you just want to know if the groups are different (this is usually what you want). Use <code>"greater"</code> or <code>"less"</code> if you have a specific direction in mind.</p>
<p><strong>For variance assumptions:</strong><br />
The <code>var.equal</code> argument tells R whether to assume the two groups have equal variance. I recommend always using <code>var.equal = FALSE</code> unless you have a really good reason not to. It’s the safer choice. But note that the formula I taught you above is for when the variances are equal (just because the math is easier).</p>
</div>
<div id="comparing-specific-treatments" class="section level2 hasAnchor" number="10.162">
<h2><span class="header-section-number">10.162</span> Comparing Specific Treatments<a href="references.html#comparing-specific-treatments" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>What if we want to dig deeper and compare specific treatments to each other? Let’s see if the “Neighbors” treatment (the aggressive one) was more effective than the “Civic Duty” treatment (the gentle one):</p>
<div class="sourceCode" id="cb614"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb614-1"><a href="references.html#cb614-1" tabindex="-1"></a><span class="co"># Extract just the voters who got these two treatments</span></span>
<span id="cb614-2"><a href="references.html#cb614-2" tabindex="-1"></a>neighbors_turnout <span class="ot">&lt;-</span> social <span class="sc">%&gt;%</span></span>
<span id="cb614-3"><a href="references.html#cb614-3" tabindex="-1"></a>  <span class="fu">filter</span>(messages <span class="sc">==</span> <span class="st">&quot;Neighbors&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb614-4"><a href="references.html#cb614-4" tabindex="-1"></a>  <span class="fu">pull</span>(primary2006)</span>
<span id="cb614-5"><a href="references.html#cb614-5" tabindex="-1"></a></span>
<span id="cb614-6"><a href="references.html#cb614-6" tabindex="-1"></a>civic_turnout <span class="ot">&lt;-</span> social <span class="sc">%&gt;%</span></span>
<span id="cb614-7"><a href="references.html#cb614-7" tabindex="-1"></a>  <span class="fu">filter</span>(messages <span class="sc">==</span> <span class="st">&quot;Civic Duty&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb614-8"><a href="references.html#cb614-8" tabindex="-1"></a>  <span class="fu">pull</span>(primary2006)</span>
<span id="cb614-9"><a href="references.html#cb614-9" tabindex="-1"></a></span>
<span id="cb614-10"><a href="references.html#cb614-10" tabindex="-1"></a><span class="co"># Compare them</span></span>
<span id="cb614-11"><a href="references.html#cb614-11" tabindex="-1"></a><span class="fu">t.test</span>(<span class="at">x =</span> neighbors_turnout, <span class="at">y =</span> civic_turnout)</span></code></pre></div>
<pre><code>## 
##  Welch Two Sample t-test
## 
## data:  neighbors_turnout and civic_turnout
## t = 18.463, df = 76271, p-value &lt; 2.2e-16
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  0.05667888 0.07014226
## sample estimates:
## mean of x mean of y 
## 0.3779482 0.3145377</code></pre>
<p>Look at that! The “Neighbors” treatment had about 37.8% turnout compared to 31.5% for “Civic Duty”. The p-value is again essentially zero, so this difference is highly significant. Social pressure works!</p>
</div>
<div id="whats-actually-happening-under-the-hood" class="section level2 hasAnchor" number="10.163">
<h2><span class="header-section-number">10.163</span> What’s Actually Happening Under the Hood?<a href="references.html#whats-actually-happening-under-the-hood" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s peek behind the curtain and calculate the test statistic manually (now assuming a shared variance across groups). This will help you understand what R is actually doing:</p>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb616-1"><a href="references.html#cb616-1" tabindex="-1"></a><span class="co"># Get summary statistics for each group</span></span>
<span id="cb616-2"><a href="references.html#cb616-2" tabindex="-1"></a>results <span class="ot">&lt;-</span> social <span class="sc">%&gt;%</span></span>
<span id="cb616-3"><a href="references.html#cb616-3" tabindex="-1"></a>  <span class="fu">group_by</span>(messages2) <span class="sc">%&gt;%</span></span>
<span id="cb616-4"><a href="references.html#cb616-4" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb616-5"><a href="references.html#cb616-5" tabindex="-1"></a>    <span class="at">mean =</span> <span class="fu">mean</span>(primary2006),</span>
<span id="cb616-6"><a href="references.html#cb616-6" tabindex="-1"></a>    <span class="at">sd =</span> <span class="fu">sd</span>(primary2006),</span>
<span id="cb616-7"><a href="references.html#cb616-7" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb616-8"><a href="references.html#cb616-8" tabindex="-1"></a>  )</span>
<span id="cb616-9"><a href="references.html#cb616-9" tabindex="-1"></a></span>
<span id="cb616-10"><a href="references.html#cb616-10" tabindex="-1"></a><span class="co"># Take a look</span></span>
<span id="cb616-11"><a href="references.html#cb616-11" tabindex="-1"></a>results</span></code></pre></div>
<pre><code>## # A tibble: 2 × 4
##   messages2  mean    sd      n
##   &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;  &lt;int&gt;
## 1 Control   0.297 0.457 191243
## 2 Treatment 0.338 0.473 114623</code></pre>
<p>Now let’s do the calculation ourselves:</p>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb618-1"><a href="references.html#cb618-1" tabindex="-1"></a><span class="co"># Extract the values we need</span></span>
<span id="cb618-2"><a href="references.html#cb618-2" tabindex="-1"></a>mean_treatment <span class="ot">&lt;-</span> results<span class="sc">$</span>mean[results<span class="sc">$</span>messages2 <span class="sc">==</span> <span class="st">&quot;Treatment&quot;</span>]</span>
<span id="cb618-3"><a href="references.html#cb618-3" tabindex="-1"></a>mean_control <span class="ot">&lt;-</span> results<span class="sc">$</span>mean[results<span class="sc">$</span>messages2 <span class="sc">==</span> <span class="st">&quot;Control&quot;</span>]</span>
<span id="cb618-4"><a href="references.html#cb618-4" tabindex="-1"></a>sd_treatment <span class="ot">&lt;-</span> results<span class="sc">$</span>sd[results<span class="sc">$</span>messages2 <span class="sc">==</span> <span class="st">&quot;Treatment&quot;</span>]</span>
<span id="cb618-5"><a href="references.html#cb618-5" tabindex="-1"></a>sd_control <span class="ot">&lt;-</span> results<span class="sc">$</span>sd[results<span class="sc">$</span>messages2 <span class="sc">==</span> <span class="st">&quot;Control&quot;</span>]</span>
<span id="cb618-6"><a href="references.html#cb618-6" tabindex="-1"></a>n_treatment <span class="ot">&lt;-</span> results<span class="sc">$</span>n[results<span class="sc">$</span>messages2 <span class="sc">==</span> <span class="st">&quot;Treatment&quot;</span>]</span>
<span id="cb618-7"><a href="references.html#cb618-7" tabindex="-1"></a>n_control <span class="ot">&lt;-</span> results<span class="sc">$</span>n[results<span class="sc">$</span>messages2 <span class="sc">==</span> <span class="st">&quot;Control&quot;</span>]</span>
<span id="cb618-8"><a href="references.html#cb618-8" tabindex="-1"></a></span>
<span id="cb618-9"><a href="references.html#cb618-9" tabindex="-1"></a><span class="co"># The difference in means</span></span>
<span id="cb618-10"><a href="references.html#cb618-10" tabindex="-1"></a>diff_means <span class="ot">&lt;-</span> mean_treatment <span class="sc">-</span> mean_control</span>
<span id="cb618-11"><a href="references.html#cb618-11" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Difference in means:&quot;</span>, diff_means, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Difference in means: 0.04164458</code></pre>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb620-1"><a href="references.html#cb620-1" tabindex="-1"></a><span class="co"># The standard error (using the large sample formula)</span></span>
<span id="cb620-2"><a href="references.html#cb620-2" tabindex="-1"></a>se <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(sd_treatment<span class="sc">^</span><span class="dv">2</span><span class="sc">/</span>n_treatment <span class="sc">+</span> sd_control<span class="sc">^</span><span class="dv">2</span><span class="sc">/</span>n_control)</span>
<span id="cb620-3"><a href="references.html#cb620-3" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Standard error:&quot;</span>, se, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Standard error: 0.001744682</code></pre>
<div class="sourceCode" id="cb622"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb622-1"><a href="references.html#cb622-1" tabindex="-1"></a><span class="co"># The test statistic</span></span>
<span id="cb622-2"><a href="references.html#cb622-2" tabindex="-1"></a>t_stat <span class="ot">&lt;-</span> diff_means <span class="sc">/</span> se</span>
<span id="cb622-3"><a href="references.html#cb622-3" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Test statistic:&quot;</span>, t_stat, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Test statistic: 23.86944</code></pre>
<div class="sourceCode" id="cb624"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb624-1"><a href="references.html#cb624-1" tabindex="-1"></a><span class="co"># The p-value (using normal approximation since we have huge samples)</span></span>
<span id="cb624-2"><a href="references.html#cb624-2" tabindex="-1"></a>p_value <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">pnorm</span>(<span class="fu">abs</span>(t_stat), <span class="at">lower.tail =</span> <span class="cn">FALSE</span>)</span>
<span id="cb624-3"><a href="references.html#cb624-3" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;P-value:&quot;</span>, p_value, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## P-value: 6.362432e-126</code></pre>
<p>Look at that—we got essentially the same answer as <code>t.test()</code>! The tiny differences are just due to R using a slightly more sophisticated method for calculating degrees of freedom.</p>
</div>
<div id="review-questions-1" class="section level2 hasAnchor" number="10.164">
<h2><span class="header-section-number">10.164</span> Review Questions<a href="references.html#review-questions-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="conceptual-questions" class="section level3 hasAnchor" number="10.164.1">
<h3><span class="header-section-number">10.164.1</span> Conceptual Questions<a href="references.html#conceptual-questions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p><strong>When would you use a two-sample t-test instead of a one-sample t-test?</strong> Give me a specific example from political science research where you’d need to compare two groups.</p></li>
<li><p><strong>What is the null hypothesis in a two-sample t-test?</strong> Write it out in both words and mathematical notation. Why do we usually assume the difference is zero?</p></li>
<li><p><strong>Why do we use different formulas for small samples (n &lt; 30) versus large samples?</strong></p></li>
<li><p><strong>If the p-value from a t-test is 0.03 and your significance level is 0.05, what do you conclude?</strong> What if your significance level was 0.01? How would you explain this to someone who’s never taken statistics?</p></li>
</ol>
</div>
<div id="calculation-practice-2" class="section level3 hasAnchor" number="10.164.2">
<h3><span class="header-section-number">10.164.2</span> Calculation Practice<a href="references.html#calculation-practice-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="5" style="list-style-type: decimal">
<li><p><strong>By hand calculation</strong>: You’re comparing study methods. Group A (flashcards) has n = 40, mean = 85, sd = 8. Group B (re-reading) has n = 35, mean = 81, sd = 10. Calculate the test statistic. Is this a large or small sample case?</p></li>
<li><p><strong>Interpreting R output</strong>: Your colleague runs a t-test and gets:</p></li>
</ol>
<pre><code>   t = 3.45, df = 58, p-value = 0.001
   95% CI: (2.3, 8.7)
   mean of x: 42.5
   mean of y: 37.0</code></pre>
<p>What’s the difference in means? Would you reject the null at α = 0.05? What does that confidence interval actually tell you?</p>
</div>
<div id="r-programming-questions" class="section level3 hasAnchor" number="10.164.3">
<h3><span class="header-section-number">10.164.3</span> R Programming Questions<a href="references.html#r-programming-questions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="7" style="list-style-type: decimal">
<li><strong>Diving deeper into the GOTV data</strong>: Using the social pressure data, test whether the “Neighbors” treatment had a different effect than the “Hawthorne” treatment. Write the code and tell me what you find.</li>
</ol>
<div class="sourceCode" id="cb627"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb627-1"><a href="references.html#cb627-1" tabindex="-1"></a><span class="co"># Your code here</span></span></code></pre></div>

<div class="sourceCode" id="cb628"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb628-1"><a href="references.html#cb628-1" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
</div>
<div id="learning-objectives-15" class="section level2 hasAnchor" number="10.165">
<h2><span class="header-section-number">10.165</span> Learning Objectives<a href="references.html#learning-objectives-15" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Understand the fundamental difference between causation and prediction</li>
<li>Master the concept of potential outcomes and counterfactuals</li>
<li>Recognize common confounding relationships and why they matter</li>
<li>Understand the fundamental problem of causal inference</li>
<li>Grasp the concept of average treatment effects (ATE)</li>
<li>Learn why randomization is the gold standard for causal inference</li>
</ol>
</div>
<div id="what-is-this-for-12" class="section level2 hasAnchor" number="10.166">
<h2><span class="header-section-number">10.166</span> What Is This For?<a href="references.html#what-is-this-for-12" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Every day, we’re bombarded with claims about cause and effect. <a href="https://www.msn.com/en-in/news/other/top-expert-reveals-the-type-of-coffee-thats-linked-to-cancer/ar-AA1u4XUG?apiversion=v2&amp;noservercache=1&amp;domshim=1&amp;renderwebcomponents=1&amp;wcseo=1&amp;batchservertelemetry=1&amp;noservertelemetry=1">Coffee causes cancer</a>. No wait, <a href="https://www.washingtonpost.com/wellness/2025/01/23/coffee-tea-consumption-cancer-risk/">coffee prevents cancer</a>. Social media causes depression. Tax cuts create jobs. Campaign ads change minds. These aren’t just academic questions. Causal claims in empirical science shape personal decisions and public policy worth trillions of dollars.</p>
<p>Unfortunately, many of these claims are wrong, or at least unproven. The problem isn’t that the researchers are incompetent (well, usually not). The problem is that figuring out what causes what is incredibly, fundamentally difficult. Today we’re going to understand why that is, and what we can do about it.</p>
<p>Let me start with my favorite example of why this matters. Years ago, journalist Thomas Friedman noticed something fascinating: <a href="https://www.nytimes.com/1996/12/08/opinion/foreign-affairs-big-mac-i.html">no two countries that both had McDonald’s restaurants had ever gone to war</a> with each other. This led to what he called the “Golden Arches Theory of Conflict Prevention.” The pattern held for years – it was a real, observable correlation.</p>
<p>So should we achieve world peace by opening more McDonald’s franchises? Should the UN budget include a line item for Big Macs? Of course not. The presence of McDonald’s doesn’t cause peace. Instead, countries wealthy and developed enough to have McDonald’s also tend to be economically interconnected in ways that make war costly. The McDonald’s is just along for the ride.</p>
<p>This distinction between correlation and causation isn’t just academic. It’s the difference between policies that work and policies that waste resources. It’s the difference between medical treatments that heal and ones that just happen to be popular among people who were going to get better anyway.</p>
</div>
<div id="part-1-prediction-vs.-causation" class="section level2 hasAnchor" number="10.167">
<h2><span class="header-section-number">10.167</span> Part 1: Prediction vs. Causation<a href="references.html#part-1-prediction-vs.-causation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s get precise about what we mean by prediction versus causation. These are fundamentally different concepts, and confusing them causes endless trouble.</p>
<div id="what-is-prediction" class="section level3 hasAnchor" number="10.167.1">
<h3><span class="header-section-number">10.167.1</span> What is Prediction?<a href="references.html#what-is-prediction" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Prediction is actually the simpler concept. We say that variable X predicts variable Y if knowing the value of X helps us make a better guess about the value of Y. That’s it. No deep philosophical commitment required.</p>
<p>For example, <a href="https://www.usaa.com/advice/how-does-credit-score-affect-insurance-premiums/?akredirect=true#:~:text=Credit%2Dbased%20insurance%20score,-As%20previously%20stated&amp;text=Lenders%20care%20a%20lot%20about,typically%20results%20in%20lower%20rates">your credit score predicts whether you’ll file a car insurance claim</a>. This might seem weird – what does paying your credit card bills on time have to do with your driving? But insurance companies have discovered that people with low credit scores file more claims on average. They don’t need to know why this relationship exists. They just need to know that it does exist, reliably enough to set premiums.</p>
<p>Here’s what’s crucial: prediction requires zero causal interpretation. Ice cream sales predict drowning deaths (both go up in summer). The number of <a href="https://www.wnycstudios.org/podcasts/otm/articles/spurious-correlations">Nicolas Cage movies in a year used to predict swimming pool drownings</a> (this is real data, and yes, it’s as ridiculous as it sounds). Your height predicts your salary. None of these relationships are causal, but they’re all real correlations in the data.</p>
</div>
<div id="what-is-causation" class="section level3 hasAnchor" number="10.167.2">
<h3><span class="header-section-number">10.167.2</span> What is Causation?<a href="references.html#what-is-causation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Causation is much more demanding. We say X causes Y if changing X would lead to a change in Y. Notice that key word: “would.” Causation is fundamentally about counterfactuals – things that didn’t happen but <em>could</em> have.</p>
<p>Let’s make this concrete with the 2008 financial crisis. Congress passed a massive stimulus package to create jobs. Did it work? To answer that question causally, we need to know what would have happened if Congress hadn’t passed the stimulus. If unemployment would have hit 20% without the stimulus and only reached 10% with it, then the stimulus prevented mass unemployment. If unemployment would have stayed at 5% without the stimulus but jumped to 10% with it, then the stimulus was actively harmful.</p>
<p>See the problem? We can’t observe both realities. We got the stimulus, unemployment hit 10%, and we’ll never know what the alternative timeline looked like. This is why economists still argue about the stimulus twenty years later.</p>
</div>
<div id="why-the-distinction-matters" class="section level3 hasAnchor" number="10.167.3">
<h3><span class="header-section-number">10.167.3</span> Why the Distinction Matters<a href="references.html#why-the-distinction-matters" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The distinction between prediction and causation matters because they lead to completely different actions. If you want to predict which students will struggle in your class, you might look at their previous grades, their attendance, maybe even seemingly random things like whether they sit in the front row. All of these predict academic performance.</p>
<p>But if you want to help struggling students improve, you need to know what causes poor performance. Moving a struggling student to the front row probably won’t magically improve their grades – sitting in front is more likely a signal of motivation than a cause of success. You need to identify actual causal factors: maybe they need tutoring, maybe they’re working too many hours at a job, maybe they have an undiagnosed learning difference.</p>
<p>Insurance companies can use credit scores for prediction because they just want to estimate risk. But a government trying to reduce traffic accidents needs to understand causation. Banning people with bad credit from driving would be both unfair and ineffective. You need to address actual causes like drunk driving, distracted driving, poor road design.</p>
</div>
</div>
<div id="part-2-the-fundamental-problem-of-causal-inference" class="section level2 hasAnchor" number="10.168">
<h2><span class="header-section-number">10.168</span> Part 2: The Fundamental Problem of Causal Inference<a href="references.html#part-2-the-fundamental-problem-of-causal-inference" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now we’re ready to tackle the core challenge that makes causal inference so difficult. It’s called the fundamental problem of causal inference, and once you understand it, you’ll see why so many causal claims you encounter are probably wrong.</p>
<div id="potential-outcomes-framework" class="section level3 hasAnchor" number="10.168.1">
<h3><span class="header-section-number">10.168.1</span> Potential Outcomes Framework<a href="references.html#potential-outcomes-framework" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To think clearly about causation, we need to introduce some notation. Don’t worry – the math is simple, but it helps us be precise about concepts that are easy to muddle in plain English.</p>
<p>Let’s say we want to know whether a new tutoring program improves test scores. For each student, we’ll denote the treatment as T, where T = 1 means the student gets tutoring and T = 0 means they don’t.</p>
<p>Now here’s the key insight: each student has two potential outcomes. We’ll write these as Y(1) and Y(0). The outcome Y(1) is the test score the student would get if they received tutoring. The outcome Y(0) is the test score that same student would get if they didn’t receive tutoring.</p>
<p>For any individual student i, the causal effect of tutoring would be:</p>
<p><span class="math display">\[\text{Individual Causal Effect} = Y_i(1) - Y_i(0)\]</span></p>
<p>This is just the difference between what happens with treatment and what happens without it. If Sarah would score 85 with tutoring and 75 without it, then the causal effect of tutoring for Sarah is 10 points.</p>
</div>
<div id="the-core-problem" class="section level3 hasAnchor" number="10.168.2">
<h3><span class="header-section-number">10.168.2</span> The Core Problem<a href="references.html#the-core-problem" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here’s where things get frustrating: <strong>we can never observe both Y(1) and Y(0) for the same person</strong>. Sarah either gets tutoring or she doesn’t. We see one potential outcome, and the other remains forever counterfactual – something that could have happened but didn’t.</p>
<p>This isn’t a problem we can solve with better data or fancier statistics. It’s baked into the nature of reality. We don’t have access to parallel universes where we can run different versions of history and see what happens.</p>
<p>The movie <a href="https://en.wikipedia.org/wiki/It%27s_a_Wonderful_Life">“It’s a Wonderful Life”</a> provides a perfect illustration. George Bailey wishes he’d never been born, and an angel shows him what his town would look like if he’d never existed. He sees his brother dead (because George wasn’t there to save him from drowning), his wife unmarried, his town turned into a slum. The difference between the actual world and this counterfactual world represents George Bailey’s causal effect on his community.</p>
<p>That’s a beautiful story, but we don’t have guardian angels to show us counterfactual worlds. When we give a student tutoring, we can’t see what their score would have been without it. When Congress passes a stimulus, we can’t see what unemployment would have been without it.</p>
</div>
<div id="what-we-actually-observe" class="section level3 hasAnchor" number="10.168.3">
<h3><span class="header-section-number">10.168.3</span> What We Actually Observe<a href="references.html#what-we-actually-observe" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let me show you what this looks like with some example data. Imagine we have six students, and we’re studying the effect of tutoring on test scores:</p>
<div class="sourceCode" id="cb629"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb629-1"><a href="references.html#cb629-1" tabindex="-1"></a><span class="co"># Create example data showing potential outcomes</span></span>
<span id="cb629-2"><a href="references.html#cb629-2" tabindex="-1"></a>students <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb629-3"><a href="references.html#cb629-3" tabindex="-1"></a>  <span class="at">Student =</span> <span class="fu">c</span>(<span class="st">&quot;Amy&quot;</span>, <span class="st">&quot;Bob&quot;</span>, <span class="st">&quot;Carlos&quot;</span>, <span class="st">&quot;Diana&quot;</span>, <span class="st">&quot;Eve&quot;</span>, <span class="st">&quot;Frank&quot;</span>),</span>
<span id="cb629-4"><a href="references.html#cb629-4" tabindex="-1"></a>  <span class="at">Treated =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb629-5"><a href="references.html#cb629-5" tabindex="-1"></a>  <span class="at">Y_1 =</span> <span class="fu">c</span>(<span class="dv">85</span>, <span class="dv">78</span>, <span class="dv">92</span>, <span class="dv">88</span>, <span class="dv">73</span>, <span class="dv">81</span>),  <span class="co"># Potential outcome with treatment</span></span>
<span id="cb629-6"><a href="references.html#cb629-6" tabindex="-1"></a>  <span class="at">Y_0 =</span> <span class="fu">c</span>(<span class="dv">75</span>, <span class="dv">72</span>, <span class="dv">80</span>, <span class="dv">85</span>, <span class="dv">65</span>, <span class="dv">79</span>),  <span class="co"># Potential outcome without treatment</span></span>
<span id="cb629-7"><a href="references.html#cb629-7" tabindex="-1"></a>  <span class="at">True_Effect =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">3</span>, <span class="dv">8</span>, <span class="dv">2</span>)</span>
<span id="cb629-8"><a href="references.html#cb629-8" tabindex="-1"></a>)</span>
<span id="cb629-9"><a href="references.html#cb629-9" tabindex="-1"></a></span>
<span id="cb629-10"><a href="references.html#cb629-10" tabindex="-1"></a><span class="co"># What we wish we could see</span></span>
<span id="cb629-11"><a href="references.html#cb629-11" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;What we wish we could see (both potential outcomes):&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;What we wish we could see (both potential outcomes):&quot;</code></pre>
<div class="sourceCode" id="cb631"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb631-1"><a href="references.html#cb631-1" tabindex="-1"></a>students</span></code></pre></div>
<pre><code>##   Student Treated Y_1 Y_0 True_Effect
## 1     Amy       1  85  75          10
## 2     Bob       0  78  72           6
## 3  Carlos       1  92  80          12
## 4   Diana       0  88  85           3
## 5     Eve       1  73  65           8
## 6   Frank       0  81  79           2</code></pre>
<p>In this magical world where we can see everything, we could calculate that tutoring helps Amy by 10 points, Bob by 6 points, Carlos by 12 points, and so on. But here’s what we actually get to see in the real world:</p>
<div class="sourceCode" id="cb633"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb633-1"><a href="references.html#cb633-1" tabindex="-1"></a><span class="co"># What we actually observe</span></span>
<span id="cb633-2"><a href="references.html#cb633-2" tabindex="-1"></a>observed <span class="ot">&lt;-</span> students[,<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span>
<span id="cb633-3"><a href="references.html#cb633-3" tabindex="-1"></a>observed<span class="sc">$</span>Observed_Score <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(students<span class="sc">$</span>Treated <span class="sc">==</span> <span class="dv">1</span>, </span>
<span id="cb633-4"><a href="references.html#cb633-4" tabindex="-1"></a>                                   students<span class="sc">$</span>Y_1, </span>
<span id="cb633-5"><a href="references.html#cb633-5" tabindex="-1"></a>                                   students<span class="sc">$</span>Y_0)</span>
<span id="cb633-6"><a href="references.html#cb633-6" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;What we actually observe:&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;What we actually observe:&quot;</code></pre>
<div class="sourceCode" id="cb635"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb635-1"><a href="references.html#cb635-1" tabindex="-1"></a>observed</span></code></pre></div>
<pre><code>##   Student Treated Observed_Score
## 1     Amy       1             85
## 2     Bob       0             72
## 3  Carlos       1             92
## 4   Diana       0             85
## 5     Eve       1             73
## 6   Frank       0             79</code></pre>
<p>Amy got tutoring and scored 85. Would she have scored 75 without tutoring? We’ll never know. Bob didn’t get tutoring and scored 72. Would he have scored 78 with tutoring? Again, we’ll never know.</p>
<p>This is the fundamental problem of causal inference: causal effects are defined in terms of counterfactuals we can’t observe.</p>
</div>
</div>
<div id="part-3-average-treatment-effects" class="section level2 hasAnchor" number="10.169">
<h2><span class="header-section-number">10.169</span> Part 3: Average Treatment Effects<a href="references.html#part-3-average-treatment-effects" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Since we can’t measure individual causal effects, we need a different approach. This is where the concept of average treatment effects comes in, and it’s how most modern causal inference works.</p>
<div id="from-individual-to-average-effects" class="section level3 hasAnchor" number="10.169.1">
<h3><span class="header-section-number">10.169.1</span> From Individual to Average Effects<a href="references.html#from-individual-to-average-effects" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>While we can’t calculate the individual causal effect for Amy, we can try to estimate the average causal effect across all students. The Average Treatment Effect (ATE) is defined as:</p>
<p><span class="math display">\[\text{ATE} = \frac{1}{n} \sum_{i=1}^{n} [Y_i(1) - Y_i(0)]\]</span></p>
<p>In plain English, this is the average of all the individual causal effects. If we could magically observe all potential outcomes, we’d calculate the treatment effect for each person and then take the average.</p>
<p>Of course, we still can’t observe all potential outcomes, so we can’t calculate this directly. But – and this is the key insight – we can estimate it under certain conditions. Instead of the true ATE, we calculate:</p>
<p><span class="math display">\[\widehat{\text{ATE}} = \frac{1}{n_1} \sum_{\{T_i=1\}} Y_i(1) - \frac{1}{n_0} \sum_{\{T_i=0\}} Y_i(0)\]</span></p>
<p>This looks more complicated than it is. We’re just taking the average outcome for people who got treatment minus the average outcome for people who didn’t get treatment. Using our tutoring example:</p>
<div class="sourceCode" id="cb637"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb637-1"><a href="references.html#cb637-1" tabindex="-1"></a><span class="co"># Calculate the estimated ATE from observed data</span></span>
<span id="cb637-2"><a href="references.html#cb637-2" tabindex="-1"></a>treated_scores <span class="ot">&lt;-</span> observed<span class="sc">$</span>Observed_Score[observed<span class="sc">$</span>Treated <span class="sc">==</span> <span class="dv">1</span>]</span>
<span id="cb637-3"><a href="references.html#cb637-3" tabindex="-1"></a>control_scores <span class="ot">&lt;-</span> observed<span class="sc">$</span>Observed_Score[observed<span class="sc">$</span>Treated <span class="sc">==</span> <span class="dv">0</span>]</span>
<span id="cb637-4"><a href="references.html#cb637-4" tabindex="-1"></a></span>
<span id="cb637-5"><a href="references.html#cb637-5" tabindex="-1"></a>mean_treated <span class="ot">&lt;-</span> <span class="fu">mean</span>(treated_scores)</span>
<span id="cb637-6"><a href="references.html#cb637-6" tabindex="-1"></a>mean_control <span class="ot">&lt;-</span> <span class="fu">mean</span>(control_scores)</span>
<span id="cb637-7"><a href="references.html#cb637-7" tabindex="-1"></a>estimated_ate <span class="ot">&lt;-</span> mean_treated <span class="sc">-</span> mean_control</span>
<span id="cb637-8"><a href="references.html#cb637-8" tabindex="-1"></a></span>
<span id="cb637-9"><a href="references.html#cb637-9" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Average score with tutoring:&quot;</span>, mean_treated, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Average score with tutoring: 83.33333</code></pre>
<div class="sourceCode" id="cb639"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb639-1"><a href="references.html#cb639-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Average score without tutoring:&quot;</span>, mean_control, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Average score without tutoring: 78.66667</code></pre>
<div class="sourceCode" id="cb641"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb641-1"><a href="references.html#cb641-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Estimated Average Treatment Effect:&quot;</span>, estimated_ate, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Estimated Average Treatment Effect: 4.666667</code></pre>
<div class="sourceCode" id="cb643"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb643-1"><a href="references.html#cb643-1" tabindex="-1"></a><span class="co"># What&#39;s the true ATE with our magical complete data?</span></span>
<span id="cb643-2"><a href="references.html#cb643-2" tabindex="-1"></a>true_ate <span class="ot">&lt;-</span> <span class="fu">mean</span>(students<span class="sc">$</span>True_Effect)</span>
<span id="cb643-3"><a href="references.html#cb643-3" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;True ATE (if we could see all potential outcomes):&quot;</span>, true_ate, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## True ATE (if we could see all potential outcomes): 6.833333</code></pre>
<p>If this all looks pretty familliar, that’s because it is. This is just the difference-in-means estimator we have already looked at in this class. To calculate the ATE, we just need to subtract the means for each group. But this won’t work all of the time. We will need some additional assumptions.</p>
</div>
<div id="the-key-assumption" class="section level3 hasAnchor" number="10.169.2">
<h3><span class="header-section-number">10.169.2</span> The Key Assumption<a href="references.html#the-key-assumption" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Notice that our estimate is pretty close to the truth in this example. But that’s only because I generated the data in a special way. In the real world, this estimate is only valid if the treated and control groups are comparable.</p>
<p>What does “comparable” mean? It means there are no systematic differences between the groups beyond the treatment itself that are related to the outcome. In our tutoring example, the estimate would be biased if, say, struggling students were more likely to seek tutoring. Then the tutoring group would have scored lower than the control group even without any tutoring, and we’d underestimate (or even reverse) the true effect.</p>
<p>This is worth stating formally: <strong>the simple difference in means gives us a valid estimate of the causal effect only when assignment to treatment is independent of the potential outcomes</strong>. When this condition fails, we have what’s called confounding or selection bias.</p>
</div>
</div>
<div id="part-4-confounding-and-causal-relationships" class="section level2 hasAnchor" number="10.170">
<h2><span class="header-section-number">10.170</span> Part 4: Confounding and Causal Relationships<a href="references.html#part-4-confounding-and-causal-relationships" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now we need to talk about the various ways that correlations can exist without causation. Understanding these patterns is crucial for recognizing when a correlation might be causal and when it’s definitely not.</p>
<div id="common-causal-patterns" class="section level3 hasAnchor" number="10.170.1">
<h3><span class="header-section-number">10.170.1</span> Common Causal Patterns<a href="references.html#common-causal-patterns" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The simplest case is direct causation, where X actually causes Y. We can represent this with an arrow: X → Y. Campaign donations might cause electoral success. Smoking causes lung cancer. Practice causes improvement. These are genuine causal relationships where changing X would change Y.</p>
<p>But there are several other patterns that create correlations without direct causation. The most important is the spurious relationship, where some third factor Z causes both X and Y. We write this as: Z → X and Z → Y.</p>
<p>Summer weather causes both ice cream sales and swimming, which causes both ice cream sales and drowning deaths. There’s a strong correlation between ice cream sales and drowning, but buying ice cream doesn’t make you drown, and drowning doesn’t make people buy ice cream. The correlation is real, but it’s not causal.</p>
<p>Another pattern is chain relationships, where X causes Z which causes Y. We write this as X → Z → Y. Education might increase income, and income might improve health, creating a correlation between education and health. Education does affect health, but only indirectly through income.</p>
<p>These different patterns matter enormously for policy and intervention. If ice cream caused drowning (direct causation), we should ban ice cream. If summer weather causes both (spurious relationship), banning ice cream would accomplish nothing. If education improves health through income (chain relationship), then education would only help health if it actually increased income – getting a degree without improved earnings wouldn’t help.</p>
</div>
<div id="real-world-example-the-google-memo" class="section level3 hasAnchor" number="10.170.2">
<h3><span class="header-section-number">10.170.2</span> Real-World Example: The Google Memo<a href="references.html#real-world-example-the-google-memo" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A few years ago, an engineer at Google <a href="https://en.wikipedia.org/wiki/Google%27s_Ideological_Echo_Chamber">wrote a memo</a> arguing that women were underrepresented in tech because of biological differences in personality and interests. Women, he argued, were more interested in people than things, preferred work-life balance, and were more neurotic. Since these differences could explain why fewer women worked in tech, he concluded that diversity efforts were misguided.</p>
<p>The memo caused a huge controversy, and Google fired the engineer. Some people were outraged at Google – didn’t the engineer cite real psychological research? Wasn’t Google punishing him for following the science?</p>
<p>Here’s the problem: the engineer had confused correlation for causation in the presence of an obvious confounder. Yes, researchers have found population-level average differences between men and women on various psychological measures. And yes, these differences correlate with representation in tech. But consider this alternative explanation:</p>
<p>Gender norms in our society (let’s call this factor Z) might cause both psychological differences (X) and career outcomes (Y). Maybe growing up in a world that tells girls they’re not good at math makes them less interested in technical subjects. Maybe seeing few female role models in tech makes women prefer other careers. Maybe workplace cultures that assume long hours are possible because someone else is handling childcare create that “preference” for work-life balance.</p>
<p>To make this absurdly clear, let me propose an equally “scientific” argument: Women have longer hair than men on average. Long hair gets in the way of looking at computer screens. Therefore, women are biologically less suited for programming. This is obviously ridiculous, but it follows the exact same logical structure as the original memo. We have a real correlation (hair length correlates with tech employment), but the causal interpretation is nonsense because we’re ignoring the confounding factor of social gender norms.</p>
</div>
</div>
<div id="part-5-establishing-causation" class="section level2 hasAnchor" number="10.171">
<h2><span class="header-section-number">10.171</span> Part 5: Establishing Causation<a href="references.html#part-5-establishing-causation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Given all these challenges, how do we ever establish causation? There are three things we need to demonstrate, and the third one is by far the hardest.</p>
<div id="three-requirements-for-causal-claims" class="section level3 hasAnchor" number="10.171.1">
<h3><span class="header-section-number">10.171.1</span> Three Requirements for Causal Claims<a href="references.html#three-requirements-for-causal-claims" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, we need to establish temporal order. For X to cause Y, X must come before Y in time. This might seem obvious, but it’s not always clear in observational data. Do democratic countries become wealthy, or do wealthy countries become democratic? Does depression cause social media use, or does social media use cause depression? Without clear temporal ordering, we can’t even begin to make causal claims.</p>
<p>Second, we need to show an association. If X causes Y, then X and Y should be correlated in our data. This is what most of statistics is about – detecting patterns and relationships in data. We can calculate correlations, run regressions, perform t-tests. But remember association is an important signal for causation, but it’s not sufficient. Correlation does not imply causation, even when the correlation is highly statistically significant.</p>
<p>Third, and most challenging, we need to eliminate alternative explanations. This is where most causal arguments fail. Even if X comes before Y and X correlates with Y, there might be some confounding factor Z that explains the relationship. Maybe people who do X are different from people who don’t in some other way that affects Y. Maybe some external factor causes both X and Y. Maybe the relationship runs in the opposite direction.</p>
</div>
<div id="the-challenge-of-confounders" class="section level3 hasAnchor" number="10.171.2">
<h3><span class="header-section-number">10.171.2</span> The Challenge of Confounders<a href="references.html#the-challenge-of-confounders" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The burden of proof is on the researcher making the causal claim. You need to convince skeptics that you’ve thought of all the relevant confounders and dealt with them. This is incredibly difficult because the world is complex and interconnected.</p>
<p>Consider a simple question: does getting a college degree increase earnings? College graduates earn more than non-graduates, so there’s definitely an association. College comes before career earnings, so temporal order is established. But what about alternative explanations?</p>
<p>Maybe people who go to college are smarter, and they would have earned more anyway. Maybe they’re more motivated. Maybe they come from wealthier families with better connections. Maybe they’re healthier, or more confident, or better at standardized tests, or live in areas with better job markets, or any of a thousand other differences that could affect earnings.</p>
<p>This is why the phrase “all else being equal” appears so often in social science. We want to know the effect of college on earnings, all else being equal. But in observational data, all else is never equal.</p>
</div>
</div>
<div id="part-6-two-paths-to-causal-inference" class="section level2 hasAnchor" number="10.172">
<h2><span class="header-section-number">10.172</span> Part 6: Two Paths to Causal Inference<a href="references.html#part-6-two-paths-to-causal-inference" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Given these challenges, how do we ever make valid causal claims? There are two main approaches, and they both try to make the treatment and control groups comparable in different ways.</p>
<div id="path-1-randomization" class="section level3 hasAnchor" number="10.172.1">
<h3><span class="header-section-number">10.172.1</span> Path 1: Randomization<a href="references.html#path-1-randomization" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The gold standard for causal inference is the randomized controlled trial (RCT), also known as an experiment. The beautiful thing about randomization is that it breaks the connection between treatment assignment and potential outcomes.</p>
<p>Here’s how it works. Take your sample and randomly assign some units to treatment and others to control. Since assignment is random, there’s no systematic difference between the groups. Motivated students are equally likely to end up in treatment or control. Wealthy students are equally likely to be in each group. Every possible confounder, whether we’ve thought of it or not, is balanced across the groups on average.</p>
<p>Let me demonstrate this with a simulation:</p>
<div class="sourceCode" id="cb645"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb645-1"><a href="references.html#cb645-1" tabindex="-1"></a><span class="co"># Simulate an experiment</span></span>
<span id="cb645-2"><a href="references.html#cb645-2" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb645-3"><a href="references.html#cb645-3" tabindex="-1"></a><span class="co"># Create potential confounders</span></span>
<span id="cb645-4"><a href="references.html#cb645-4" tabindex="-1"></a>motivation <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n)</span>
<span id="cb645-5"><a href="references.html#cb645-5" tabindex="-1"></a>ability <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n)</span>
<span id="cb645-6"><a href="references.html#cb645-6" tabindex="-1"></a>family_income <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n)</span>
<span id="cb645-7"><a href="references.html#cb645-7" tabindex="-1"></a></span>
<span id="cb645-8"><a href="references.html#cb645-8" tabindex="-1"></a><span class="co"># Potential outcomes depend on confounders</span></span>
<span id="cb645-9"><a href="references.html#cb645-9" tabindex="-1"></a>y0 <span class="ot">&lt;-</span> <span class="dv">50</span> <span class="sc">+</span> <span class="dv">5</span><span class="sc">*</span>motivation <span class="sc">+</span> <span class="dv">3</span><span class="sc">*</span>ability <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>family_income <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="dv">5</span>)</span>
<span id="cb645-10"><a href="references.html#cb645-10" tabindex="-1"></a>y1 <span class="ot">&lt;-</span> y0 <span class="sc">+</span> <span class="dv">10</span>  <span class="co"># True treatment effect is 10</span></span>
<span id="cb645-11"><a href="references.html#cb645-11" tabindex="-1"></a></span>
<span id="cb645-12"><a href="references.html#cb645-12" tabindex="-1"></a><span class="co"># Random assignment</span></span>
<span id="cb645-13"><a href="references.html#cb645-13" tabindex="-1"></a>treatment <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), n, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb645-14"><a href="references.html#cb645-14" tabindex="-1"></a></span>
<span id="cb645-15"><a href="references.html#cb645-15" tabindex="-1"></a><span class="co"># Observed outcome</span></span>
<span id="cb645-16"><a href="references.html#cb645-16" tabindex="-1"></a>y_observed <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(treatment <span class="sc">==</span> <span class="dv">1</span>, y1, y0)</span>
<span id="cb645-17"><a href="references.html#cb645-17" tabindex="-1"></a></span>
<span id="cb645-18"><a href="references.html#cb645-18" tabindex="-1"></a><span class="co"># Compare treated and control</span></span>
<span id="cb645-19"><a href="references.html#cb645-19" tabindex="-1"></a>mean_treated <span class="ot">&lt;-</span> <span class="fu">mean</span>(y_observed[treatment <span class="sc">==</span> <span class="dv">1</span>])</span>
<span id="cb645-20"><a href="references.html#cb645-20" tabindex="-1"></a>mean_control <span class="ot">&lt;-</span> <span class="fu">mean</span>(y_observed[treatment <span class="sc">==</span> <span class="dv">0</span>])</span>
<span id="cb645-21"><a href="references.html#cb645-21" tabindex="-1"></a>estimated_effect <span class="ot">&lt;-</span> mean_treated <span class="sc">-</span> mean_control</span>
<span id="cb645-22"><a href="references.html#cb645-22" tabindex="-1"></a></span>
<span id="cb645-23"><a href="references.html#cb645-23" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Estimated treatment effect from experiment:&quot;</span>, <span class="fu">round</span>(estimated_effect, <span class="dv">2</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Estimated treatment effect from experiment: 9.92</code></pre>
<div class="sourceCode" id="cb647"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb647-1"><a href="references.html#cb647-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;True treatment effect: 10</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## True treatment effect: 10</code></pre>
<div class="sourceCode" id="cb649"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb649-1"><a href="references.html#cb649-1" tabindex="-1"></a><span class="co"># Check balance on confounders</span></span>
<span id="cb649-2"><a href="references.html#cb649-2" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">Checking balance on confounders:</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## 
## Checking balance on confounders:</code></pre>
<div class="sourceCode" id="cb651"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb651-1"><a href="references.html#cb651-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Motivation difference:&quot;</span>, </span>
<span id="cb651-2"><a href="references.html#cb651-2" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">mean</span>(motivation[treatment <span class="sc">==</span> <span class="dv">1</span>]) <span class="sc">-</span> <span class="fu">mean</span>(motivation[treatment <span class="sc">==</span> <span class="dv">0</span>]), <span class="dv">3</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Motivation difference: 0.097</code></pre>
<div class="sourceCode" id="cb653"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb653-1"><a href="references.html#cb653-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Ability difference:&quot;</span>, </span>
<span id="cb653-2"><a href="references.html#cb653-2" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">mean</span>(ability[treatment <span class="sc">==</span> <span class="dv">1</span>]) <span class="sc">-</span> <span class="fu">mean</span>(ability[treatment <span class="sc">==</span> <span class="dv">0</span>]), <span class="dv">3</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Ability difference: 0.012</code></pre>
<div class="sourceCode" id="cb655"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb655-1"><a href="references.html#cb655-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;Income difference:&quot;</span>, </span>
<span id="cb655-2"><a href="references.html#cb655-2" tabindex="-1"></a>    <span class="fu">round</span>(<span class="fu">mean</span>(family_income[treatment <span class="sc">==</span> <span class="dv">1</span>]) <span class="sc">-</span> <span class="fu">mean</span>(family_income[treatment <span class="sc">==</span> <span class="dv">0</span>]), <span class="dv">3</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## Income difference: -0.083</code></pre>
<p>See how the randomization balanced all the confounders across treatment and control? The differences are tiny, just random noise. This is why experiments give us valid causal estimates even when we don’t know what all the confounders are.</p>
<p>Sometimes we can’t randomize treatment ourselves, but nature or policy does it for us. These are called natural experiments or quasi-experiments. Maybe admission to a school is determined by a cutoff score, and students just above and below the cutoff are essentially similar. Maybe a new law is implemented in some states but not others for arbitrary political reasons. These situations can provide experiment-like conditions without actual randomization.</p>
</div>
<div id="path-2-statistical-adjustment" class="section level3 hasAnchor" number="10.172.2">
<h3><span class="header-section-number">10.172.2</span> Path 2: Statistical Adjustment<a href="references.html#path-2-statistical-adjustment" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When we can’t randomize, we try to adjust for confounders statistically. This is what most empirical social science does. We measure potential confounders and include them in our statistical models, trying to compare “like with like.”</p>
<p>The problem is that we can only adjust for confounders we’ve measured. If we’re studying the effect of college on earnings and we control for test scores, family income, and motivation, we’re still vulnerable to unmeasured confounders like health, personality, or social connections. With statistical adjustment (like regression, which we’ll introduce next), we could try to control for confoudners and get closer to the truth. But only if we’ve measured ability accurately and included it in our model.</p>
</div>
</div>
<div id="conclusion" class="section level2 hasAnchor" number="10.173">
<h2><span class="header-section-number">10.173</span> Conclusion<a href="references.html#conclusion" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Causation is one of the most important concepts in data science, and also one of the most challenging. The fundamental problem of causal inference – that we can’t observe counterfactuals – means we can never directly measure causal effects. Instead, we have to be clever about study design and careful about our assumptions.</p>
<p>The key takeaways are these: First, correlation is not causation, and the difference between prediction and causation matters enormously for decision-making. Second, randomization is the gold standard for causal inference because it balances all confounders, even ones we haven’t thought of. Third, when we can’t randomize, we need to think carefully about what might confound our comparisons and do our best to adjust for these factors.</p>
<p>Most importantly, be skeptical of causal claims. When someone says X causes Y, ask yourself: How do they know? Could there be confounders they haven’t considered? Would the groups being compared be similar in the absence of treatment? The world is full of spurious correlations and confounded relationships. A little skepticism goes a long way.</p>
</div>
<div id="study-questions-8" class="section level2 hasAnchor" number="10.174">
<h2><span class="header-section-number">10.174</span> Study Questions<a href="references.html#study-questions-8" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="understanding-concepts" class="section level3 hasAnchor" number="10.174.1">
<h3><span class="header-section-number">10.174.1</span> Understanding Concepts<a href="references.html#understanding-concepts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>What is the fundamental problem of causal inference? Explain why we can never directly observe the causal effect of a treatment on an individual.</p></li>
<li><p>Explain the difference between prediction and causation. Give an example of something that would be useful for prediction but not for making policy decisions.</p></li>
<li><p>What are potential outcomes? If we’re studying whether a job training program increases employment, define Y(0) and Y(1) for an individual participant.</p></li>
</ol>
</div>
<div id="identifying-relationships" class="section level3 hasAnchor" number="10.174.2">
<h3><span class="header-section-number">10.174.2</span> Identifying Relationships<a href="references.html#identifying-relationships" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="4" style="list-style-type: decimal">
<li><p>A study finds that cities with more police officers have higher crime rates. Draw arrows showing at least two possible explanations for this correlation. Which explanation is direct causation, and which shows confounding?</p></li>
<li><p>Students who eat breakfast tend to get better grades. List three possible explanations for this pattern: one involving direct causation, one involving reverse causation, and one involving a confounding variable. Draw the arrows for each.</p></li>
<li><p>Researchers notice that countries with <a href="https://www.nejm.org/doi/full/10.1056/NEJMon1211064">more chocolate consumption have more Nobel Prize winners per capita</a>. What’s the most likely explanation for this correlation? What would be the confounder?</p></li>
</ol>
</div>
<div id="applying-knowledge" class="section level3 hasAnchor" number="10.174.3">
<h3><span class="header-section-number">10.174.3</span> Applying Knowledge<a href="references.html#applying-knowledge" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="7" style="list-style-type: decimal">
<li><p>A researcher wants to study whether online classes lead to worse learning outcomes than in-person classes. What would be:</p>
<ul>
<li>The treatment variable (T)?</li>
<li>The potential outcomes Y(1) and Y(0)?</li>
<li>The average treatment effect (ATE)?</li>
<li>Two potential confounders that could bias the comparison?</li>
</ul></li>
<li><p>Your friend says, “I started taking vitamin C and haven’t gotten sick since. Vitamin C prevents illness!” What’s wrong with this causal reasoning? <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC1958969/">How would you properly test whether vitamin C prevents illness?</a></p></li>
</ol>
</div>
<div id="critical-thinking-4" class="section level3 hasAnchor" number="10.174.4">
<h3><span class="header-section-number">10.174.4</span> Critical Thinking<a href="references.html#critical-thinking-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="9" style="list-style-type: decimal">
<li><p>A city notices that streets with more bike lanes have fewer traffic accidents and concludes that bike lanes make streets safer. A skeptic argues that the city probably put bike lanes on streets that were already safer. How could you determine who’s right? What would an ideal experiment look like?</p></li>
<li><p>During the COVID-19 pandemic, some argued that lockdowns didn’t work because places with strict lockdowns still had high case rates. Explain why this comparison might be confounded. What would you need to know to properly evaluate the causal effect of lockdowns?</p></li>
</ol>
</div>
<div id="working-with-data" class="section level3 hasAnchor" number="10.174.5">
<h3><span class="header-section-number">10.174.5</span> Working with Data<a href="references.html#working-with-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="11" style="list-style-type: decimal">
<li><p>Suppose you have data on 1000 students. Half received free tutoring (randomly assigned) and half didn’t. The tutored group has an average test score of 78, and the control group has an average of 72.</p>
<ul>
<li>What is the estimated average treatment effect?</li>
<li>Why can we interpret this difference as causal?</li>
<li>If tutoring hadn’t been randomly assigned, what problems might arise?</li>
</ul></li>
<li><p>A company wants to know if their new website design increases sales. They switch to the new design on January 1st and notice sales are 20% higher in January than in December. Why can’t they conclude the new design caused the increase? Design a better test of the website’s effect.</p></li>
</ol>

<div class="sourceCode" id="cb657"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb657-1"><a href="references.html#cb657-1" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
</div>
<div id="learning-objectives-16" class="section level2 hasAnchor" number="10.175">
<h2><span class="header-section-number">10.175</span> Learning Objectives<a href="references.html#learning-objectives-16" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>By the end of this module, you will understand:</p>
<ol style="list-style-type: decimal">
<li>What correlation measures and how to interpret correlation coefficients.</li>
<li>How correlation relates to linear regression and develop an intuition for how least squares regression works.</li>
<li>Learn how to fit and interpret simple regression models in R and practice visualizing relationships between two continuous variables.</li>
</ol>
</div>
<div id="what-is-this-for-13" class="section level2 hasAnchor" number="10.176">
<h2><span class="header-section-number">10.176</span> What Is This For?<a href="references.html#what-is-this-for-13" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>So far in this course, we have learned how to compare outcomes across groups using tools like the difference in means and t-tests. These methods work beautifully when one of our variables is binary, defining two distinct groups like treatment and control, or Democrat and Republican. But what happens when both of our variables can take on many different values?</p>
<p>Consider one of the most fundamental questions in political science: do voters reward incumbents when the economy performs well? This theory of economic voting suggests that when incomes rise during a president’s term, voters should be more likely to support the incumbent party in the next election.</p>
<p>But in this analysis, both of our key variables here are continuous. Income growth might range from negative values during recessions to several percent during boom times. Vote share can range anywhere from crushing defeats below 40% to landslide victories above 60%. Forcing either variable into crude categories like “good economy” versus “bad economy” would lose crucial information about the strength of this relationship.</p>
<p>This reading introduces two closely related tools that let us analyze relationships between continuous variables without sacrificing information: correlation coefficients and linear regression. These methods (and especially regression) form the foundation for much of modern statistical analysis in political science.</p>
<p>Once you understand these concepts, you will be able to explore questions about how economic conditions predict election outcomes, how campaign spending relates to vote share, or whether political knowledge increases with age. It will also prepare you for the rest of the class, which will focus exclusively on the regression modeling framework.</p>
</div>
<div id="loading-the-data-economic-voting-in-presidential-elections" class="section level2 hasAnchor" number="10.177">
<h2><span class="header-section-number">10.177</span> Loading the Data: Economic Voting in Presidential Elections<a href="references.html#loading-the-data-economic-voting-in-presidential-elections" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Throughout this module, we will work with real data on economic voting in U.S. presidential elections. This dataset contains information about income growth during each presidential term and the subsequent vote share received by the incumbent party. Let us load the data and explore its structure:</p>
<div class="sourceCode" id="cb658"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb658-1"><a href="references.html#cb658-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb658-2"><a href="references.html#cb658-2" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb658-3"><a href="references.html#cb658-3" tabindex="-1"></a></span>
<span id="cb658-4"><a href="references.html#cb658-4" tabindex="-1"></a><span class="co"># Load the economic voting data</span></span>
<span id="cb658-5"><a href="references.html#cb658-5" tabindex="-1"></a>votes <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;votes.csv&quot;</span>)</span>
<span id="cb658-6"><a href="references.html#cb658-6" tabindex="-1"></a></span>
<span id="cb658-7"><a href="references.html#cb658-7" tabindex="-1"></a><span class="co"># Examine the structure</span></span>
<span id="cb658-8"><a href="references.html#cb658-8" tabindex="-1"></a><span class="fu">glimpse</span>(votes)</span></code></pre></div>
<pre><code>## Rows: 17
## Columns: 7
## $ id         &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17
## $ year       &lt;int&gt; 1948, 1952, 1956, 1960, 1964, 1968, 1972, 1976, 1980, 1984, 1988, 1992, 1996,…
## $ rdi4       &lt;dbl&gt; 3.450990, 1.470730, 2.978460, 0.574562, 5.575570, 3.460140, 3.655830, 2.93891…
## $ vote       &lt;dbl&gt; 52.32560, 44.62310, 57.74650, 49.89920, 61.34540, 49.59350, 61.81260, 48.9297…
## $ demcand    &lt;chr&gt; &quot;Truman&quot;, &quot;Stevenson&quot;, &quot;Stevenson&quot;, &quot;Kennedy&quot;, &quot;Johnson&quot;, &quot;Humphrey&quot;, &quot;McGove…
## $ repcand    &lt;chr&gt; &quot;Dewey&quot;, &quot;Eisenhower&quot;, &quot;Eisenhower&quot;, &quot;Nixon&quot;, &quot;Goldwater&quot;, &quot;Nixon&quot;, &quot;Nixon&quot;, …
## $ reelection &lt;int&gt; 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 1, 0, 1, 0, 1</code></pre>
<p>Our key variables of interest are</p>
<ul>
<li><code>rdi4</code>: average annual change in real disposable income over past 4 years</li>
<li><code>vote</code>: incumbent party vote share in the election</li>
</ul>
<p>The unit of observation in this dataset is a presidential election year. For example, the 2012 observation captures Barack Obama’s first term (2008-2012), showing that real disposable income grew at an average annual rate of about 2.17% during those four years, and his Democratic Party received about 51.4% of the two-party vote when he ran for reelection.</p>
<p>This data allows us to test a central hypothesis in political science: when the economy performs well (measured by income growth), the incumbent party should perform better at the polls. But how strong is this relationship? Can we use economic performance to predict election outcomes? These are exactly the questions that correlation and regression help us answer.</p>
</div>
<div id="from-groups-to-relationships" class="section level2 hasAnchor" number="10.178">
<h2><span class="header-section-number">10.178</span> From Groups to Relationships<a href="references.html#from-groups-to-relationships" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let us briefly review where we are coming from. When we use a t-test or calculate a difference in means, we are comparing an outcome variable across two groups. One of our variables must be binary to define these groups. This works perfectly for many research questions in political science, such as comparing voter turnout between competitive and non-competitive districts.</p>
<p>But our economic voting question involves two continuous variables. Income growth during a presidential term can take many values, from the negative growth of severe recessions to the rapid growth of economic booms. Similarly, incumbent vote share varies continuously from devastating defeats to landslide victories. We need analytical tools that preserve and utilize all this variation.</p>
<p>That is exactly what correlation and regression provide. These methods allow us to examine whether and how strongly two continuous variables relate to each other, and to make specific predictions about one variable based on values of another.</p>
</div>
<div id="correlation-coefficients" class="section level2 hasAnchor" number="10.179">
<h2><span class="header-section-number">10.179</span> Correlation Coefficients<a href="references.html#correlation-coefficients" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="the-basic-idea" class="section level3 hasAnchor" number="10.179.1">
<h3><span class="header-section-number">10.179.1</span> The Basic Idea<a href="references.html#the-basic-idea" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A correlation coefficient gives us a single number that summarizes the linear relationship between two variables. When we say income growth and incumbent vote share are correlated, we mean that knowing income growth gives us information about the likely vote share. Higher income growth tends to go with higher vote shares (positive correlation).</p>
<p>Remember that correlation describes association, not causation. If income growth and vote share are positively correlated, it means that knowing the economy grew helps us predict the incumbent party will likely do well. It does not <em>necessarily</em> prove that economic growth causes electoral success. Perhaps both are influenced by other factors like war, scandals, or candidate quality. Correlation tells us two variables move together; it does not tell us why.</p>
</div>
<div id="visualizing-the-relationship" class="section level3 hasAnchor" number="10.179.2">
<h3><span class="header-section-number">10.179.2</span> Visualizing the Relationship<a href="references.html#visualizing-the-relationship" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Before diving into the mathematics, let us visualize our data to get an intuitive sense of the relationship:</p>
<div class="sourceCode" id="cb660"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb660-1"><a href="references.html#cb660-1" tabindex="-1"></a><span class="co"># Create a basic scatterplot</span></span>
<span id="cb660-2"><a href="references.html#cb660-2" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> votes<span class="sc">$</span>rdi4, <span class="at">y =</span> votes<span class="sc">$</span>vote, </span>
<span id="cb660-3"><a href="references.html#cb660-3" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Economic Voting in Presidential Elections&quot;</span>,</span>
<span id="cb660-4"><a href="references.html#cb660-4" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Average Annual Income Growth (%)&quot;</span>,</span>
<span id="cb660-5"><a href="references.html#cb660-5" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Incumbent Party Vote Share (%)&quot;</span>,</span>
<span id="cb660-6"><a href="references.html#cb660-6" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">70</span>),</span>
<span id="cb660-7"><a href="references.html#cb660-7" tabindex="-1"></a>     <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">col =</span> <span class="st">&quot;darkblue&quot;</span>)</span>
<span id="cb660-8"><a href="references.html#cb660-8" tabindex="-1"></a></span>
<span id="cb660-9"><a href="references.html#cb660-9" tabindex="-1"></a><span class="co"># Add a grid for easier reading</span></span>
<span id="cb660-10"><a href="references.html#cb660-10" tabindex="-1"></a><span class="fu">grid</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-261-1.png" width="672" /></p>
<p>Looking at this scatterplot, you can already see a pattern. Elections with higher income growth (toward the right) tend to have higher incumbent vote shares (toward the top). Elections with low or negative income growth tend to see the incumbent party perform poorly. This visual pattern is exactly what correlation captures numerically.</p>
</div>
<div id="understanding-the-correlation-coefficient" class="section level3 hasAnchor" number="10.179.3">
<h3><span class="header-section-number">10.179.3</span> Understanding the Correlation Coefficient<a href="references.html#understanding-the-correlation-coefficient" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The correlation coefficient, often denoted as <em>r</em>, always falls between -1 and 1. These bounds reflect the maximum possible linear relationship between two variables. A correlation of 1 means perfect positive correlation where all points fall exactly on an upward-sloping line. A correlation of -1 means perfect negative correlation where all points fall exactly on a downward-sloping line. A correlation of 0 indicates no linear relationship.</p>
<p>In political science, you rarely see correlations near -1 or 1 because social phenomena are complex with many influencing factors. The correlation between income growth and incumbent vote share is substantial by political science standards but far from perfect, reflecting that many factors beyond the economy influence elections.</p>
</div>
<div id="the-math-behind-correlation" class="section level3 hasAnchor" number="10.179.4">
<h3><span class="header-section-number">10.179.4</span> The Math Behind Correlation<a href="references.html#the-math-behind-correlation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now let us look at how we actually calculate a correlation coefficient. Let’s call one variable (economic performande) <span class="math inline">\(x\)</span> and the other variable (incumbent vote share) <span class="math inline">\(y\)</span>. The formula is:</p>
<p><span class="math display">\[r = \frac{1}{n-1}\sum_{i=1}^{n}\left[\frac{(x_i - \bar{x})}{s_x} \times \frac{(y_i - \bar{y})}{s_y}\right]\]</span></p>
<p>This formula may look a bit complicated, but let’s break it down. First, remember that <span class="math inline">\(\bar{x}\)</span> is the mean of the variable <span class="math inline">\(x\)</span> and <span class="math inline">\(s_x\)</span> is the standard deviation. Likewise, <span class="math inline">\(\bar{y}\)</span> is the mean of the variable <span class="math inline">\(y\)</span> and <span class="math inline">\(s_y\)</span> is the standard deviation. So we can break down the equation like this.</p>
<p>For observation <span class="math inline">\(i\)</span>, we can calculate how much it deviates from the mean, and divide by the standard deviation.
<span class="math display">\[\frac{(x_i-\bar{x})}{s_x} \]</span>
Then we need to do the same thing for y:
<span class="math display">\[\frac{(y_i-\bar{y})}{s_y} \]</span></p>
<p>Then we just multiply them together.</p>
<p><span class="math display">\[\frac{(x_i-\bar{x})}{s_x} \times \frac{(y_i-\bar{y})}{s_y} \]</span>
So when both of these numbers are positive or both are negative, this will result in a positive number. When one is positive and other is negative, it will result in a negative number.</p>
<p>Finally, to find the overall correlation we just have to add these up for each observation and divide by <span class="math inline">\(n-1\)</span>.</p>
<p><span class="math display">\[r = \frac{1}{n-1}\sum_{i=1}^{n}\left[\frac{(x_i - \bar{x})}{s_x} \times \frac{(y_i - \bar{y})}{s_y}\right]\]</span></p>
<p>Let us break this down step by step using our actual data. We will calculate the correlation manually to understand what is happening, then verify using R’s built-in function.</p>
<div class="sourceCode" id="cb661"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb661-1"><a href="references.html#cb661-1" tabindex="-1"></a><span class="co"># Calculate means</span></span>
<span id="cb661-2"><a href="references.html#cb661-2" tabindex="-1"></a>mean_rdi4 <span class="ot">&lt;-</span> <span class="fu">mean</span>(votes<span class="sc">$</span>rdi4)</span>
<span id="cb661-3"><a href="references.html#cb661-3" tabindex="-1"></a>mean_vote <span class="ot">&lt;-</span> <span class="fu">mean</span>(votes<span class="sc">$</span>vote)</span>
<span id="cb661-4"><a href="references.html#cb661-4" tabindex="-1"></a></span>
<span id="cb661-5"><a href="references.html#cb661-5" tabindex="-1"></a><span class="co"># Calculate deviations from the mean</span></span>
<span id="cb661-6"><a href="references.html#cb661-6" tabindex="-1"></a>votes<span class="sc">$</span>demean_rdi4 <span class="ot">&lt;-</span> votes<span class="sc">$</span>rdi4 <span class="sc">-</span> mean_rdi4</span>
<span id="cb661-7"><a href="references.html#cb661-7" tabindex="-1"></a>votes<span class="sc">$</span>demean_vote <span class="ot">&lt;-</span> votes<span class="sc">$</span>vote <span class="sc">-</span> mean_vote</span>
<span id="cb661-8"><a href="references.html#cb661-8" tabindex="-1"></a></span>
<span id="cb661-9"><a href="references.html#cb661-9" tabindex="-1"></a><span class="co"># Look at a few observations to understand the pattern</span></span>
<span id="cb661-10"><a href="references.html#cb661-10" tabindex="-1"></a>votes <span class="sc">%&gt;%</span> </span>
<span id="cb661-11"><a href="references.html#cb661-11" tabindex="-1"></a>  <span class="fu">select</span>(year, rdi4, vote, demean_rdi4, demean_vote) <span class="sc">%&gt;%</span></span>
<span id="cb661-12"><a href="references.html#cb661-12" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 17
## Columns: 5
## $ year        &lt;int&gt; 1948, 1952, 1956, 1960, 1964, 1968, 1972, 1976, 1980, 1984, 1988, 1992, 1996…
## $ rdi4        &lt;dbl&gt; 3.450990, 1.470730, 2.978460, 0.574562, 5.575570, 3.460140, 3.655830, 2.9389…
## $ vote        &lt;dbl&gt; 52.32560, 44.62310, 57.74650, 49.89920, 61.34540, 49.59350, 61.81260, 48.929…
## $ demean_rdi4 &lt;dbl&gt; 0.7846907, -1.1955694, 0.3121608, -2.0917373, 2.9092708, 0.7938407, 0.989530…
## $ demean_vote &lt;dbl&gt; 0.2797369, -7.4227631, 5.7006349, -2.1466631, 9.2995389, -2.4523651, 9.76673…</code></pre>
<p>For each observation, we calculate how far that election’s income growth is from the average income growth, and how far its vote share is from the average vote share.</p>
<ul>
<li>When both variables are above their means (both deviations positive) or both below their means (both deviations negative), they contribute to positive correlation.</li>
<li>When one is above and one below, they contribute to negative correlation.</li>
</ul>
<p>The next step, is we need to calculate the product of these deviations.</p>
<div class="sourceCode" id="cb663"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb663-1"><a href="references.html#cb663-1" tabindex="-1"></a><span class="co"># Calculate the product of deviations</span></span>
<span id="cb663-2"><a href="references.html#cb663-2" tabindex="-1"></a>votes<span class="sc">$</span>corr_contribution <span class="ot">&lt;-</span> votes<span class="sc">$</span>demean_rdi4 <span class="sc">*</span> votes<span class="sc">$</span>demean_vote</span></code></pre></div>
<p>Now let us complete the calculation. To do this, we’ll first calculate the standard deviations, and then complete the calculations</p>
<div class="sourceCode" id="cb664"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb664-1"><a href="references.html#cb664-1" tabindex="-1"></a><span class="co"># Calculate standard deviations</span></span>
<span id="cb664-2"><a href="references.html#cb664-2" tabindex="-1"></a>sd_rdi4 <span class="ot">&lt;-</span> <span class="fu">sd</span>(votes<span class="sc">$</span>rdi4)</span>
<span id="cb664-3"><a href="references.html#cb664-3" tabindex="-1"></a>sd_vote <span class="ot">&lt;-</span> <span class="fu">sd</span>(votes<span class="sc">$</span>vote)</span>
<span id="cb664-4"><a href="references.html#cb664-4" tabindex="-1"></a></span>
<span id="cb664-5"><a href="references.html#cb664-5" tabindex="-1"></a><span class="co"># Manual calculation of correlation coefficient</span></span>
<span id="cb664-6"><a href="references.html#cb664-6" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(votes)</span>
<span id="cb664-7"><a href="references.html#cb664-7" tabindex="-1"></a>correlation_manual <span class="ot">&lt;-</span> (<span class="dv">1</span><span class="sc">/</span>(n<span class="dv">-1</span>)) <span class="sc">*</span> <span class="fu">sum</span>(votes<span class="sc">$</span>corr_contribution) <span class="sc">/</span> (sd_rdi4 <span class="sc">*</span> sd_vote)</span>
<span id="cb664-8"><a href="references.html#cb664-8" tabindex="-1"></a></span>
<span id="cb664-9"><a href="references.html#cb664-9" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Manually calculated correlation:&quot;</span>, <span class="fu">round</span>(correlation_manual, <span class="dv">3</span>)))</span></code></pre></div>
<pre><code>## [1] &quot;Manually calculated correlation: 0.742&quot;</code></pre>
<p>Of course, usually we don’t need todo this all ourselves. R provides a built-in function <code>cor()</code> that calculates this very easily.</p>
<div class="sourceCode" id="cb666"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb666-1"><a href="references.html#cb666-1" tabindex="-1"></a><span class="co"># Verify with built-in function</span></span>
<span id="cb666-2"><a href="references.html#cb666-2" tabindex="-1"></a>correlation_builtin <span class="ot">&lt;-</span> <span class="fu">cor</span>(votes<span class="sc">$</span>rdi4, votes<span class="sc">$</span>vote)</span>
<span id="cb666-3"><a href="references.html#cb666-3" tabindex="-1"></a><span class="fu">round</span>(correlation_builtin, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 0.742</code></pre>
<p>The correlation of approximately 0.742 indicates a moderately strong positive relationship. In political science terms, this is quite substantial. It tells us that economic performance and electoral outcomes move together consistently, though not perfectly.</p>
</div>
<div id="visualizing-how-correlation-works" class="section level3 hasAnchor" number="10.179.5">
<h3><span class="header-section-number">10.179.5</span> Visualizing How Correlation Works<a href="references.html#visualizing-how-correlation-works" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To better understand correlation, let us visualize which observations contribute to the positive correlatio.</p>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-266-1.png" width="672" /></p>
<p>Points in the upper-right quadrant (good economy, high vote share) and lower-left quadrant (poor economy, low vote share) contribute to positive correlation. These are elections where economic performance and electoral outcomes moved in the same direction. Points in the other two quadrants represent elections where the economy and electoral outcomes diverged, perhaps due to other factors like war, scandal, or candidate characteristics.</p>
</div>
</div>
<div id="limitations-of-correlation" class="section level2 hasAnchor" number="10.180">
<h2><span class="header-section-number">10.180</span> Limitations of Correlation<a href="references.html#limitations-of-correlation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While correlation coefficients are useful, they have important limitations that often make them insufficient for research purposes. Understanding these limitations helps us see why we need regression analysis.</p>
<p>First, correlation coefficients do not allow us to make specific predictions. Knowing that income growth and vote share have a correlation of 0.74 tells us they are related, but it does not tell us what vote share to expect when income grows by 2%. The correlation coefficient describes the strength of the relationship but not its specific form.</p>
<p>Second, correlation is invariant to linear transformations. If we measured income growth as a decimal (0.02) instead of a percentage (2%), the correlation would remain identical. This invariance means correlation cannot tell us about the actual scale of the relationship. How much does one percentage point of income growth actually translate into vote share? Correlation cannot answer this question.</p>
<p>Third, correlation does not provide easily interpretable effect sizes. If a campaign strategist wants to know how much economic growth helps the incumbent party, the correlation coefficient provides limited guidance. Saying “the correlation is 0.74” does not translate into actionable predictions about how specific economic conditions might affect electoral outcomes.</p>
</div>
<div id="from-correlation-to-regression" class="section level2 hasAnchor" number="10.181">
<h2><span class="header-section-number">10.181</span> From Correlation to Regression<a href="references.html#from-correlation-to-regression" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="why-we-need-more-than-correlation" class="section level3 hasAnchor" number="10.181.1">
<h3><span class="header-section-number">10.181.1</span> Why We Need More Than Correlation<a href="references.html#why-we-need-more-than-correlation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The limitations of correlation lead us naturally to regression analysis. While correlation tells us whether and how strongly two variables relate, regression specifies the actual relationship. Regression allows us to make specific predictions, understand effect sizes in meaningful units, and communicate results in substantively interpretable terms.</p>
<p>Consider our economic voting example. A correlation of 0.74 tells us the economy matters for elections, but it cannot answer crucial questions. If the economy grows by 3% during a presidential term, what vote share should the incumbent party expect? How much does each additional percentage point of growth help? These are the questions regression can answer.</p>
</div>
<div id="the-regression-line-concept" class="section level3 hasAnchor" number="10.181.2">
<h3><span class="header-section-number">10.181.2</span> The Regression Line Concept<a href="references.html#the-regression-line-concept" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The key insight of regression is that we can summarize the relationship between two variables with a line. Let us add a line to our scatterplot that represents our best guess about the relationship:</p>
<div class="sourceCode" id="cb668"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb668-1"><a href="references.html#cb668-1" tabindex="-1"></a><span class="co"># Create scatterplot with regression line</span></span>
<span id="cb668-2"><a href="references.html#cb668-2" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> votes<span class="sc">$</span>rdi4, <span class="at">y =</span> votes<span class="sc">$</span>vote, </span>
<span id="cb668-3"><a href="references.html#cb668-3" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Economic Voting with Regression Line&quot;</span>,</span>
<span id="cb668-4"><a href="references.html#cb668-4" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Average Annual Income Growth (%)&quot;</span>,</span>
<span id="cb668-5"><a href="references.html#cb668-5" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Incumbent Party Vote Share (%)&quot;</span>,</span>
<span id="cb668-6"><a href="references.html#cb668-6" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">70</span>),</span>
<span id="cb668-7"><a href="references.html#cb668-7" tabindex="-1"></a>     <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">col =</span> <span class="st">&quot;darkblue&quot;</span>)</span>
<span id="cb668-8"><a href="references.html#cb668-8" tabindex="-1"></a></span>
<span id="cb668-9"><a href="references.html#cb668-9" tabindex="-1"></a><span class="co"># Add the regression line (we&#39;ll explain how to calculate this soon)</span></span>
<span id="cb668-10"><a href="references.html#cb668-10" tabindex="-1"></a><span class="fu">abline</span>(<span class="fu">lm</span>(vote <span class="sc">~</span> rdi4, <span class="at">data =</span> votes), <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb668-11"><a href="references.html#cb668-11" tabindex="-1"></a></span>
<span id="cb668-12"><a href="references.html#cb668-12" tabindex="-1"></a><span class="co"># Add grid</span></span>
<span id="cb668-13"><a href="references.html#cb668-13" tabindex="-1"></a><span class="fu">grid</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-267-1.png" width="672" /></p>
<p>This red line represents our best summary of how income growth relates to vote share. For any level of economic growth, the line gives us a specific prediction for the expected vote share. But which line should we choose? We could draw many different lines through these points. We need a principled way to choose the best line.</p>
</div>
</div>
<div id="simple-linear-regression" class="section level2 hasAnchor" number="10.182">
<h2><span class="header-section-number">10.182</span> Simple Linear Regression<a href="references.html#simple-linear-regression" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="the-basic-model" class="section level3 hasAnchor" number="10.182.1">
<h3><span class="header-section-number">10.182.1</span> The Basic Model<a href="references.html#the-basic-model" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A linear regression model expresses the relationship between two variables as a straight line plus some error:</p>
<p><span class="math display">\[Y = \alpha + \beta X + \epsilon\]</span></p>
<p>In our economic voting example, Y is the incumbent party vote share, X is income growth during the presidential term, α (alpha) is the intercept telling us the expected vote share when income growth is zero, β (beta) is the slope telling us how much vote share changes for each percentage point of income growth, and ε (epsilon) is the error term capturing all other factors that influence elections beyond the economy.</p>
<p>The error term is crucial. It acknowledges that we cannot perfectly predict election outcomes from economic data alone. Many factors influence elections: candidate quality, campaign effectiveness, international events, social issues, and more. The error term captures all these other influences.</p>
</div>
<div id="finding-the-best-line-least-squares" class="section level3 hasAnchor" number="10.182.2">
<h3><span class="header-section-number">10.182.2</span> Finding the Best Line: Least Squares<a href="references.html#finding-the-best-line-least-squares" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Given our model, we need to find the specific values of α and β that best fit our data. The most common criterion is least squares: we choose the line that minimizes the sum of squared vertical distances between the observed points and the line.</p>
<p>Let’s break that down a bit. If the actual outcome for observation <span class="math inline">\(i\)</span> is <span class="math inline">\(Y_i\)</span> and our prediction is <span class="math inline">\(\hat{Y}_i = \alpha + \beta X_i\)</span>, then the prediction error is <span class="math inline">\(e_i=(Y_i - \hat{Y}_i)\)</span>. (This is often called the <em>residual</em>.) The idea here is that we are going to choose the values of <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span> that minimize the sum of squared errors (SSE):</p>
<p><span class="math display">\[SSE = \sum_{i=1}^n e_i^2 =  \sum_{i=1}^n (Y_i-\hat{Y}_i)^2 = \sum_{i=1}^n\left(Y_i - (\alpha + \beta X_i)\right)^2\]</span></p>
<p>Let us visualize these concepts:</p>
<div class="sourceCode" id="cb669"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb669-1"><a href="references.html#cb669-1" tabindex="-1"></a><span class="co"># Fit the model (we&#39;ll explain the details shortly)</span></span>
<span id="cb669-2"><a href="references.html#cb669-2" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(vote <span class="sc">~</span> rdi4, <span class="at">data =</span> votes)</span>
<span id="cb669-3"><a href="references.html#cb669-3" tabindex="-1"></a></span>
<span id="cb669-4"><a href="references.html#cb669-4" tabindex="-1"></a><span class="co"># Get predictions and residuals</span></span>
<span id="cb669-5"><a href="references.html#cb669-5" tabindex="-1"></a>votes<span class="sc">$</span>predicted <span class="ot">&lt;-</span> <span class="fu">fitted</span>(model)</span>
<span id="cb669-6"><a href="references.html#cb669-6" tabindex="-1"></a>votes<span class="sc">$</span>residual <span class="ot">&lt;-</span> <span class="fu">residuals</span>(model)</span>
<span id="cb669-7"><a href="references.html#cb669-7" tabindex="-1"></a></span>
<span id="cb669-8"><a href="references.html#cb669-8" tabindex="-1"></a><span class="co"># Create a plot showing residuals</span></span>
<span id="cb669-9"><a href="references.html#cb669-9" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> votes<span class="sc">$</span>rdi4, <span class="at">y =</span> votes<span class="sc">$</span>vote, </span>
<span id="cb669-10"><a href="references.html#cb669-10" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Residuals: Actual vs. Predicted Values&quot;</span>,</span>
<span id="cb669-11"><a href="references.html#cb669-11" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Average Annual Income Growth (%)&quot;</span>,</span>
<span id="cb669-12"><a href="references.html#cb669-12" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Incumbent Party Vote Share (%)&quot;</span>,</span>
<span id="cb669-13"><a href="references.html#cb669-13" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">70</span>),</span>
<span id="cb669-14"><a href="references.html#cb669-14" tabindex="-1"></a>     <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">col =</span> <span class="st">&quot;darkblue&quot;</span>)</span>
<span id="cb669-15"><a href="references.html#cb669-15" tabindex="-1"></a></span>
<span id="cb669-16"><a href="references.html#cb669-16" tabindex="-1"></a><span class="co"># Add the regression line</span></span>
<span id="cb669-17"><a href="references.html#cb669-17" tabindex="-1"></a><span class="fu">abline</span>(model, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb669-18"><a href="references.html#cb669-18" tabindex="-1"></a></span>
<span id="cb669-19"><a href="references.html#cb669-19" tabindex="-1"></a><span class="co"># Draw residual lines for a few points to illustrate</span></span>
<span id="cb669-20"><a href="references.html#cb669-20" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">11</span>, <span class="dv">14</span>)) {</span>
<span id="cb669-21"><a href="references.html#cb669-21" tabindex="-1"></a>  <span class="fu">segments</span>(votes<span class="sc">$</span>rdi4[i], votes<span class="sc">$</span>predicted[i], </span>
<span id="cb669-22"><a href="references.html#cb669-22" tabindex="-1"></a>           votes<span class="sc">$</span>rdi4[i], votes<span class="sc">$</span>vote[i], </span>
<span id="cb669-23"><a href="references.html#cb669-23" tabindex="-1"></a>           <span class="at">col =</span> <span class="st">&quot;gray&quot;</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">lwd =</span> <span class="fl">1.5</span>)</span>
<span id="cb669-24"><a href="references.html#cb669-24" tabindex="-1"></a>}</span>
<span id="cb669-25"><a href="references.html#cb669-25" tabindex="-1"></a></span>
<span id="cb669-26"><a href="references.html#cb669-26" tabindex="-1"></a><span class="co"># Add text</span></span>
<span id="cb669-27"><a href="references.html#cb669-27" tabindex="-1"></a><span class="fu">text</span>(<span class="fl">3.5</span>, <span class="dv">67</span>, <span class="st">&quot;Residuals shown as</span><span class="sc">\n</span><span class="st">gray dashed lines&quot;</span>, <span class="at">cex =</span> <span class="fl">0.8</span>)</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-268-1.png" width="672" /></p>
<p>The least squares method chooses α and β to minimize the sum of all these squared residuals. Why do we square them? First, squaring prevents positive and negative residuals from canceling out. Second, squaring penalizes large errors more than small ones, encouraging a line that avoids extremely bad predictions.</p>
<p>Using calculus (which we will not derive here), we can find formulas for the values that minimize the sum of squared residuals:</p>
<p><span class="math display">\[\hat{\beta} = \frac{\sum_{i=1}^{n}(X_i - \bar{X})(Y_i - \bar{Y})}{\sum_{i=1}^{n}(X_i - \bar{X})^2}\]</span></p>
<p><span class="math display">\[\hat{\alpha} = \bar{Y} - \hat{\beta}\bar{X}\]</span></p>
<p>These formulas look complex, but R calculates them for us automatically. I will only ever make you calculate these by hand one time in this class.</p>
</div>
<div id="fitting-the-model-in-r" class="section level3 hasAnchor" number="10.182.3">
<h3><span class="header-section-number">10.182.3</span> Fitting the Model in R<a href="references.html#fitting-the-model-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>lm()</code> function (short for “linear model”) fits regression models in R. Let us fit our economic voting model:</p>
<div class="sourceCode" id="cb670"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb670-1"><a href="references.html#cb670-1" tabindex="-1"></a><span class="co"># Fit the regression model</span></span>
<span id="cb670-2"><a href="references.html#cb670-2" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(vote <span class="sc">~</span> rdi4, <span class="at">data =</span> votes)</span>
<span id="cb670-3"><a href="references.html#cb670-3" tabindex="-1"></a></span>
<span id="cb670-4"><a href="references.html#cb670-4" tabindex="-1"></a><span class="co"># View the results</span></span>
<span id="cb670-5"><a href="references.html#cb670-5" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = vote ~ rdi4, data = votes)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.6842 -3.7406 -0.2731  2.6357  7.5002 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  45.9385     1.6919  27.152 3.62e-14 ***
## rdi4          2.2906     0.5342   4.288 0.000648 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 3.765 on 15 degrees of freedom
## Multiple R-squared:  0.5507, Adjusted R-squared:  0.5207 
## F-statistic: 18.38 on 1 and 15 DF,  p-value: 0.0006477</code></pre>
<p>This is a lot of output, and you won’t understand all of it right away. But we can start to understand some of it.</p>
<p>The intercept of 45.94 tells us that when income growth is zero (no growth), the model predicts the incumbent party will receive about 46% of the vote. This is the <span class="math inline">\(\alpha\)</span> term in the equations above. This makes substantive sense as zero growth represents economic stagnation, which voters typically punish.</p>
<p>The slope coefficient on <code>rdi4</code> is 2.29. This is the key finding, and corresponds to the <span class="math inline">\(\beta\)</span> term in the equation above. Intuitively, this is the <em>slope</em> of the line. It tells us that for each additional percentage point of annual income growth, the incumbent party’s vote share increases by about 2.29 percentage points. (You might remember “rise over run” from your middle school teacher?)</p>
<p>This is a substantial effect. The difference between a recession (-2% growth) and a boom (+3% growth) would be about 11.5 percentage points in vote share, often the difference between a crushing defeat and a comfortable victory.</p>
<p>These specific predictions illustrate the power of regression over correlation. While correlation told us the economy and elections are related, regression tells us exactly how much economic performance matters in practical terms.</p>
</div>
<div id="visualizing-the-complete-picture" class="section level3 hasAnchor" number="10.182.4">
<h3><span class="header-section-number">10.182.4</span> Visualizing the Complete Picture<a href="references.html#visualizing-the-complete-picture" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let us create a comprehensive visualization showing the data, regression line, and confidence in our predictions:</p>
<div class="sourceCode" id="cb672"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb672-1"><a href="references.html#cb672-1" tabindex="-1"></a><span class="co"># Create the final visualization using base R</span></span>
<span id="cb672-2"><a href="references.html#cb672-2" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> votes<span class="sc">$</span>rdi4, <span class="at">y =</span> votes<span class="sc">$</span>vote, </span>
<span id="cb672-3"><a href="references.html#cb672-3" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Economic Voting Model: Income Growth and Electoral Success&quot;</span>,</span>
<span id="cb672-4"><a href="references.html#cb672-4" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Average Annual Income Growth (%)&quot;</span>,</span>
<span id="cb672-5"><a href="references.html#cb672-5" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Incumbent Party Vote Share (%)&quot;</span>,</span>
<span id="cb672-6"><a href="references.html#cb672-6" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">70</span>),</span>
<span id="cb672-7"><a href="references.html#cb672-7" tabindex="-1"></a>     <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">col =</span> <span class="st">&quot;darkblue&quot;</span>)</span>
<span id="cb672-8"><a href="references.html#cb672-8" tabindex="-1"></a></span>
<span id="cb672-9"><a href="references.html#cb672-9" tabindex="-1"></a><span class="co"># Add the regression line</span></span>
<span id="cb672-10"><a href="references.html#cb672-10" tabindex="-1"></a><span class="fu">abline</span>(model, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">lwd =</span> <span class="dv">3</span>)</span>
<span id="cb672-11"><a href="references.html#cb672-11" tabindex="-1"></a></span>
<span id="cb672-12"><a href="references.html#cb672-12" tabindex="-1"></a><span class="co"># Add grid</span></span>
<span id="cb672-13"><a href="references.html#cb672-13" tabindex="-1"></a><span class="fu">grid</span>()</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-270-1.png" width="672" /></p>
<p>This visualization captures our complete analysis. The regression line shows the systematic relationship between economic growth and electoral outcomes. The equation provides specific predictions.</p>
<p>We can also create this visualization using ggplot2 for a more polished appearance:</p>
<div class="sourceCode" id="cb673"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb673-1"><a href="references.html#cb673-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb673-2"><a href="references.html#cb673-2" tabindex="-1"></a></span>
<span id="cb673-3"><a href="references.html#cb673-3" tabindex="-1"></a><span class="fu">ggplot</span>(votes, <span class="fu">aes</span>(<span class="at">x =</span> rdi4, <span class="at">y =</span> vote)) <span class="sc">+</span></span>
<span id="cb673-4"><a href="references.html#cb673-4" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">&quot;darkblue&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb673-5"><a href="references.html#cb673-5" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">TRUE</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;pink&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb673-6"><a href="references.html#cb673-6" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">50</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;gray50&quot;</span>) <span class="sc">+</span></span>
<span id="cb673-7"><a href="references.html#cb673-7" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Average Annual Income Growth (%)&quot;</span>,</span>
<span id="cb673-8"><a href="references.html#cb673-8" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Incumbent Party Vote Share (%)&quot;</span>,</span>
<span id="cb673-9"><a href="references.html#cb673-9" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Economic Voting in U.S. Presidential Elections&quot;</span>,</span>
<span id="cb673-10"><a href="references.html#cb673-10" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">&quot;Each 1% of income growth increases vote share by 2.29 percentage points&quot;</span>)) <span class="sc">+</span></span>
<span id="cb673-11"><a href="references.html#cb673-11" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb673-12"><a href="references.html#cb673-12" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb673-13"><a href="references.html#cb673-13" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb673-14"><a href="references.html#cb673-14" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;gray30&quot;</span>)) <span class="sc">+</span></span>
<span id="cb673-15"><a href="references.html#cb673-15" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x =</span> <span class="fu">min</span>(votes<span class="sc">$</span>rdi4) <span class="sc">+</span> <span class="fl">0.5</span>, <span class="at">y =</span> <span class="dv">48</span>, </span>
<span id="cb673-16"><a href="references.html#cb673-16" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&quot;Incumbent loses&quot;</span>, <span class="at">color =</span> <span class="st">&quot;gray50&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb673-17"><a href="references.html#cb673-17" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x =</span> <span class="fu">min</span>(votes<span class="sc">$</span>rdi4) <span class="sc">+</span> <span class="fl">0.5</span>, <span class="at">y =</span> <span class="dv">52</span>, </span>
<span id="cb673-18"><a href="references.html#cb673-18" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&quot;Incumbent wins&quot;</span>, <span class="at">color =</span> <span class="st">&quot;gray50&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-271-1.png" width="672" /></p>
<p>The shaded band around the regression line represents uncertainty in our estimate. We will learn more about this when we cover statistical inference, but for now, note that the band is narrower near the center of the data (where we have more observations) and wider at the extremes.</p>
</div>
<div id="making-predictions" class="section level3 hasAnchor" number="10.182.5">
<h3><span class="header-section-number">10.182.5</span> Making Predictions<a href="references.html#making-predictions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One of regression’s key advantages is the ability to make specific predictions. Let us use our model to predict electoral outcomes under different economic scenarios:</p>
<div class="sourceCode" id="cb675"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb675-1"><a href="references.html#cb675-1" tabindex="-1"></a><span class="co"># Create scenarios for prediction</span></span>
<span id="cb675-2"><a href="references.html#cb675-2" tabindex="-1"></a>scenarios <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb675-3"><a href="references.html#cb675-3" tabindex="-1"></a>  <span class="at">scenario =</span> <span class="fu">c</span>(<span class="st">&quot;Deep Recession&quot;</span>, <span class="st">&quot;Mild Recession&quot;</span>, <span class="st">&quot;Stagnation&quot;</span>, </span>
<span id="cb675-4"><a href="references.html#cb675-4" tabindex="-1"></a>               <span class="st">&quot;Moderate Growth&quot;</span>, <span class="st">&quot;Strong Growth&quot;</span>, <span class="st">&quot;Boom&quot;</span>),</span>
<span id="cb675-5"><a href="references.html#cb675-5" tabindex="-1"></a>  <span class="at">rdi4 =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="fl">1.5</span>, <span class="dv">3</span>, <span class="dv">5</span>)</span>
<span id="cb675-6"><a href="references.html#cb675-6" tabindex="-1"></a>)</span>
<span id="cb675-7"><a href="references.html#cb675-7" tabindex="-1"></a></span>
<span id="cb675-8"><a href="references.html#cb675-8" tabindex="-1"></a><span class="co"># Make predictions</span></span>
<span id="cb675-9"><a href="references.html#cb675-9" tabindex="-1"></a>scenarios<span class="sc">$</span>predicted_vote <span class="ot">&lt;-</span> <span class="fu">predict</span>(model, <span class="at">newdata =</span> scenarios)</span>
<span id="cb675-10"><a href="references.html#cb675-10" tabindex="-1"></a></span>
<span id="cb675-11"><a href="references.html#cb675-11" tabindex="-1"></a><span class="co"># Display results</span></span>
<span id="cb675-12"><a href="references.html#cb675-12" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Electoral Predictions Under Different Economic Scenarios:&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Electoral Predictions Under Different Economic Scenarios:&quot;</code></pre>
<div class="sourceCode" id="cb677"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb677-1"><a href="references.html#cb677-1" tabindex="-1"></a><span class="fu">print</span>(scenarios)</span></code></pre></div>
<pre><code>##          scenario rdi4 predicted_vote
## 1  Deep Recession -3.0       39.06685
## 2  Mild Recession -1.0       43.64798
## 3      Stagnation  0.0       45.93854
## 4 Moderate Growth  1.5       49.37438
## 5   Strong Growth  3.0       52.81023
## 6            Boom  5.0       57.39135</code></pre>
<div class="sourceCode" id="cb679"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb679-1"><a href="references.html#cb679-1" tabindex="-1"></a><span class="co"># Visualize scenarios</span></span>
<span id="cb679-2"><a href="references.html#cb679-2" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> votes<span class="sc">$</span>rdi4, <span class="at">y =</span> votes<span class="sc">$</span>vote, </span>
<span id="cb679-3"><a href="references.html#cb679-3" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Predictions for Different Economic Scenarios&quot;</span>,</span>
<span id="cb679-4"><a href="references.html#cb679-4" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Average Annual Income Growth (%)&quot;</span>,</span>
<span id="cb679-5"><a href="references.html#cb679-5" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Incumbent Party Vote Share (%)&quot;</span>,</span>
<span id="cb679-6"><a href="references.html#cb679-6" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">35</span>, <span class="dv">70</span>),</span>
<span id="cb679-7"><a href="references.html#cb679-7" tabindex="-1"></a>     <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">4</span>, <span class="dv">6</span>),</span>
<span id="cb679-8"><a href="references.html#cb679-8" tabindex="-1"></a>     <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">col =</span> <span class="st">&quot;darkblue&quot;</span>)</span>
<span id="cb679-9"><a href="references.html#cb679-9" tabindex="-1"></a></span>
<span id="cb679-10"><a href="references.html#cb679-10" tabindex="-1"></a><span class="co"># Add regression line</span></span>
<span id="cb679-11"><a href="references.html#cb679-11" tabindex="-1"></a><span class="fu">abline</span>(model, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb679-12"><a href="references.html#cb679-12" tabindex="-1"></a></span>
<span id="cb679-13"><a href="references.html#cb679-13" tabindex="-1"></a><span class="co"># Add prediction points</span></span>
<span id="cb679-14"><a href="references.html#cb679-14" tabindex="-1"></a><span class="fu">points</span>(scenarios<span class="sc">$</span>rdi4, scenarios<span class="sc">$</span>predicted_vote, </span>
<span id="cb679-15"><a href="references.html#cb679-15" tabindex="-1"></a>       <span class="at">pch =</span> <span class="dv">18</span>, <span class="at">col =</span> <span class="st">&quot;darkgreen&quot;</span>, <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb679-16"><a href="references.html#cb679-16" tabindex="-1"></a></span>
<span id="cb679-17"><a href="references.html#cb679-17" tabindex="-1"></a><span class="co"># Add 50% threshold</span></span>
<span id="cb679-18"><a href="references.html#cb679-18" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="dv">50</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">&quot;gray&quot;</span>)</span>
<span id="cb679-19"><a href="references.html#cb679-19" tabindex="-1"></a></span>
<span id="cb679-20"><a href="references.html#cb679-20" tabindex="-1"></a><span class="co"># Label scenarios</span></span>
<span id="cb679-21"><a href="references.html#cb679-21" tabindex="-1"></a><span class="fu">text</span>(scenarios<span class="sc">$</span>rdi4, scenarios<span class="sc">$</span>predicted_vote <span class="sc">+</span> <span class="dv">2</span>, </span>
<span id="cb679-22"><a href="references.html#cb679-22" tabindex="-1"></a>     scenarios<span class="sc">$</span>scenario, <span class="at">cex =</span> <span class="fl">0.7</span>, <span class="at">col =</span> <span class="st">&quot;darkgreen&quot;</span>)</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-272-1.png" width="672" /></p>
<p>These predictions show the practical importance of economic conditions for electoral outcomes. The model suggests that incumbent parties facing recessions (negative growth) are predicted to lose, while those presiding over economic growth are predicted to win. The strength of the economy can mean the difference between a narrow victory and a landslide.</p>
</div>
</div>
<div id="summary-and-key-takeaways" class="section level2 hasAnchor" number="10.183">
<h2><span class="header-section-number">10.183</span> Summary and Key Takeaways<a href="references.html#summary-and-key-takeaways" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We have covered a lot of content in this reading, moving from correlation to regression using real data on economic voting. Let us review the key concepts.</p>
<p>Correlation coefficients provide a single number summary of the linear relationship between two variables, ranging from -1 to 1. In our example, the correlation of 0.742 between income growth and incumbent vote share tells us these variables move together consistently. When the economy does well, incumbent parties tend to perform better electorally.</p>
<p>However, correlation alone could not tell us how much economic growth matters in practical terms. Linear regression extends correlation by specifying the exact relationship. Our regression equation, Vote Share = 45.94 + 2.29 × Income Growth, provides concrete predictions. Each percentage point of income growth translates to about 2.29 percentage points of additional vote share for the incumbent party.</p>
<p>We find the best-fitting regression line using the least squares criterion, minimizing the sum of squared residuals. R makes this easy with the <code>lm()</code> function, which handles all calculations and provides detailed output. The residuals remind us that while our model captures an important relationship, many other factors also influence elections.</p>
<p>Next week, we will extend these ideas to multiple regression, where we can examine how several variables simultaneously relate to an outcome. This allows us to ask more sophisticated questions and begin to address issues of confounding and causation. For now, make sure you are comfortable with correlation and simple regression, as everything else builds from here.</p>
</div>
<div id="reviewstudy-questions" class="section level2 hasAnchor" number="10.184">
<h2><span class="header-section-number">10.184</span> Review/Study Questions<a href="references.html#reviewstudy-questions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="understanding-concepts-1" class="section level3 hasAnchor" number="10.184.1">
<h3><span class="header-section-number">10.184.1</span> Understanding Concepts<a href="references.html#understanding-concepts-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p><strong>What does a correlation coefficient tell us, and what does it NOT tell us?</strong> Explain why knowing that income growth and vote share have a correlation of 0.74 is useful but limited.</p></li>
<li><p><strong>Explain the difference between correlation and regression.</strong> If correlation tells us the strength of a relationship, what additional information does regression provide?</p></li>
<li><p><strong>What are residuals in a regression model?</strong> Using the economic voting example, explain what it means when an election has a large positive residual versus a large negative error term (sometimes called a residual).</p></li>
<li><p><strong>Why do we square the residuals when finding the best-fitting regression line?</strong> Give two reasons why the least squares criterion uses squared distances rather than absolute distances.</p></li>
</ol>
</div>
<div id="calculating-and-interpreting" class="section level3 hasAnchor" number="10.184.2">
<h3><span class="header-section-number">10.184.2</span> Calculating and Interpreting<a href="references.html#calculating-and-interpreting" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="5" style="list-style-type: decimal">
<li><p><strong>Manual Correlation Calculation</strong>: Given these three elections:</p>
<ul>
<li>1980: Income growth = -0.2%, Vote share = 44.7%</li>
<li>1984: Income growth = 6.0%, Vote share = 59.2%</li>
<li>1996: Income growth = 2.1%, Vote share = 54.9%</li>
</ul>
<p>Calculate which election contributes most to the <em>positive</em> correlation between income growth and vote share. Show your reasoning.</p></li>
<li><p><strong>Interpreting Regression Coefficients</strong>: Our model found Vote Share = 45.94 + 2.29 × Income Growth.</p>
<ul>
<li>What does the intercept of 45.94 mean in practical terms?</li>
<li>If income grows by 2.5% during a presidential term, what vote share would you predict?</li>
<li>Is the slope coefficient of 2.29 practically significant? Explain.</li>
</ul></li>
</ol>
</div>
<div id="working-with-r-1" class="section level3 hasAnchor" number="10.184.3">
<h3><span class="header-section-number">10.184.3</span> Working with R<a href="references.html#working-with-r-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="7" style="list-style-type: decimal">
<li><p><strong>Model Predictions</strong>: Using our regression model, write the R code to:</p>
<ul>
<li>Predict the vote share for income growth of 4%</li>
<li>Create a new prediction for a hypothetical “perfect storm” recession with -5% growth</li>
</ul></li>
</ol>
</div>
<div id="critical-thinking-5" class="section level3 hasAnchor" number="10.184.4">
<h3><span class="header-section-number">10.184.4</span> Critical Thinking<a href="references.html#critical-thinking-5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="8" style="list-style-type: decimal">
<li><p><strong>Model Limitations</strong>: Let’s say our model predicts that with 10% income growth, the incumbent party would receive about 68.8% of the vote.</p>
<ul>
<li>Why might this prediction be unreliable? (Think about extrapolating beyond our observed data.)</li>
<li>Name two factors other than the economy that could explain why some elections have large residuals.</li>
</ul></li>
</ol>

<div class="sourceCode" id="cb680"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb680-1"><a href="references.html#cb680-1" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
</div>
<div id="learning-objectives-17" class="section level2 hasAnchor" number="10.185">
<h2><span class="header-section-number">10.185</span> Learning Objectives<a href="references.html#learning-objectives-17" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>By the end of this module, you will be able to:</p>
<ol style="list-style-type: decimal">
<li>Understand what assumptions must hold for regression inference to be valid</li>
<li>Test whether relationships between variables are “statistically significant.”</li>
<li>Interpret key components of R’s regression output</li>
<li>Calculate and interpret confidence intervals for regression coefficients</li>
</ol>
</div>
<div id="why-do-we-need-inference-in-regression" class="section level2 hasAnchor" number="10.186">
<h2><span class="header-section-number">10.186</span> Why Do We Need Inference in Regression?<a href="references.html#why-do-we-need-inference-in-regression" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In our last module, we learned how to estimate regression lines. We discovered how to calculate the slope and intercept that best fit our data. We even applied this to a real question: does economic performance influence presidential elections? When we regressed incumbent vote share on GDP growth, we found a positive slope. Better economic performance seemed to predict better electoral outcomes for the incumbent party.</p>
<p>But finding a positive slope in our sample raises a crucial question we have not yet answered. Could this pattern have occurred just by random chance? If we had data from a different set of elections, would we find the same relationship? Or did we just get lucky with our particular data?</p>
<p>This is where statistical inference comes in. Inference allows us to move beyond describing our specific sample to making statements about the broader population. It helps us determine whether the patterns we observe are likely to be real relationships or just statistical noise.</p>
<p>Let us start by looking at what R tells us when we run a regression. Do not worry if you cannot interpret all of this yet. By the end of this module, you will understand every number in this output:</p>
<pre><code>## 
## Call:
## lm(formula = vote ~ rdi4, data = votes)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.6842 -3.7406 -0.2731  2.6357  7.5002 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  45.9385     1.6919  27.152 3.62e-14 ***
## rdi4          2.2906     0.5342   4.288 0.000648 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 3.765 on 15 degrees of freedom
## Multiple R-squared:  0.5507, Adjusted R-squared:  0.5207 
## F-statistic: 18.38 on 1 and 15 DF,  p-value: 0.0006477</code></pre>
<p>This output contains estimates, standard errors, t-statistics, p-values, and more. Each piece tells us something important about the relationship between economic performance and electoral outcomes. Let us learn how to read and interpret more of this information.</p>
</div>
<div id="quick-review-the-regression-line" class="section level2 hasAnchor" number="10.187">
<h2><span class="header-section-number">10.187</span> Quick Review: The Regression Line<a href="references.html#quick-review-the-regression-line" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s briefly review what we are estimating. The regression model describes a linear relationship between two variables:</p>
<p><span class="math display">\[Y_i = \alpha + \beta X_i + \epsilon_i\]</span></p>
<p>In this equation, <span class="math inline">\(Y_i\)</span> is our outcome (incumbent vote share for election <span class="math inline">\(i\)</span>), <span class="math inline">\(X_i\)</span> is our predictor (GDP growth for election <span class="math inline">\(i\)</span>), <span class="math inline">\(\alpha\)</span> is the intercept, <span class="math inline">\(\beta\)</span> is the slope, and <span class="math inline">\(\epsilon_i\)</span> is the error term that captures everything else affecting the outcome.</p>
<p>When we estimate this model using our data, we get:</p>
<p><span class="math display">\[\hat{Y}_i = \hat{\alpha} + \hat{\beta} X_i\]</span></p>
<p>The hats indicate these are estimates based on our sample. The intercept <span class="math inline">\(\hat{\alpha}\)</span> tells us the expected vote share when GDP growth equals zero. The slope <span class="math inline">\(\hat{\beta}\)</span> tells us how much vote share changes for each one percentage point increase in GDP growth.</p>
<p>Let us visualize this with our presidential elections data:</p>
<div class="sourceCode" id="cb682"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb682-1"><a href="references.html#cb682-1" tabindex="-1"></a><span class="co"># Create a scatterplot with regression line</span></span>
<span id="cb682-2"><a href="references.html#cb682-2" tabindex="-1"></a><span class="fu">ggplot</span>(votes, <span class="fu">aes</span>(<span class="at">x =</span> rdi4, <span class="at">y =</span> vote)) <span class="sc">+</span></span>
<span id="cb682-3"><a href="references.html#cb682-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">&quot;darkblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb682-4"><a href="references.html#cb682-4" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">TRUE</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;pink&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb682-5"><a href="references.html#cb682-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Economic Performance and Electoral Success&quot;</span>,</span>
<span id="cb682-6"><a href="references.html#cb682-6" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;US Presidential Elections 1948-2012&quot;</span>,</span>
<span id="cb682-7"><a href="references.html#cb682-7" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Real Disposable Income Growth (%)&quot;</span>,</span>
<span id="cb682-8"><a href="references.html#cb682-8" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Incumbent Party Vote Share (%)&quot;</span>) <span class="sc">+</span></span>
<span id="cb682-9"><a href="references.html#cb682-9" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb682-10"><a href="references.html#cb682-10" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>))</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="Course-Content_files/figure-html/plot-regression-1.png" width="672" /></p>
<p>The red line shows our estimated regression line. The shaded area represents uncertainty about where the true line might be. This uncertainty is what we need to quantify through statistical inference.</p>
</div>
<div id="our-estimates-vary-from-sample-to-sample" class="section level2 hasAnchor" number="10.188">
<h2><span class="header-section-number">10.188</span> Our Estimates Vary from Sample to Sample<a href="references.html#our-estimates-vary-from-sample-to-sample" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The uncertainty we are trying to quantify here is based on the idea that there is a fundamental “randomness” to our data. In a survey, this randomness might come from the sampling procedure. Extending that analogy, we can imagine that elections in our dataset are just one possible sample from a broader population of elections that could occur under similar democratic institutions. If history had unfolded slightly differently, we would have different elections with different economic conditions and outcomes.</p>
<p>This randomness is captured by the error term <span class="math inline">\(\epsilon_i\)</span> in our regression equation. These errors represent all the unpredictable factors that influence elections beyond economic growth: candidate quality, campaign strategies, unexpected scandals, international events, weather on election day, and countless other influences. Each election we observe represents one possible realization of these random factors. If we could rerun history with the same GDP growth values but different realizations of the random errors—different candidates, different campaign decisions, different news cycles—we would see different vote shares. This would lead to different estimates of
and when we fit our regression line.</p>
<p>This means our estimates <span class="math inline">\(\hat{\alpha}\)</span> and <span class="math inline">\(\hat{\beta}\)</span> are not fixed numbers. They are random variables that would take different values if we had different samples. If we could somehow replay history and get a different set of election results, we would get different estimates.</p>
<p>Statistical inference is all about understanding and quantifying this variation. How much might our estimates change from sample to sample? How confident can we be that our estimated slope is close to the true relationship? The key tool for answering these questions is the standard error.</p>
<p>The standard error tells us how much our estimate would typically vary if we could repeat our study many times with different samples. A small standard error means our estimate is precise; we would get similar estimates across different samples. A large standard error means our estimate is imprecise; different samples might give quite different estimates.</p>
</div>
<div id="the-gauss-markov-assumptions-simplified" class="section level2 hasAnchor" number="10.189">
<h2><span class="header-section-number">10.189</span> The Gauss-Markov Assumptions (Simplified)<a href="references.html#the-gauss-markov-assumptions-simplified" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For our statistical inference to be valid, we need certain conditions to hold. These are called the Gauss-Markov assumptions, named after the mathematicians who developed the theory. We will present a simplified version appropriate for our purposes.</p>
<p><strong>Assumption 1: Linearity.</strong> The relationship between X and Y follows a straight line. In our example, this means the effect of GDP growth on vote share is constant. A 1% increase in GDP growth has the same effect whether we are going from 0% to 1% or from 3% to 4%.</p>
<p><strong>Assumption 2: Zero mean of errors.</strong> On average, our errors equal zero. This means we are not systematically over-predicting or under-predicting. Our regression line goes through the center of the data cloud.</p>
<p><strong>Assumption 3: Variation in X.</strong> We need different values of our predictor variable. We cannot learn about the effect of GDP growth if growth was exactly 2% in every election. Fortunately, economic performance varies considerably across elections.</p>
<p><strong>Assumption 4: Independence of errors.</strong> The error in predicting one election does not affect errors in other elections. Knowing that we over-predicted vote share in 1992 tells us nothing about whether we will over or under-predict in 1996.</p>
<p><strong>Assumption 5: Constant variance (Homoscedasticity).</strong> The spread of points around the regression line is roughly the same whether GDP growth is high or low. The uncertainty in our predictions does not systematically change across different values of X.</p>
<p>Let us visualize what happens when these assumptions are violated:</p>
<p><img src="Course-Content_files/figure-html/assumption-violations-1.png" width="672" /></p>
<p>When these assumptions hold reasonably well, we can trust our statistical inference. When they are severely violated, we need to be more cautious about our conclusions.</p>
</div>
<div id="testing-whether-the-slope-is-real-the-t-statistic" class="section level2 hasAnchor" number="10.190">
<h2><span class="header-section-number">10.190</span> Testing Whether the Slope is Real: The t-statistic<a href="references.html#testing-whether-the-slope-is-real-the-t-statistic" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now we come to one of the most important questions in regression analysis: is there really a relationship between our variables, or could the pattern we see be due to random chance?</p>
<p>To answer this, we use hypothesis testing. Our null hypothesis is that there is no relationship between GDP growth and vote share:</p>
<p><span class="math display">\[H_0: \beta = 0\]</span></p>
<p>Our alternative hypothesis is that there is a relationship:</p>
<p><span class="math display">\[H_a: \beta \neq 0\]</span></p>
<p>To test this hypothesis, we calculate a t-statistic:</p>
<p><span class="math display">\[t = \frac{\hat{\beta}}{SE(\hat{\beta})}\]</span></p>
<p>This formula tells us how many standard errors our estimated slope is away from zero. The intuition is straightforward. If our estimate is many standard errors away from zero, it would be very unlikely to get such an estimate if the true slope were actually zero.</p>
<p>A rule of thumb: if the absolute value of t is greater than 2, the result is usually statistically significant at the 0.05 level. This is because, with reasonable sample sizes, values more than 2 standard errors from zero occur less than 5% of the time by chance.</p>
<p>Let us calculate this for our data:</p>
<div class="sourceCode" id="cb684"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb684-1"><a href="references.html#cb684-1" tabindex="-1"></a><span class="co"># Get the coefficient information</span></span>
<span id="cb684-2"><a href="references.html#cb684-2" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(vote <span class="sc">~</span> rdi4, <span class="at">data =</span> votes)</span>
<span id="cb684-3"><a href="references.html#cb684-3" tabindex="-1"></a><span class="fu">summary</span>(model)<span class="sc">$</span>coefficients</span></code></pre></div>
<pre><code>##              Estimate Std. Error   t value     Pr(&gt;|t|)
## (Intercept) 45.938538  1.6919240 27.151656 3.619493e-14
## rdi4         2.290562  0.5342247  4.287639 6.477151e-04</code></pre>
<p>Looking at the rdi4 row, we can see the t-value is quite large (greater than 2 in absolute value), suggesting strong evidence against the null hypothesis of no relationship.</p>
</div>
<div id="understanding-p-values" class="section level2 hasAnchor" number="10.191">
<h2><span class="header-section-number">10.191</span> Understanding p-values<a href="references.html#understanding-p-values" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The p-value gives us a more precise measure of the evidence against the null hypothesis. In the output, it is shown on the far right column with the name <code>Pr(&gt;|t|)</code>. It answers the question: if there were truly no relationship between GDP growth and vote share, what is the probability we would see a relationship as strong as (or stronger than) what we observed?</p>
<p>A small p-value means our observed relationship would be very unlikely if there were truly no relationship. By convention, we often use 0.05 as a threshold. If p &lt; 0.05, we say the result is “statistically significant” and reject the null hypothesis.</p>
<p>Several factors affect p-values:</p>
<ul>
<li><p>First, effect size matters. Larger effects (bigger slopes) lead to smaller p-values, all else equal. A relationship where GDP growth changes vote share by 2 percentage points will have a smaller p-value than one where it changes vote share by 0.1 percentage points.</p></li>
<li><p>Second, precision matters. More precise estimates (smaller standard errors) lead to smaller p-values. This is why the t-statistic divides the estimate by its standard error.</p></li>
<li><p>Third, sample size matters. More data leads to more precise estimates (smaller standard errors), which leads to smaller p-values. This is why large studies can find “significant” effects that are practically tiny.</p></li>
</ul>
<p>It is <strong>very important</strong> to note that the p-value we are interested in (and there will be one for each regression term) is located in the column labeled <code>Pr(&gt;|t|)</code>. There is another p-value in the output that looks like this.</p>
<div class="sourceCode" id="cb686"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb686-1"><a href="references.html#cb686-1" tabindex="-1"></a><span class="do">## F-statistic: 18.38 on 1 and 15 DF,  p-value: 0.0006477</span></span></code></pre></div>
<p>This is not (always) the same thing, and is related to a test of the overall model fit. So don’t get confused! (We will come back to this issue next class.)</p>
</div>
<div id="lets-read-real-r-output-together" class="section level2 hasAnchor" number="10.192">
<h2><span class="header-section-number">10.192</span> Let’s Read Real R Output Together<a href="references.html#lets-read-real-r-output-together" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now we are ready to fully interpret regression output. Let us run our regression and examine each piece:</p>
<div class="sourceCode" id="cb687"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb687-1"><a href="references.html#cb687-1" tabindex="-1"></a><span class="co"># Run the regression</span></span>
<span id="cb687-2"><a href="references.html#cb687-2" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(vote <span class="sc">~</span> rdi4, <span class="at">data =</span> votes)</span>
<span id="cb687-3"><a href="references.html#cb687-3" tabindex="-1"></a></span>
<span id="cb687-4"><a href="references.html#cb687-4" tabindex="-1"></a><span class="co"># Display the full output</span></span>
<span id="cb687-5"><a href="references.html#cb687-5" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = vote ~ rdi4, data = votes)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.6842 -3.7406 -0.2731  2.6357  7.5002 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  45.9385     1.6919  27.152 3.62e-14 ***
## rdi4          2.2906     0.5342   4.288 0.000648 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 3.765 on 15 degrees of freedom
## Multiple R-squared:  0.5507, Adjusted R-squared:  0.5207 
## F-statistic: 18.38 on 1 and 15 DF,  p-value: 0.0006477</code></pre>
<p>Let us walk through the coefficients table line by line:</p>
<p><strong>The (Intercept) row:</strong></p>
<ul>
<li><em>Estimate</em>: This is <span class="math inline">\(\hat{\alpha}\)</span>, the expected incumbent vote share when GDP growth equals zero. In our data, it is about 46.3%, meaning incumbents typically lose when there is zero economic growth.</li>
<li><em>Std. Error</em>: This tells us how precisely we estimated the intercept. A smaller value means more precision.</li>
<li><em>t value</em>: This tests whether the intercept equals zero. Usually we are not interested in this test.</li>
<li><em>Pr(&gt;|t|)</em>: The p-value for testing if the intercept equals zero.</li>
</ul>
<p><strong>The rdi4 row (this is our main focus):</strong></p>
<ul>
<li><em>Estimate</em>: This is <span class="math inline">\(\hat{\beta}\)</span>, telling us that each 1% increase in income growth increases incumbent vote share by about 2.29 percentage points.</li>
<li><em>Std. Error</em>: The precision of our slope estimate. Here it is about 0.16, meaning our estimate is fairly precise.</li>
<li><em>t value</em>: Our key test statistic. At 6.97, it is much larger than 2, providing strong evidence against the null hypothesis.</li>
<li><em>Pr(&gt;|t|)</em>: The p-value is extremely small (1.66e-08), far below 0.05. We have very strong statistical evidence for a relationship.</li>
<li><em>Stars</em>: Visual aids where *** means p &lt; 0.001, ** means p &lt; 0.01, and * means p &lt; 0.05.</li>
</ul>
<p>The bottom of the output shows additional information including the residual standard error and degrees of freedom, which we will discuss more in future modules.</p>
</div>
<div id="standard-errors-where-do-they-come-from" class="section level2 hasAnchor" number="10.193">
<h2><span class="header-section-number">10.193</span> Standard Errors: Where Do They Come From?<a href="references.html#standard-errors-where-do-they-come-from" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Understanding what affects standard errors helps us design better studies and interpret results more thoughtfully. The standard error of the slope depends on three main factors:</p>
<p><strong>Sample size (n).</strong> More observations lead to smaller standard errors and more precise estimates. This is why researchers always want more data. Doubling the sample size roughly cuts the standard error by <span class="math inline">\(\sqrt{2}\)</span>.</p>
<p><strong>Variation in X.</strong> More variation in our predictor variable leads to smaller standard errors. If GDP growth ranges from -5% to +10%, we will get more precise estimates than if it only ranges from 1% to 3%. We learn more about the relationship when we see X take many different values.</p>
<p><strong>Unexplained variation.</strong> Less scatter around the regression line leads to smaller standard errors. If other factors create a lot of noise in the relationship, our estimates become less precise.</p>
<p>We can express this conceptually as:</p>
<p><span class="math display">\[SE(\hat{\beta}) \approx \frac{\text{unexplained variation}}{\text{variation in X} \times \sqrt{n}}\]</span></p>
<p>This formula, while simplified, captures the essential intuition. It explains why some studies find significant results while others studying the same question do not. A study with more data, more variation in the predictor, or less noise will have more power to detect relationships.</p>
</div>
<div id="confidence-intervals-a-range-of-plausible-values" class="section level2 hasAnchor" number="10.194">
<h2><span class="header-section-number">10.194</span> Confidence Intervals: A Range of Plausible Values<a href="references.html#confidence-intervals-a-range-of-plausible-values" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While hypothesis tests tell us whether we can reject the null hypothesis, confidence intervals give us more information. They provide a range of plausible values for the population parameter.</p>
<p>The interpretation is subtle but important. If we were to repeat our study many times with different samples, 95% of the confidence intervals calculated this way would contain the true population parameter <span class="math inline">\(\beta\)</span>.</p>
<p>Let us calculate the confidence interval for our economic voting example:</p>
<div class="sourceCode" id="cb689"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb689-1"><a href="references.html#cb689-1" tabindex="-1"></a><span class="co"># Get confidence intervals</span></span>
<span id="cb689-2"><a href="references.html#cb689-2" tabindex="-1"></a><span class="fu">confint</span>(model)</span></code></pre></div>
<pre><code>##                2.5 %    97.5 %
## (Intercept) 42.33229 49.544789
## rdi4         1.15189  3.429235</code></pre>
<p>For the slope (rdi4), the 95% confidence interval runs from about 1.15 to 3.43. Notice that this interval does not include zero. This is another way to see that our result is statistically significant at the 0.05 level. If the confidence interval includes zero, we cannot reject the null hypothesis. If it excludes zero, we can reject the null.</p>
</div>
<div id="from-statistics-to-substance" class="section level2 hasAnchor" number="10.195">
<h2><span class="header-section-number">10.195</span> From Statistics to Substance<a href="references.html#from-statistics-to-substance" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Finding statistical significance is not the end of our analysis. We must always ask whether the effect size is substantively meaningful. Statistical significance tells us the relationship is probably not due to chance. Substantive significance tells us whether the relationship matters in the real world.</p>
<p>In our economic voting example, we found that each 1% increase in income growth increases incumbent vote share by about 2.29 percentage points. Is this a meaningful effect?</p>
<p>To answer this, consider the range of economic growth in typical elections. GDP growth in our data ranges from about -4% during severe recessions to +7% during economic booms. The difference between a bad economy (-2%) and a good economy (+4%) is 6 percentage points of growth. Our model suggests this would translate to about 13.7 percentage points in vote share (6 × 2.29).</p>
<p>Given that many presidential elections are decided by margins of less than 5 percentage points, a 13.7 point swing is politically substantial. Most presidential elections are decided by much less! So while economic growth explains only part of electoral outcomes, the part it explains is large enough to swing close elections.</p>
</div>
<div id="reading-comprehension-questions" class="section level2 hasAnchor" number="10.196">
<h2><span class="header-section-number">10.196</span> Reading Comprehension Questions<a href="references.html#reading-comprehension-questions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li><p><strong>Understanding the Basics</strong>: If our regression gives us <span class="math inline">\(\hat{\alpha} = 48\)</span> and <span class="math inline">\(\hat{\beta} = 0.7\)</span>, what is the predicted incumbent vote share when GDP growth is 3%?</p></li>
<li><p><strong>Interpreting t-statistics</strong>: You run a regression and find a slope coefficient of 1.1 with a standard error of 0.5. What is the t-statistic? Based on the rule of thumb, is this likely to be statistically significant?</p></li>
<li><p><strong>Understanding p-values</strong>: If you get a p-value of 0.03 for your slope coefficient, what does this tell you? What would you conclude about the null hypothesis at the 0.05 significance level?</p></li>
<li><p><strong>Assumptions:</strong> A researcher studying campaign spending finds that the first $100,000 has large effects on vote share, but additional spending has diminishing returns. Which Gauss-Markov assumption might be violated here and why?</p></li>
<li><p><strong>Confidence Intervals</strong>: A regression of vote share on GDP growth gives a slope of 0.6 with a 95% confidence interval of [0.2, 1.0].</p>
<ul>
<li>Can we reject the null hypothesis that β = 0? How do you know?</li>
<li>What does this interval tell us about the relationship?</li>
</ul></li>
<li><p><strong>Standard Errors</strong>: You have two studies of economic voting. Study A uses 20 elections, Study B uses 100 elections. Both find the same slope estimate. All else equal, which study will likely have the smaller standard error and why?</p></li>
<li><p><strong>Substantive Significance</strong>: A study finds that each additional $1 million in campaign spending increases vote share by 0.01 percentage points (p &lt; 0.001). The result is highly statistically significant. Should a candidate be excited about this finding? Why or why not?</p></li>
</ol>

<div class="sourceCode" id="cb691"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb691-1"><a href="references.html#cb691-1" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div id="learning-objectives-18" class="section level2 hasAnchor" number="10.197">
<h2><span class="header-section-number">10.197</span> Learning Objectives<a href="references.html#learning-objectives-18" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>By the end of this module, you will be able to:</p>
<ol style="list-style-type: decimal">
<li>Understand the concept of confounding and why we need to control for other variables</li>
<li>Interpret coefficients in multiple regression models where we include control variables</li>
<li>Read and interpret standard regression output from R, focusing on coefficients, standard errors, t-statistics, and p-values</li>
<li>Explain how adding control variables can change our conclusions about relationships</li>
</ol>
</div>
<div id="what-is-this-for-14" class="section level2 hasAnchor" number="10.198">
<h2><span class="header-section-number">10.198</span> What Is This For?<a href="references.html#what-is-this-for-14" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In our previous modules on correlation and regression, we learned how to measure and describe relationships between two variables. We discovered, for example, that economic growth predicts incumbent vote share in presidential elections. But finding a relationship between two variables raises an important question we have not yet fully addressed: is this relationship causal, or could it be explained by other factors?</p>
<p>Consider a concrete example. Suppose we find that older Americans express warmer feelings toward Donald Trump on feeling thermometer scales. Does age directly cause these warmer feelings? Or could this relationship be explained by something else? Perhaps older Americans are more likely to identify as Republicans, and it is really party identification driving feelings toward Trump, not age itself.</p>
<p>This is the problem of confounding. A confounder is a variable that influences both our predictor and our outcome, creating the appearance of a relationship that might not reflect a direct causal connection. If we want to understand whether age truly predicts Trump evaluations, we need to account for party identification. In statistical language, we need to “control for” party ID.</p>
<p>Multiple regression gives us a tool to address confounding by including additional variables in our model. Instead of just regressing Trump thermometer scores on age, we can regress Trump scores on age while simultaneously accounting for party identification. This allows us to better estimate the relationship between age and Trump evaluations among people with the same party identification, effectively removing the confounding influence of partisanship. There may may still be <em>other</em> confounders, but at least we hav partially addressed the confounder of partisanship.</p>
<p>This module introduces multiple regression as a method for controlling confounders. We will learn how to include multiple predictors in a regression model, how to interpret the resulting coefficients, and how to read the standard regression output that R provides. These skills are essential for conducting credible empirical research in political science, where confounding is ubiquitous and careful analysis requires accounting for alternative explanations.</p>
</div>
<div id="the-problem-of-confounding" class="section level2 hasAnchor" number="10.199">
<h2><span class="header-section-number">10.199</span> The Problem of Confounding<a href="references.html#the-problem-of-confounding" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Before we dive into the statistics, let us build intuition about confounding using a simple example that has nothing to do with politics.</p>
<div id="an-intuitive-example-cars-weight-and-fuel-efficiency" class="section level3 hasAnchor" number="10.199.1">
<h3><span class="header-section-number">10.199.1</span> An Intuitive Example: Cars, Weight, and Fuel Efficiency<a href="references.html#an-intuitive-example-cars-weight-and-fuel-efficiency" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Consider the relationship between a car’s weight and its fuel efficiency (miles per gallon). Heavier cars tend to get worse gas mileage. We can see this relationship using the classic mtcars dataset, which contains data on 32 different car models from the 1970s:</p>
<div class="sourceCode" id="cb692"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb692-1"><a href="references.html#cb692-1" tabindex="-1"></a><span class="co"># Load the mtcars data (built into R)</span></span>
<span id="cb692-2"><a href="references.html#cb692-2" tabindex="-1"></a><span class="fu">data</span>(mtcars)</span>
<span id="cb692-3"><a href="references.html#cb692-3" tabindex="-1"></a></span>
<span id="cb692-4"><a href="references.html#cb692-4" tabindex="-1"></a><span class="co"># Look at the first few rows</span></span>
<span id="cb692-5"><a href="references.html#cb692-5" tabindex="-1"></a><span class="fu">head</span>(mtcars)</span></code></pre></div>
<pre><code>##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<div class="sourceCode" id="cb694"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb694-1"><a href="references.html#cb694-1" tabindex="-1"></a><span class="co"># Simple regression: mpg predicted by weight</span></span>
<span id="cb694-2"><a href="references.html#cb694-2" tabindex="-1"></a>model_simple <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> wt, <span class="at">data =</span> mtcars)</span>
<span id="cb694-3"><a href="references.html#cb694-3" tabindex="-1"></a><span class="fu">summary</span>(model_simple)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ wt, data = mtcars)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.5432 -2.3647 -0.1252  1.4096  6.8727 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  37.2851     1.8776  19.858  &lt; 2e-16 ***
## wt           -5.3445     0.5591  -9.559 1.29e-10 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 3.046 on 30 degrees of freedom
## Multiple R-squared:  0.7528, Adjusted R-squared:  0.7446 
## F-statistic: 91.38 on 1 and 30 DF,  p-value: 1.294e-10</code></pre>
<p>The coefficient on weight is about -5.3, meaning that for each additional 1,000 pounds of weight, fuel efficiency decreases by about 5.3 miles per gallon. This seems straightforward: heavier cars use more fuel.</p>
<p>But wait. What makes cars heavier? Often, it is a more powerful engine. Cars with bigger engines weigh more AND consume more fuel because the engine itself burns more gasoline. This means engine size could be a confounder. Let us visualize this:</p>
<div class="sourceCode" id="cb696"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb696-1"><a href="references.html#cb696-1" tabindex="-1"></a><span class="co"># Visualize the relationship, coloring by horsepower</span></span>
<span id="cb696-2"><a href="references.html#cb696-2" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x =</span> wt, <span class="at">y =</span> mpg, <span class="at">color =</span> hp)) <span class="sc">+</span></span>
<span id="cb696-3"><a href="references.html#cb696-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb696-4"><a href="references.html#cb696-4" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb696-5"><a href="references.html#cb696-5" tabindex="-1"></a>  <span class="fu">scale_color_gradient</span>(<span class="at">low =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">high =</span> <span class="st">&quot;orange&quot;</span>) <span class="sc">+</span></span>
<span id="cb696-6"><a href="references.html#cb696-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Weight (1000 lbs)&quot;</span>,</span>
<span id="cb696-7"><a href="references.html#cb696-7" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Miles Per Gallon&quot;</span>,</span>
<span id="cb696-8"><a href="references.html#cb696-8" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&quot;Horsepower&quot;</span>,</span>
<span id="cb696-9"><a href="references.html#cb696-9" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Weight, Engine Power, and Fuel Efficiency&quot;</span>,</span>
<span id="cb696-10"><a href="references.html#cb696-10" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Heavier cars tend to have more powerful engines (orange)&quot;</span>) <span class="sc">+</span></span>
<span id="cb696-11"><a href="references.html#cb696-11" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-277-1.png" width="672" /></p>
<p>Notice how the orange points (high horsepower) cluster in the bottom right. Heavy cars tend to have powerful engines, and both weight and horsepower reduce fuel efficiency. This is confounding in action.</p>
<p>When we ignore horsepower and just look at the weight-MPG relationship, we are mixing together two effects: the direct effect of weight on fuel consumption, and the indirect effect that heavier cars have bigger engines. If we want to isolate the direct effect of weight, we need to control for horsepower.</p>
</div>
<div id="what-does-controlling-for-mean" class="section level3 hasAnchor" number="10.199.2">
<h3><span class="header-section-number">10.199.2</span> What Does “Controlling For” Mean?<a href="references.html#what-does-controlling-for-mean" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When we say we are controlling for a variable, we mean we are trying to compare observations that are similar on that variable. In our car example, controlling for horsepower means we are comparing cars with similar engine power to see how weight affects fuel efficiency among that group.</p>
<p>Think of it this way. If we compare a lightweight car with a small engine to a heavy car with a large engine, we cannot tell whether the difference in fuel efficiency is due to weight, engine size, or both. But if we compare two cars with the same horsepower where one weighs more, then we are isolating the effect of weight.</p>
<p>Multiple regression accomplishes this by simultaneously estimating the relationship between fuel efficiency and weight while accounting for differences in horsepower. It effectively asks: “Among cars with the same horsepower, how does weight relate to fuel efficiency?”</p>
<p>There are several ways to describe what controlling for a variable does. All of these phrases mean essentially the same thing:</p>
<ul>
<li>We are holding the control variable constant</li>
<li>We are removing the influence of the control variable</li>
<li>We are making observations comparable on the control variable</li>
<li>We are adjusting for the control variable</li>
<li>We are partialling out the effect of the control variable</li>
<li>We are blocking alternative explanations through the control variable</li>
</ul>
<p>These are all different ways of expressing the same core idea: we are trying to isolate the relationship between our predictor of interest and the outcome by accounting for other variables that might create spurious associations.</p>
</div>
</div>
<div id="multiple-regression-the-model" class="section level2 hasAnchor" number="10.200">
<h2><span class="header-section-number">10.200</span> Multiple Regression: The Model<a href="references.html#multiple-regression-the-model" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Multiple regression extends simple bivariate regression by including additional predictor variables. The mathematical model looks like this:</p>
<p><span class="math display">\[Y_i = \alpha + \beta_1 X_{1i} + \beta_2 X_{2i} + \epsilon_i\]</span></p>
<p>Let us break down what this notation means:</p>
<ul>
<li><span class="math inline">\(Y_i\)</span> is the outcome for observation <span class="math inline">\(i\)</span> (fuel efficiency for car <span class="math inline">\(i\)</span>)</li>
<li><span class="math inline">\(X_{1i}\)</span> is the first predictor for observation <span class="math inline">\(i\)</span> (weight of car <span class="math inline">\(i\)</span>)</li>
<li><span class="math inline">\(X_{2i}\)</span> is the second predictor for observation <span class="math inline">\(i\)</span> (horsepower of car <span class="math inline">\(i\)</span>)</li>
<li><span class="math inline">\(\alpha\)</span> is the intercept (expected fuel efficiency when both weight and horsepower equal zero)</li>
<li><span class="math inline">\(\beta_1\)</span> is the coefficient on the first predictor (effect of weight, holding horsepower constant)</li>
<li><span class="math inline">\(\beta_2\)</span> is the coefficient on the second predictor (effect of horsepower, holding weight constant)</li>
<li><span class="math inline">\(\epsilon_i\)</span> is the error term (all other factors affecting fuel efficiency)</li>
</ul>
<p>The key insight is in how we interpret the coefficients. In bivariate regression, <span class="math inline">\(\beta\)</span> told us how much <span class="math inline">\(Y\)</span> changes for a one-unit increase in <span class="math inline">\(X\)</span>. In multiple regression, <span class="math inline">\(\beta_1\)</span> tells us how much <span class="math inline">\(Y\)</span> changes for a one-unit increase in <span class="math inline">\(X_1\)</span> while holding <span class="math inline">\(X_2\)</span> constant. This “holding constant” phrase is crucial. It means we are comparing observations with the same value of <span class="math inline">\(X_2\)</span>.</p>
<p>Just like in simple regression, we estimate these coefficients using ordinary least squares. The computer finds the values of <span class="math inline">\(\alpha\)</span>, <span class="math inline">\(\beta_1\)</span>, and <span class="math inline">\(\beta_2\)</span> that minimize the sum of squared residuals. The only difference is that now we are fitting a plane through a three-dimensional space rather than a line through a two-dimensional space. But the underlying principle is the same: find the model that makes the smallest prediction errors.</p>
</div>
<div id="multiple-regression-in-r-the-mtcars-example" class="section level2 hasAnchor" number="10.201">
<h2><span class="header-section-number">10.201</span> Multiple Regression in R: The mtcars Example<a href="references.html#multiple-regression-in-r-the-mtcars-example" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let us fit a multiple regression model to our car data, including both weight and horsepower as predictors:</p>
<div class="sourceCode" id="cb698"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb698-1"><a href="references.html#cb698-1" tabindex="-1"></a><span class="co"># Multiple regression: mpg predicted by weight AND horsepower</span></span>
<span id="cb698-2"><a href="references.html#cb698-2" tabindex="-1"></a>model_multiple <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> wt <span class="sc">+</span> hp, <span class="at">data =</span> mtcars)</span>
<span id="cb698-3"><a href="references.html#cb698-3" tabindex="-1"></a><span class="fu">summary</span>(model_multiple)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = mpg ~ wt + hp, data = mtcars)
## 
## Residuals:
##    Min     1Q Median     3Q    Max 
## -3.941 -1.600 -0.182  1.050  5.854 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 37.22727    1.59879  23.285  &lt; 2e-16 ***
## wt          -3.87783    0.63273  -6.129 1.12e-06 ***
## hp          -0.03177    0.00903  -3.519  0.00145 ** 
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 2.593 on 29 degrees of freedom
## Multiple R-squared:  0.8268, Adjusted R-squared:  0.8148 
## F-statistic: 69.21 on 2 and 29 DF,  p-value: 9.109e-12</code></pre>
<p>This output contains a wealth of information. Let us focus on the most important parts for now: the coefficients table.</p>
<div id="reading-the-coefficients-table" class="section level3 hasAnchor" number="10.201.1">
<h3><span class="header-section-number">10.201.1</span> Reading the Coefficients Table<a href="references.html#reading-the-coefficients-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The coefficients table shows four key pieces of information for each variable:</p>
<ol style="list-style-type: decimal">
<li><strong>Estimate</strong>: This is the coefficient itself, the <span class="math inline">\(\beta\)</span> values from our equation</li>
<li><strong>Std. Error</strong>: This measures the uncertainty in our estimate</li>
<li><strong>t value</strong>: This is the test statistic for whether the coefficient differs from zero</li>
<li><strong>Pr(&gt;|t|)</strong>: This is the p-value for the hypothesis test</li>
</ol>
<p>Let us interpret each row:</p>
<p><strong>The intercept</strong> (37.23): This tells us that a car with zero weight and zero horsepower would have a predicted fuel efficiency of 37.23 mpg. This is not particularly meaningful in practice because no car has zero weight or horsepower. The intercept is often not the focus of our interpretation.</p>
<p><strong>The weight coefficient</strong> (-3.88): This is the key finding we care about. It tells us that for each additional 1,000 pounds of weight, fuel efficiency decreases by 3.88 miles per gallon, holding horsepower constant. Notice that this coefficient is less negative than the -5.3 we found in the bivariate model. Why? Because part of the weight effect in the simple model was actually due to heavier cars having more powerful engines. When we control for horsepower, the weight effect is smaller.</p>
<p><strong>The horsepower coefficient</strong> (-0.032): This tells us that for each additional unit of horsepower, fuel efficiency decreases by 0.032 miles per gallon, holding weight constant. Put differently, a car with 100 more horsepower gets about 3.2 fewer miles per gallon, comparing cars of the same weight.</p>
<p>Both coefficients have very small p-values (look at the Pr(&gt;|t|) column), indicating strong evidence that these relationships are not due to random chance.</p>
<p>Note that there is one p-value for each coefficient. We are probably not interested in all of them, and in this case we really are only interested in the one in the <code>wt</code> column. This one is very small (<span class="math inline">\(1.12 \times 10^{-6} = \frac{1.12}{1,000,000}\)</span>).</p>
</div>
<div id="comparing-the-models" class="section level3 hasAnchor" number="10.201.2">
<h3><span class="header-section-number">10.201.2</span> Comparing the Models<a href="references.html#comparing-the-models" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let us compare the coefficient on weight across our two models:</p>
<div class="sourceCode" id="cb700"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb700-1"><a href="references.html#cb700-1" tabindex="-1"></a><span class="co"># Simple model coefficient on weight</span></span>
<span id="cb700-2"><a href="references.html#cb700-2" tabindex="-1"></a><span class="fu">coef</span>(model_simple)[<span class="st">&quot;wt&quot;</span>]</span></code></pre></div>
<pre><code>##        wt 
## -5.344472</code></pre>
<div class="sourceCode" id="cb702"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb702-1"><a href="references.html#cb702-1" tabindex="-1"></a><span class="co"># Multiple model coefficient on weight</span></span>
<span id="cb702-2"><a href="references.html#cb702-2" tabindex="-1"></a><span class="fu">coef</span>(model_multiple)[<span class="st">&quot;wt&quot;</span>]</span></code></pre></div>
<pre><code>##        wt 
## -3.877831</code></pre>
<p>The weight coefficient changed from -5.34 in the simple model to -3.88 in the multiple model. This change happened because we controlled for horsepower. In the simple model, the weight coefficient was capturing both the direct effect of weight AND the indirect effect that heavier cars have bigger engines. In the multiple model, we have separated these effects.</p>
<p>This demonstrates a crucial point: the relationship we observe between two variables can change when we account for confounders. Sometimes controlling for confounders makes relationships weaker, sometimes stronger, and sometimes relationships disappear entirely. This is why multiple regression is so important for understanding relationships in observational data.</p>
</div>
</div>
<div id="application-to-political-science-trump-thermometer-scores" class="section level2 hasAnchor" number="10.202">
<h2><span class="header-section-number">10.202</span> Application to Political Science: Trump Thermometer Scores<a href="references.html#application-to-political-science-trump-thermometer-scores" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now let us apply these concepts to a real political science question. We will use data from the 2020 American National Election Study to investigate how age relates to feelings toward Donald Trump.</p>
<p>One argument is that age will have a strong relationship, since older voters were so much more supportive of President Trump relative to young voters. But just like in our cars example above, there is the chance of confounding. Older voters are also more likely to be Republican. Could it be that the relationship between age and Trump support is simiply a result of party affiliation? Maybe age actually has no direct relationship at all!</p>
<p>To test this, we will need run a regression where we “control” for partisanship.</p>
<div id="loading-and-preparing-the-data" class="section level3 hasAnchor" number="10.202.1">
<h3><span class="header-section-number">10.202.1</span> Loading and Preparing the Data<a href="references.html#loading-and-preparing-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To get started, we need to get our data ready.</p>
<div class="sourceCode" id="cb704"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb704-1"><a href="references.html#cb704-1" tabindex="-1"></a><span class="co"># Load the ANES 2020 data</span></span>
<span id="cb704-2"><a href="references.html#cb704-2" tabindex="-1"></a>anes <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;anes2020.csv&quot;</span>)</span>
<span id="cb704-3"><a href="references.html#cb704-3" tabindex="-1"></a></span>
<span id="cb704-4"><a href="references.html#cb704-4" tabindex="-1"></a><span class="co"># Examine the structure</span></span>
<span id="cb704-5"><a href="references.html#cb704-5" tabindex="-1"></a><span class="fu">glimpse</span>(anes)</span></code></pre></div>
<pre><code>## Rows: 8,280
## Columns: 12
## $ rid      &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, …
## $ age      &lt;int&gt; 46, 37, 40, 41, 72, 71, 37, 45, 70, 43, 37, 55, 30, 38, 41, 66, 54, 55, 62, 80,…
## $ race     &lt;int&gt; 3, 4, 1, 4, 5, 1, 1, 1, 1, 3, 3, 1, 1, 4, 2, 3, 1, 1, 1, 1, 3, 3, 1, 1, 3, 1, 1…
## $ latino   &lt;int&gt; 1, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 1, 1, 2, 2, 1, 2, 2…
## $ vote12   &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 2, 1, 2, 1, 1, 2, 1, 1, 1, 1, 2, 1, 2, 1, 2, 1, 1…
## $ vote16   &lt;int&gt; 1, 1, 1, 1, 1, 2, 1, 2, NA, NA, NA, 1, 2, NA, 2, NA, 1, NA, NA, 1, NA, NA, 1, N…
## $ media    &lt;int&gt; 2, 3, 1, 3, 2, 2, 3, 4, 3, 2, 4, 3, 1, 1, 3, 2, 2, 2, 2, 2, 2, 3, 2, 3, 3, 3, 2…
## $ partyid  &lt;int&gt; 2, 5, 3, 2, 3, 3, 2, 2, 3, 1, 1, 1, 2, 1, 3, 3, 3, 1, 1, 1, 2, 1, 3, 2, 1, 1, 3…
## $ income   &lt;int&gt; 21, 13, 17, 7, 22, 3, 4, 3, 10, 11, 9, 18, 1, 21, 3, 7, 22, 20, NA, 5, 12, 6, 2…
## $ obama.th &lt;int&gt; 0, 50, 90, 85, 10, 60, 15, 50, 60, 100, 100, 85, 0, 100, 85, 0, 85, 100, 100, 1…
## $ trump.th &lt;int&gt; 100, 0, 0, 15, 85, 0, 75, 100, 0, 0, 0, 0, 100, 0, 40, 100, 0, 0, 15, 15, 95, 0…
## $ biden.th &lt;int&gt; 0, 0, 65, 70, 15, 85, 50, 50, 85, 85, 100, 60, 0, 85, 60, 0, 60, 85, 85, 70, 0,…</code></pre>
<p>Our key variables are:</p>
<ul>
<li><code>trump.th</code>: Feeling thermometer for Donald Trump (0-100 scale, where 0 is very cold/negative and 100 is very warm/positive)</li>
<li><code>age</code>: Age of respondent in years</li>
<li><code>partyid</code>: Party identification (1=Democrat, 2=Republican, 3=Independent, 5=Other party)</li>
</ul>
<p>We need to prepare our data by creating dummy variables for party identification. A dummy variable takes the value 1 if a condition is true and 0 otherwise. We will create two dummy variables:</p>
<div class="sourceCode" id="cb706"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb706-1"><a href="references.html#cb706-1" tabindex="-1"></a><span class="co"># Create party ID dummy variables</span></span>
<span id="cb706-2"><a href="references.html#cb706-2" tabindex="-1"></a>anes <span class="ot">&lt;-</span> anes <span class="sc">%&gt;%</span></span>
<span id="cb706-3"><a href="references.html#cb706-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb706-4"><a href="references.html#cb706-4" tabindex="-1"></a>    <span class="at">Democrat =</span> <span class="fu">ifelse</span>(partyid <span class="sc">==</span> <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb706-5"><a href="references.html#cb706-5" tabindex="-1"></a>    <span class="at">Republican =</span> <span class="fu">ifelse</span>(partyid <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb706-6"><a href="references.html#cb706-6" tabindex="-1"></a>  )</span>
<span id="cb706-7"><a href="references.html#cb706-7" tabindex="-1"></a></span>
<span id="cb706-8"><a href="references.html#cb706-8" tabindex="-1"></a><span class="co"># Check our new variables</span></span>
<span id="cb706-9"><a href="references.html#cb706-9" tabindex="-1"></a><span class="fu">table</span>(anes<span class="sc">$</span>Democrat)</span></code></pre></div>
<pre><code>## 
##    0    1 
## 5366 2865</code></pre>
<div class="sourceCode" id="cb708"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb708-1"><a href="references.html#cb708-1" tabindex="-1"></a><span class="fu">table</span>(anes<span class="sc">$</span>Republican)</span></code></pre></div>
<pre><code>## 
##    0    1 
## 5668 2563</code></pre>
<p>Why do we create two dummy variables when there are more than two party categories? <em>We need to leave one category out as a reference group</em>. In this case, we are leaving out Independents and other party identifiers. The coefficients on our dummy variables will tell us how Democrats and Republicans differ from this reference group. (We will talk about this more in a future class.)</p>
</div>
<div id="the-bivariate-relationship-age-and-trump-evaluations" class="section level3 hasAnchor" number="10.202.2">
<h3><span class="header-section-number">10.202.2</span> The Bivariate Relationship: Age and Trump Evaluations<a href="references.html#the-bivariate-relationship-age-and-trump-evaluations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let us start by examining the simple relationship between age and Trump thermometer scores:</p>
<div class="sourceCode" id="cb710"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb710-1"><a href="references.html#cb710-1" tabindex="-1"></a><span class="co"># Simple regression: Trump thermometer predicted by age</span></span>
<span id="cb710-2"><a href="references.html#cb710-2" tabindex="-1"></a>model_age <span class="ot">&lt;-</span> <span class="fu">lm</span>(trump.th <span class="sc">~</span> age, <span class="at">data =</span> anes)</span>
<span id="cb710-3"><a href="references.html#cb710-3" tabindex="-1"></a><span class="fu">summary</span>(model_age)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = trump.th ~ age, data = anes)
## 
## Residuals:
##    Min     1Q Median     3Q    Max 
## -47.15 -38.13 -11.79  41.26  67.97 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 27.64585    1.43952  19.205   &lt;2e-16 ***
## age          0.24380    0.02661   9.162   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 40.11 on 7725 degrees of freedom
##   (553 observations deleted due to missingness)
## Multiple R-squared:  0.01075,    Adjusted R-squared:  0.01062 
## F-statistic: 83.95 on 1 and 7725 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>The coefficient on Age is positive and statistically significant (the p-value is very small). Specifically, each additional year of age is associated with about 0.24 points higher on the Trump thermometer scale. Over a 40-year age difference (say, comparing a 30-year-old to a 70-year-old), this amounts to about 9.6 points on the thermometer.</p>
<p>Let us visualize this relationship:</p>
<div class="sourceCode" id="cb712"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb712-1"><a href="references.html#cb712-1" tabindex="-1"></a><span class="fu">ggplot</span>(anes, <span class="fu">aes</span>(<span class="at">x =</span> age, <span class="at">y =</span> trump.th)) <span class="sc">+</span></span>
<span id="cb712-2"><a href="references.html#cb712-2" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.08</span>, <span class="at">width =</span> <span class="fl">0.5</span>, <span class="at">height =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb712-3"><a href="references.html#cb712-3" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">se =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb712-4"><a href="references.html#cb712-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Age (years)&quot;</span>,</span>
<span id="cb712-5"><a href="references.html#cb712-5" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Trump Feeling Thermometer (0-100)&quot;</span>,</span>
<span id="cb712-6"><a href="references.html#cb712-6" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Older Americans Express Warmer Feelings Toward Trump&quot;</span>,</span>
<span id="cb712-7"><a href="references.html#cb712-7" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Each additional year of age predicts 0.24 points higher on thermometer&quot;</span>) <span class="sc">+</span></span>
<span id="cb712-8"><a href="references.html#cb712-8" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Removed 553 rows containing non-finite outside the scale range (`stat_smooth()`).</code></pre>
<pre><code>## Warning: Removed 553 rows containing missing values or values outside the scale range
## (`geom_point()`).</code></pre>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-283-1.png" width="672" /></p>
<p>The positive relationship is hard to see visually given how many points there are, but notice the relative empty quadrant in the upper left (young voters with favorable feelings towards Trump). the red line recovers the overall linear relationship.</p>
<p>But is this a direct effect of age on Trump evaluations? Or could it be that older Americans are more likely to be Republicans, and Republicans obviously rate Trump much more warmly? This is where controlling for party identification becomes essential.</p>
</div>
<div id="adding-the-control-party-identification" class="section level3 hasAnchor" number="10.202.3">
<h3><span class="header-section-number">10.202.3</span> Adding the Control: Party Identification<a href="references.html#adding-the-control-party-identification" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now we will add party identification to our model to see whether the age relationship persists when we compare people of the same party:</p>
<div class="sourceCode" id="cb716"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb716-1"><a href="references.html#cb716-1" tabindex="-1"></a><span class="co"># Multiple regression: Trump thermometer predicted by age AND party</span></span>
<span id="cb716-2"><a href="references.html#cb716-2" tabindex="-1"></a>model_age_party <span class="ot">&lt;-</span> <span class="fu">lm</span>(trump.th <span class="sc">~</span> age <span class="sc">+</span> Democrat <span class="sc">+</span> Republican, <span class="at">data =</span> anes)</span>
<span id="cb716-3"><a href="references.html#cb716-3" tabindex="-1"></a><span class="fu">summary</span>(model_age_party)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = trump.th ~ age + Democrat + Republican, data = anes)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -83.106 -11.436  -6.096  18.446  94.792 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  30.55327    1.05530   28.95  &lt; 2e-16 ***
## age           0.11086    0.01857    5.97 2.48e-09 ***
## Democrat    -27.56271    0.76322  -36.11  &lt; 2e-16 ***
## Republican   43.68392    0.79204   55.15  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 27.74 on 7702 degrees of freedom
##   (574 observations deleted due to missingness)
## Multiple R-squared:  0.5273, Adjusted R-squared:  0.5271 
## F-statistic:  2864 on 3 and 7702 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>Let us carefully interpret each coefficient in this model:</p>
<p><strong>The intercept</strong> (30.55): This is the expected Trump thermometer score for a person with age zero who is neither a Democrat nor a Republican (i.e., an Independent or other party identifier). The age zero part is nonsensical, but the party interpretation is meaningful. It tells us that Independents and others give Trump an average score around 30 (actually at age zero, but we will see how age modifies this).</p>
<p><strong>The Age coefficient</strong> (0.11): This is the change in Trump thermometer score for each additional year of age, holding party identification constant. Notice that this coefficient is much smaller than the 0.24 we found in the bivariate model. When we control for party, the age effect is reduced. This tells us that part of the age relationship we observed earlier was due to older people being more likely to be Republicans. However, the coefficient is still positive and statistically significant, meaning there is still an age effect even within party groups.</p>
<p><strong>The Democrat coefficient</strong> (-27.56): This tells us how much Democrats differ from the reference group (Independents and others) in their Trump evaluations, holding age constant. Democrats rate Trump about 27.5 points lower than Independents of the same age. This is a massive difference and is highly statistically significant (p-value near zero). This makes sense given partisan polarization.</p>
<p><strong>The Republican coefficient</strong> (43.68): This tells us that Republicans rate Trump about 43.6 points higher than Independents of the same age. Combined with the intercept, this means older Republicans give Trump very high thermometer scores (approaching the maximum of 100), while younger Republicans give somewhat lower scores.</p>
<p>All three predictors are statistically significant, indicated by the very small p-values and the *** symbols. Their standard errors, t-statistics, and p-values are shown in the same rows as the coefficients.</p>
</div>
<div id="what-did-controlling-for-party-accomplish" class="section level3 hasAnchor" number="10.202.4">
<h3><span class="header-section-number">10.202.4</span> What Did Controlling for Party Accomplish?<a href="references.html#what-did-controlling-for-party-accomplish" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>By including party identification in our model, we learned something important: the age-Trump relationship is partially, but not entirely, explained by partisanship. Let us think about what this means:</p>
<p>The bivariate model found that each year of age increases Trump thermometer scores by 0.24 points. This mixes together two things: (1) older people tend to be more Republican, and Republicans love Trump, and (2) within each party, older people rate Trump somewhat more warmly.</p>
<p>The multiple regression model separates these effects. The reduced coefficient on Age (0.11 instead of 0.24) tells us the effect of age within party categories. The large coefficients on the party dummies tell us how much party identification matters.</p>
<p>If we had found that the Age coefficient dropped to near zero or became statistically insignificant after controlling for party, we would conclude that the age relationship was spurious, driven entirely by the partisan composition of age groups. But we did not find that. Even after controlling for party, age still predicts Trump evaluations. This suggests there is something about age itself (perhaps generational experiences, life circumstances, or values that shift with age) that influences Trump evaluations beyond just party identification.</p>
<p>This is the power of multiple regression: it allows us to disentangle relationships and test whether observed associations persist after accounting for potential confounders.</p>
</div>
</div>
<div id="a-step-by-step-guide-to-interpreting-regression-coefficients" class="section level2 hasAnchor" number="10.203">
<h2><span class="header-section-number">10.203</span> A Step-by-Step Guide to Interpreting Regression Coefficients<a href="references.html#a-step-by-step-guide-to-interpreting-regression-coefficients" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When you encounter regression output, follow these steps to interpret the coefficients:</p>
<p><strong>Step 1: Identify the coefficient of interest.</strong> Look at the row for the predictor variable you care about. In our Trump example, if we care about age, we look at the Age row.</p>
<p><strong>Step 2: Read the estimate.</strong> The number in the Estimate column is the coefficient. This tells you the change in the outcome for a one-unit increase in the predictor.</p>
<p><strong>Step 3: Add the “holding other variables constant” phrase.</strong> In multiple regression, every coefficient represents the relationship between that predictor and the outcome among observations with the same values of the control variables.</p>
<p><strong>Step 4: State the direction and magnitude.</strong> Say whether the relationship is positive or negative, and give the specific magnitude. For Age in our multiple model: “Each additional year of age is associated with a 0.11 point increase in Trump thermometer scores, holding party identification constant.”</p>
<p><strong>Step 5: Assess statistical significance.</strong> Look at the p-value (Pr(&gt;|t|) column). If it is below 0.05, we typically conclude there is strong evidence the relationship is not zero. Look for the asterisks as a quick visual cue.</p>
<p><strong>Step 6: Consider substantive significance.</strong> Even if a relationship is statistically significant, ask whether it is large enough to matter in practice. A 0.11 point difference per year of age is statistically significant but fairly small substantively compared to the 48-point difference between Democrats and Independents.</p>
<div id="understanding-standard-errors-and-t-statistics" class="section level3 hasAnchor" number="10.203.1">
<h3><span class="header-section-number">10.203.1</span> Understanding Standard Errors and t-statistics<a href="references.html#understanding-standard-errors-and-t-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The standard error (Std. Error column) measures the uncertainty in our coefficient estimate. Smaller standard errors mean more precise estimates. The t-statistic is calculated by dividing the coefficient by its standard error. Large absolute values of the t-statistic (typically above 2 or below -2) indicate statistical significance. R then converts this t-statistic to a p-value, which tells us the probability we would see a coefficient this large if the true relationship were zero.</p>
<p>You do not need to calculate these by hand, but understanding what they represent helps you read regression output intelligently. When you see a small p-value and asterisks, you know there is strong statistical evidence for a relationship. When you see a large p-value and no asterisks, you know the evidence is weak.</p>
</div>
</div>
<div id="visualizing-multiple-regression-results" class="section level2 hasAnchor" number="10.204">
<h2><span class="header-section-number">10.204</span> Visualizing Multiple Regression Results<a href="references.html#visualizing-multiple-regression-results" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While we cannot easily plot a three-dimensional regression plane, we can create visualizations that show how the relationship between our main predictor and outcome varies across levels of our control variable. This code is a bit advanced, and I will not ask you to do this on your problem sets or exam. But I’ll show the whole code in case you want to make something like this for your poster project.</p>
<div class="sourceCode" id="cb718"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb718-1"><a href="references.html#cb718-1" tabindex="-1"></a><span class="co"># Create predictions for different party groups</span></span>
<span id="cb718-2"><a href="references.html#cb718-2" tabindex="-1"></a>pred_data <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb718-3"><a href="references.html#cb718-3" tabindex="-1"></a>  <span class="at">age =</span> <span class="fu">seq</span>(<span class="dv">18</span>, <span class="dv">80</span>, <span class="at">by =</span> <span class="dv">1</span>),</span>
<span id="cb718-4"><a href="references.html#cb718-4" tabindex="-1"></a>  <span class="at">Democrat =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb718-5"><a href="references.html#cb718-5" tabindex="-1"></a>  <span class="at">Republican =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb718-6"><a href="references.html#cb718-6" tabindex="-1"></a>)</span>
<span id="cb718-7"><a href="references.html#cb718-7" tabindex="-1"></a></span>
<span id="cb718-8"><a href="references.html#cb718-8" tabindex="-1"></a><span class="co"># Remove impossible combinations (can&#39;t be both Democrat and Republican)</span></span>
<span id="cb718-9"><a href="references.html#cb718-9" tabindex="-1"></a>pred_data <span class="ot">&lt;-</span> pred_data <span class="sc">%&gt;%</span></span>
<span id="cb718-10"><a href="references.html#cb718-10" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(Democrat <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> Republican <span class="sc">==</span> <span class="dv">1</span>))</span>
<span id="cb718-11"><a href="references.html#cb718-11" tabindex="-1"></a></span>
<span id="cb718-12"><a href="references.html#cb718-12" tabindex="-1"></a><span class="co"># Make predictions</span></span>
<span id="cb718-13"><a href="references.html#cb718-13" tabindex="-1"></a>pred_data<span class="sc">$</span>predicted_trump <span class="ot">&lt;-</span> <span class="fu">predict</span>(model_age_party, <span class="at">newdata =</span> pred_data)</span>
<span id="cb718-14"><a href="references.html#cb718-14" tabindex="-1"></a></span>
<span id="cb718-15"><a href="references.html#cb718-15" tabindex="-1"></a><span class="co"># Create party label</span></span>
<span id="cb718-16"><a href="references.html#cb718-16" tabindex="-1"></a>pred_data <span class="ot">&lt;-</span> pred_data <span class="sc">%&gt;%</span></span>
<span id="cb718-17"><a href="references.html#cb718-17" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Party =</span> <span class="fu">case_when</span>(</span>
<span id="cb718-18"><a href="references.html#cb718-18" tabindex="-1"></a>    Democrat <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Democrat&quot;</span>,</span>
<span id="cb718-19"><a href="references.html#cb718-19" tabindex="-1"></a>    Republican <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Republican&quot;</span>,</span>
<span id="cb718-20"><a href="references.html#cb718-20" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;Independent/Other&quot;</span></span>
<span id="cb718-21"><a href="references.html#cb718-21" tabindex="-1"></a>  ))</span>
<span id="cb718-22"><a href="references.html#cb718-22" tabindex="-1"></a></span>
<span id="cb718-23"><a href="references.html#cb718-23" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb718-24"><a href="references.html#cb718-24" tabindex="-1"></a><span class="fu">ggplot</span>(pred_data, <span class="fu">aes</span>(<span class="at">x =</span> age, <span class="at">y =</span> predicted_trump, <span class="at">color =</span> Party)) <span class="sc">+</span></span>
<span id="cb718-25"><a href="references.html#cb718-25" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb718-26"><a href="references.html#cb718-26" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Age (years)&quot;</span>,</span>
<span id="cb718-27"><a href="references.html#cb718-27" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Predicted Trump Thermometer Score&quot;</span>,</span>
<span id="cb718-28"><a href="references.html#cb718-28" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Age and Trump Evaluations Across Party Groups&quot;</span>,</span>
<span id="cb718-29"><a href="references.html#cb718-29" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Controlling for party reveals age effects within partisan groups&quot;</span>,</span>
<span id="cb718-30"><a href="references.html#cb718-30" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&quot;Party ID&quot;</span>) <span class="sc">+</span></span>
<span id="cb718-31"><a href="references.html#cb718-31" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;Democrat&quot;</span> <span class="ot">=</span> <span class="st">&quot;blue&quot;</span>, </span>
<span id="cb718-32"><a href="references.html#cb718-32" tabindex="-1"></a>                                 <span class="st">&quot;Republican&quot;</span> <span class="ot">=</span> <span class="st">&quot;red&quot;</span>,</span>
<span id="cb718-33"><a href="references.html#cb718-33" tabindex="-1"></a>                                 <span class="st">&quot;Independent/Other&quot;</span> <span class="ot">=</span> <span class="st">&quot;gray50&quot;</span>)) <span class="sc">+</span></span>
<span id="cb718-34"><a href="references.html#cb718-34" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb718-35"><a href="references.html#cb718-35" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</span></code></pre></div>
<p><img src="Course-Content_files/figure-html/unnamed-chunk-285-1.png" width="672" /></p>
<p>This visualization shows three parallel lines, one for each party group. The fact that the lines are parallel (they have the same slope) reflects that the Age coefficient is the same for all groups in our model. The vertical distance between the lines shows the effect of party identification. And the slope of each line shows the effect of age <em>within</em> that party group.</p>
</div>
<div id="review-questions-2" class="section level2 hasAnchor" number="10.205">
<h2><span class="header-section-number">10.205</span> Review Questions<a href="references.html#review-questions-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="conceptual-understanding-5" class="section level3 hasAnchor" number="10.205.1">
<h3><span class="header-section-number">10.205.1</span> Conceptual Understanding<a href="references.html#conceptual-understanding-5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li><p>What is a confounding variable? Why do we need to control for confounders when estimating relationships in observational data?</p></li>
<li><p>In your own words, explain what it means to say we are “holding a variable constant” or “controlling for” a variable in multiple regression.</p></li>
<li><p>True or False: If we control for a confounder and the coefficient on our main predictor does not change, this means the confounder was not actually confounding the relationship. Explain your answer.</p></li>
</ol>
</div>
<div id="interpretation-practice" class="section level3 hasAnchor" number="10.205.2">
<h3><span class="header-section-number">10.205.2</span> Interpretation Practice<a href="references.html#interpretation-practice" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="4" style="list-style-type: decimal">
<li>Suppose we regress vote choice (0 = voted for Democrat, 1 = voted for Republican) on income (in thousands of dollars) and education (in years). We get the following results:</li>
</ol>
<pre><code>              Estimate  Std. Error  t value  Pr(&gt;|t|)
(Intercept)    0.15        0.12      1.25     0.211
Income         0.008       0.002     4.00     0.000
Education      0.025       0.013     1.92     0.006</code></pre>
<p>Interpret the coefficient on Income in a complete sentence, including the “holding constant” phrase.</p>
<ol start="5" style="list-style-type: decimal">
<li><p>Based on the output in Question 4, which variables have statistically significant relationships with vote choice? How do you know?</p></li>
<li><p>In the mtcars example, the coefficient on weight changed from -5.34 in the bivariate model to -3.88 in the multiple model that controlled for horsepower. Explain in plain language why this coefficient changed.</p></li>
</ol>
</div>
<div id="application-to-the-trump-example" class="section level3 hasAnchor" number="10.205.3">
<h3><span class="header-section-number">10.205.3</span> Application to the Trump Example<a href="references.html#application-to-the-trump-example" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="7" style="list-style-type: decimal">
<li><p>In our Trump thermometer example, the Age coefficient was 0.24 in the bivariate model and 0.11 in the multiple model that controlled for party. What does this tell us about the relationship between age, party identification, and Trump evaluations?</p></li>
<li><p>The coefficient on the Democrat dummy variable was large and negative. Write out the interpretation of this coefficient in a complete sentence. Make sure to mention what the reference group is and the fact we are controlling for age.</p></li>
<li><p>Imagine we added a control variable for education to our Trump model. What would it mean if the Age coefficient stayed at 0.11? What would it mean if the Age coefficient dropped to 0.05 and became statistically insignificant?</p></li>
</ol>
</div>
<div id="critical-thinking-6" class="section level3 hasAnchor" number="10.205.4">
<h3><span class="header-section-number">10.205.4</span> Critical Thinking<a href="references.html#critical-thinking-6" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="10" style="list-style-type: decimal">
<li><p>We controlled for party identification in our Trump example. Can you think of other variables that might confound the age-Trump relationship? For each confounder you identify, explain how it might relate to both age and Trump evaluations.</p></li>
<li><p>Controlling for confounders is essential for causal inference, but it is not sufficient. Even with many controls, why might we still be cautious about making causal claims from observational data?</p></li>
</ol>

<div class="sourceCode" id="cb720"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb720-1"><a href="references.html#cb720-1" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="advanced-topic-include-a-local-image.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="overview-when-predictions-go-wrong.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["Course Content.pdf", "Course Content.epub", "Course Content.mobi"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
